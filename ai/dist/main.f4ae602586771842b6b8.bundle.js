webpackJsonp([0],{"++JP":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(n("Idfp")),i=p(n("6E9d")),o=p(n("t6in")),s=n("hgeo"),a=n("LSkx"),u=p(n("4pkP")),l=p(n("fjY8")),c=h(n("ljiA"));function p(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}e.default=class extends o.default{constructor(t={}){super(t),Object.defineProperty(this,"_combine",{configurable:!0,enumerable:!0,writable:!0,value:(0,l.default)({args:["array","array","array","array"],body:function(t,e,n,r){}})}),this.layerClass="SimpleRNN";const{units:e=1,activation:n="tanh",use_bias:i=!0,return_sequences:o=!1,go_backwards:a=!1,stateful:u=!1}=t;this.units=e,this.activation=n,this.activationFunc=r[n],this.use_bias=i,this.returnSequences=o,this.goBackwards=a,this.stateful=u,this.params=this.use_bias?["kernel","recurrent_kernel","bias"]:["kernel","recurrent_kernel"],this.description=`output dimensions: ${this.units}`,this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.description+=this.returnSequences?", return sequences":"",this.description+=this.goBackwards?", backward direction":"",this.description+=this.stateful?", stateful":"",this.gpu&&(this.copyTextureProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n"),this.matMulProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n"),this.activationProgram=s.webgl2.compileProgram(c[this.activation]),this.gateSummationProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(bias, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n  float bias_val = texelFetch(bias, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val + t2_val + bias_val);\n}\n"),this.timestepReadProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n\n  outColor = vec4(texelFetch(x, ivec2(out_x, index), 0).r);\n}\n"),this.timestepWriteProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D y;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(y, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (out_y == index) {\n    outColor = vec4(texelFetch(x, ivec2(out_x, 0), 0).r);\n  } else {\n    outColor = vec4(texelFetch(y, ivec2(out_x, out_y), 0).r);\n  }\n}\n"))}setWeights(t){super.setWeights(t),this.use_bias||(this.weights.bias=new i.default([],[this.units]),this.gpu&&this.weights.bias.createGLTexture({type:"2d",format:"float"}))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const e=this.units,n=this.stateful&&this.currentHiddenState?this.currentHiddenState:new i.default([],[e]),r=new i.default([],[e]),o=new i.default([],[e]),s=new i.default([],[e]);this.hiddenStateSequence=new i.default([],[t.tensor.shape[0],e]);const l=new i.default([],[t.tensor.shape[1]]),c=()=>{u.default.assign(s.tensor,n.tensor),(0,a.gemv)(1,this.weights.kernel.tensor.transpose(1,0),l.tensor,1,r.tensor),(0,a.gemv)(1,this.weights.recurrent_kernel.tensor.transpose(1,0),s.tensor,1,o.tensor),this._combine(n.tensor,r.tensor,o.tensor,this.weights.bias.tensor),this.activationFunc(n)};for(let i=0,a=t.tensor.shape[0];i<a;i++)u.default.assign(l.tensor,t.tensor.pick(this.goBackwards?a-i-1:i,null)),[r,o].forEach(t=>u.default.assigns(t.tensor,0)),c(),this.returnSequences&&u.default.assign(this.hiddenStateSequence.tensor.pick(i,null),n.tensor);this.output=this.returnSequences?this.hiddenStateSequence:n,this.stateful&&(this.currentHiddenState=n)}_stepGPU(){s.webgl2.runProgram({program:this.copyTextureProgram,output:this.previousHiddenState,inputs:[{input:this.currentHiddenState,name:"source"}]}),s.webgl2.runProgram({program:this.matMulProgram,output:this.tempXH,inputs:[{input:this.currentX,name:"A"},{input:this.weights.kernel,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.matMulProgram,output:this.tempHH,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.recurrent_kernel,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentHiddenStatePreactiv,inputs:[{input:this.tempXH,name:"t1"},{input:this.tempHH,name:"t2"},{input:this.weights.bias,name:"bias"}]}),"linear"!==this.activation?s.webgl2.runProgram({program:this.activationProgram,output:this.currentHiddenState,inputs:[{input:this.currentHiddenStatePreactiv,name:"x"}]}):this.currentHiddenState=this.currentHiddenStatePreactiv}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"});const e=this.units;this.currentHiddenState&&this.stateful||(this.currentHiddenState=new i.default([],[e]),this.currentHiddenState.createGLTexture({type:"2d",format:"float"})),this.currentHiddenStatePreactiv||(this.currentHiddenStatePreactiv=new i.default([],[e]),this.currentHiddenStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXH||(this.tempXH=new i.default([],[e]),this.tempXH.createGLTexture({type:"2d",format:"float"})),this.tempHH||(this.tempHH=new i.default([],[e]),this.tempHH.createGLTexture({type:"2d",format:"float"})),this.previousHiddenState||(this.previousHiddenState=new i.default([],[e]),this.previousHiddenState.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequence||(this.hiddenStateSequence=new i.default([],[t.glTextureShape[0],e]),this.hiddenStateSequence.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequenceCopy||(this.hiddenStateSequenceCopy=new i.default([],[t.glTextureShape[0],e]),this.hiddenStateSequenceCopy.createGLTexture({type:"2d",format:"float"})),this.currentX||(this.currentX=new i.default([],[t.glTextureShape[1]]),this.currentX.createGLTexture({type:"2d",format:"float"}));for(let n=0,r=t.glTextureShape[0];n<r;n++)s.webgl2.runProgram({program:this.timestepReadProgram,output:this.currentX,inputs:[{input:t,name:"x"}],uniforms:[{value:this.goBackwards?r-n-1:n,type:"int",name:"index"}]}),this._stepGPU(),this.returnSequences&&(s.webgl2.runProgram({program:this.copyTextureProgram,output:this.hiddenStateSequenceCopy,inputs:[{input:this.hiddenStateSequence,name:"source"}]}),s.webgl2.runProgram({program:this.timestepWriteProgram,output:this.hiddenStateSequence,inputs:[{input:this.currentHiddenState,name:"x"},{input:this.hiddenStateSequenceCopy,name:"y"}],uniforms:[{value:n,type:"int",name:"index"}]}));this.output=this.returnSequences?this.hiddenStateSequence:this.currentHiddenState,0===this.outbound.length&&this.output.transferFromGLTexture()}}},"+2+s":function(t,e,n){"use strict";var r=n("Ds5P"),i=n("49qz")(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},"+66z":function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},"+CM9":function(t,e,n){"use strict";var r=n("Ds5P"),i=n("ot5s")(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n("NNrz")(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},"+CnV":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e,r=n("AMGY").a.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}()},"+Mt+":function(t,e,n){"use strict";var r=n("Ds5P"),i=n("7gX0"),o=n("OzIq"),s=n("7O1s"),a=n("nphH");r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},"+ZKk":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[${t}];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${e[0]}) * outTex.y);\n  int out_x = int(float(${e[1]}) * outTex.x);\n\n  float val = texelFetch(inputs[0], ivec2(out_x, out_y), 0).r;\n  for (int i = 1; i < ${t}; i++) {\n    val = max(val, texelFetch(inputs[i], ivec2(out_x, out_y), 0).r);\n  }\n\n  outColor = vec4(val);\n}\n`}},"+gg+":function(t,e,n){var r=n("TQ3y");t.exports=r["__core-js_shared__"]},"+jZj":function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},"+vXH":function(t,e,n){n("77Ug")("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},"+yjc":function(t,e,n){var r=n("UKM+");n("3i66")("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},"/CLv":function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i=t.data,o=e.data,s=t.stride[0],a=e.stride[0],u=t.offset,l=e.offset;for(n=t.shape[0]-1;n>=0;n--,u+=s,l+=a)r=i[u],i[u]=o[l],o[l]=r}},"/GnY":function(t,e,n){var r=n("HT7L"),i=n("W529"),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},"/I3N":function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},"/Lbh":function(t,e,n){"use strict";e.Service=n("qr4O")},"/iUD":function(t,e,n){"use strict";e.a=function(t){return"function"==typeof t}},"/nXB":function(t,e,n){"use strict";var r=n("YaPU"),i=n("TToO"),o=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return Object(i.b)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.value,n=t.subscriber;t.done?n.complete():(n.next(e),n.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(r.a),s=function(t){function e(e){t.call(this),this.scheduler=e}return Object(i.b)(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(r.a);function a(t){return t&&"function"==typeof t.schedule}var u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(i.b)(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];a(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o(t[0],r):new s(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.subscriber;n>=t.count?r.complete():(r.next(e[n]),r.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(r.a),l=n("AMGY"),c=n("dgOU"),p=function(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var s=i[o];if("entries"!==s&&"size"!==s&&r.prototype[s]===r.prototype.entries)return s}return"@@iterator"}(l.a),h=n("OVmG"),f=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return Object(i.b)(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(h.a),d=n("+CnV"),g=function(t){function e(){t.apply(this,arguments)}return Object(i.b)(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(h.a),m=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new v(t,this.project,this.resultSelector,this.concurrent))},t}(),v=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return Object(i.b)(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(function(t,e,n,i){var o,s=new f(t,n,i);if(s.closed)return null;if(e instanceof r.a)return e._isScalar?(s.next(e.value),s.complete(),null):(s.syncErrorThrowable=!0,e.subscribe(s));if((o=e)&&"number"==typeof o.length){for(var a=0,u=e.length;a<u&&!s.closed;a++)s.next(e[a]);s.closed||s.complete()}else{if(e&&"function"!=typeof e.subscribe&&"function"==typeof e.then)return e.then(function(t){s.closed||(s.next(t),s.complete())},function(t){return s.error(t)}).then(null,function(t){l.a.setTimeout(function(){throw t})}),s;if(e&&"function"==typeof e[p])for(var h=e[p]();;){var g=h.next();if(g.done){s.complete();break}if(s.next(g.value),s.closed)break}else if(e&&"function"==typeof e[d.a]){var m=e[d.a]();if("function"==typeof m.subscribe)return m.subscribe(new f(t,n,i));s.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v=Object(c.a)(e)?"an invalid object":"'"+e+"'";s.error(new TypeError("You provided "+v+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}}return null}(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(g);function y(t){return t}e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return a(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===i&&1===t.length&&t[0]instanceof r.a?t[0]:function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof e&&(n=e,e=null),r.lift(new m(t,e,n))}}(y,null,t)}(n)(new u(t,i))}},"/sk4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"SimpleRNN",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"LSTM",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"GRU",{enumerable:!0,get:function(){return o.default}});var r=s(n("++JP")),i=s(n("iH+F")),o=s(n("br7k"));function s(t){return t&&t.__esModule?t:{default:t}}},"/whu":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},0:function(t,e,n){t.exports=n("x35b")},"037f":function(t,e,n){var r=n("1oyr"),i=n("p0bc"),o=n("wSKX");t.exports=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o},"07k+":function(t,e,n){for(var r,i=n("OzIq"),o=n("2p1q"),s=n("ulTY"),a=s("typed_array"),u=s("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,p=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");p<9;)(r=i[h[p++]])?(o(r.prototype,a,!0),o(r.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:a,VIEW:u}},"0Eil":function(t,e,n){"use strict";t.exports=function(t){var e,n,r,i=-1/0,o=t.data,s=t.stride[0],a=t.offset,u=t.shape[0];for(e=0;e<u;e++,a+=s)(n=Math.abs(o[a]))>i&&(i=n,r=e);return r}},"0NNb":function(t,e,n){"use strict";var r=n("d0R1");t.exports=function(t,e,n,i,o){var s=new Error(t);return r(s,e,n,i,o)}},"0Qa9":function(t,e,n){(function(e,n){var r;r=function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){return i(e[s][1][t]||t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function n(t){var n=new e(t),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},{}],2:[function(t,n,r){"use strict";var i;try{throw new Error}catch(t){i=t}var o=t("./schedule"),s=t("./queue"),a=t("./util");function u(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new s(16),this._normalQueue=new s(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=o}function l(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function c(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function p(t){this._normalQueue._pushOne(t),this._queueTick()}u.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},u.prototype.hasCustomScheduler=function(){return this._customScheduler},u.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},u.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},u.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},u.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},u.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},a.hasDevTools?(u.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?l.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},u.prototype.invoke=function(t,e,n){this._trampolineEnabled?c.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},u.prototype.settlePromises=function(t){this._trampolineEnabled?p.call(this,t):this._schedule(function(){t._settlePromises()})}):(u.prototype.invokeLater=l,u.prototype.invoke=c,u.prototype.settlePromises=p),u.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},u.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},u.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},u.prototype._reset=function(){this._isTickUsed=!1},n.exports=u,n.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var l=n(o),c=new t(e);c._propagateFrom(this,1);var p=this._target();if(c._setBoundTo(l),l instanceof t){var h={promiseRejectionQueued:!1,promise:c,target:p,bindingPromise:l};p._then(e,s,void 0,c,h),l._then(a,u,void 0,c,h),c._setOnCancel(l)}else c._resolveCallback(p);return c},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=t("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(t){}return i},e.exports=i},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){var n=t("./util"),r=n.canEvaluate;function i(t){return function(t,r){var i;if(null!=t&&(i=t[r]),"function"!=typeof i){var o="Object "+n.classString(t)+" has no method '"+n.toString(r)+"'";throw new e.TypeError(o)}return i}(t,this.pop()).apply(t,this)}function o(t){return t[this]}function s(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(i,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e;if("number"==typeof t)e=s;else if(r){var n=(void 0)(t);e=null!==n?n:o}else e=o;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=t("./es5").keys,i=n.tryCatch,o=n.errorObj;return function(t,s,a){return function(u){var l=a._boundValue();t:for(var c=0;c<t.length;++c){var p=t[c];if(p===Error||null!=p&&p.prototype instanceof Error){if(u instanceof p)return i(s).call(l,u)}else if("function"==typeof p){var h=i(p).call(l,u);if(h===o)return h;if(h)return i(s).call(l,u)}else if(n.isObject(u)){for(var f=r(p),d=0;d<f.length;++d){var g=f[d];if(p[g]!=u[g])continue t}return i(s).call(l,u)}}return e}}}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){var e=!1,n=[];function r(){this._trace=new r.CapturedTrace(i())}function i(){var t=n.length-1;if(t>=0)return n[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var t=n.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},r.CapturedTrace=null,r.create=function(){if(e)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=i,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},r}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){var i,o,s,a=n._getDomain,u=n._async,l=t("./errors").Warning,c=t("./util"),p=c.canAttachTrace,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,f=/\((?:timers\.js):\d+:\d+\)/,d=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,g=null,m=null,v=!1,y=!(0==c.env("BLUEBIRD_DEBUG")),_=!(0==c.env("BLUEBIRD_WARNINGS")||!y&&!c.env("BLUEBIRD_WARNINGS")),x=!(0==c.env("BLUEBIRD_LONG_STACK_TRACES")||!y&&!c.env("BLUEBIRD_LONG_STACK_TRACES")),b=0!=c.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(_||!!c.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout(function(){t._notifyUnhandledRejection()},1)}},n.prototype._notifyUnhandledRejectionIsHandled=function(){V("rejectionHandled",i,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),V("unhandledRejection",o,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return U(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=a();o="function"==typeof t?null===e?t:c.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=a();i="function"==typeof t?null===e?t:c.domainBind(e,t):void 0};var w=function(){};n.longStackTraces=function(){if(u.haveItemsQueued()&&!K.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!K.longStackTraces&&H()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;K.longStackTraces=!0,w=function(){if(u.haveItemsQueued()&&!K.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),u.enableTrampoline(),K.longStackTraces=!1},n.prototype._captureStackTrace=L,n.prototype._attachExtraTrace=N,r.activateLongStackTraces(),u.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return K.longStackTraces&&H()};var S=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return c.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!c.global.dispatchEvent(n)}}return"function"==typeof Event?(t=new Event("CustomEvent"),c.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!c.global.dispatchEvent(n)}):((t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),c.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!c.global.dispatchEvent(n)})}catch(t){}return function(){return!1}}(),P=c.isNode?function(){return e.emit.apply(e,arguments)}:c.global?function(t){var e="on"+t.toLowerCase(),n=c.global[e];return!!n&&(n.apply(c.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function T(t,e){return{promise:e}}var C={promiseCreated:T,promiseFulfilled:T,promiseRejected:T,promiseResolved:T,promiseCancelled:T,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:T},E=function(t){var e=!1;try{e=P.apply(null,arguments)}catch(t){u.throwLater(t),e=!0}var n=!1;try{n=S(t,C[t].apply(null,arguments))}catch(t){u.throwLater(t),n=!0}return n||e};function M(){return!1}function k(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+c.toString(t));r._attachCancellationCallback(t)})}catch(t){return t}}function O(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?c.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function A(){return this._onCancelField}function D(t){this._onCancelField=t}function I(){this._cancellationParent=void 0,this._onCancelField=void 0}function F(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}n.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&w()),"warnings"in t){var e=t.warnings;K.warnings=!!e,b=K.warnings,c.isObject(e)&&"wForgottenReturn"in e&&(b=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!K.cancellation){if(u.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=I,n.prototype._propagateFrom=F,n.prototype._onCancel=A,n.prototype._setOnCancel=D,n.prototype._attachCancellationCallback=O,n.prototype._execute=k,j=F,K.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!K.monitoring?(K.monitoring=!0,n.prototype._fireEvent=E):!t.monitoring&&K.monitoring&&(K.monitoring=!1,n.prototype._fireEvent=M)),n},n.prototype._fireEvent=M,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var j=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)};function R(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function L(){this._trace=new Z(this._peekContext())}function N(t,e){if(p(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=G(t);c.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),c.notEnumerableProp(t,"__stackCleaned__",!0)}}}function U(t,e,r){if(K.warnings){var i,o=new l(t);if(e)r._attachExtraTrace(o);else if(K.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var s=G(o);o.stack=s.message+"\n"+s.stack.join("\n")}E("warning",o)||B(o,"",!0)}}function z(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||g.test(r),o=i&&W(r);i&&!o&&(v&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function G(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||g.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:z(e)}}function B(t,e,n){var r;"undefined"!=typeof console&&(r=c.isObject(t)?e+m(t.stack,t):e+String(t),"function"==typeof s?s(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r))}function V(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){u.throwLater(t)}"unhandledRejection"===t?E(t,n,r)||i||B(n,"Unhandled rejection "):E(t,r)}function q(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():c.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(e)+">, no stack trace)"}function H(){return"function"==typeof $}var W=function(){return!1},Y=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function X(t){var e=t.match(Y);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function Z(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);$(this,Z),e>32&&this.uncycle()}c.inherits(Z,Error),r.CapturedTrace=Z,Z.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;for(r=(t=this._length=r)-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<t;++r){var s=n[e[r].stack];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var a=r>0?e[r-1]:this;s<t-1?(a._parent=e[s+1],a._parent.uncycle(),a._length=a._parent._length+1):(a._parent=void 0,a._length=1);for(var u=a._length+1,l=r-2;l>=0;--l)e[l]._length=u,u++;return}}}},Z.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=G(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(z(i.stack.split("\n"))),i=i._parent;!function(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(a=s;a>=0&&e[i]===r[a];--a)e.pop(),i--;e=r}}(r),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(r),c.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,r)),c.notEnumerableProp(t,"__stackCleaned__",!0)}};var $=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():q(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,g=t,m=e;var n=Error.captureStackTrace;return W=function(t){return h.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return g=/@/,m=e,v=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){r="stack"in t}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(m=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?q(e):e.toString()},null):(g=t,m=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(s=function(t){console.warn(t)},c.isNode&&e.stderr.isTTY?s=function(t,e){console.warn((e?"\x1b[33m":"\x1b[31m")+t+"\x1b[0m\n")}:c.isNode||"string"!=typeof(new Error).stack||(s=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var K={warnings:_,longStackTraces:!1,cancellation:!1,monitoring:!1};return x&&n.longStackTraces(),{longStackTraces:function(){return K.longStackTraces},warnings:function(){return K.warnings},cancellation:function(){return K.cancellation},monitoring:function(){return K.monitoring},propagateFromFunction:function(){return j},boundValueFunction:function(){return R},checkForgottenReturns:function(t,e,n,r,i){if(void 0===t&&null!==e&&b){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),u=z(a),l=u.length-1;l>=0;--l){var c=u[l];if(!f.test(c)){var p=c.match(d);p&&(o="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(u.length>0){var h=u[0];for(l=0;l<a.length;++l)if(a[l]===h){l>0&&(s="\n"+a[l-1]);break}}}r._warn("a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s,!0,e)}},setBounds:function(t,e){if(H()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),s=-1,a=-1,u=0;u<i.length;++u)if(l=X(i[u])){n=l.fileName,s=l.line;break}for(u=0;u<o.length;++u){var l;if(l=X(o[u])){r=l.fileName,a=l.line;break}}s<0||a<0||!n||!r||n!==r||s>=a||(W=function(t){if(h.test(t))return!0;var e=X(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}},warn:U,deprecated:function(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),U(n)},CapturedTrace:Z,fireDomEvent:S,fireGlobalEvent:P}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1];return this.caught(t,function(){throw e})},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(n,function(){return r})}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}t.prototype.each=function(t){return n(this,t,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return n(this,t,e,e)},t.each=function(t,r){return n(t,r,e,0)._then(i,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return n(t,r,e,e)}}},{}],12:[function(t,e,n){"use strict";var r,i,o=t("./es5"),s=o.freeze,a=t("./util"),u=a.inherits,l=a.notEnumerableProp;function c(t,e){function n(r){if(!(this instanceof n))return new n(r);l(this,"message","string"==typeof r?r:e),l(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(n,Error),n}var p=c("Warning","warning"),h=c("CancellationError","cancellation error"),f=c("TimeoutError","timeout error"),d=c("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(t){r=c("TypeError","type error"),i=c("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)"function"==typeof Array.prototype[g[m]]&&(d.prototype[g[m]]=Array.prototype[g[m]]);o.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var v=0;function y(t){if(!(this instanceof y))return new y(t);l(this,"name","OperationalError"),l(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(l(this,"message",t.message),l(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var t=Array(4*v+1).join(" "),e="\n"+t+"AggregateError of:\n";v++,t=Array(4*v+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];e+=(r=i.join("\n"))+"\n"}return v--,e},u(y,Error);var _=Error.__BluebirdErrorTypes__;_||(_=s({CancellationError:h,TimeoutError:f,OperationalError:y,RejectionError:y,AggregateError:d}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};e.exports={isArray:function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}},keys:a,names:a,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return s}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.CancellationError,s=i.errorObj,a=t("./catch_filter")(r);function u(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function l(t){this.finallyHandler=t}function c(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function p(){return f.call(this,this.promise._target()._settledValue())}function h(t){if(!c(this,t))return s.e=t,s}function f(t){var i=this.promise,a=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?a.call(i._boundValue()):a.call(i._boundValue(),t);if(u===r)return u;if(void 0!==u){i._setReturnedNonUndefined();var f=n(u,i);if(f instanceof e){if(null!=this.cancelPromise){if(f._isCancelled()){var d=new o("late cancellation observer");return i._attachExtraTrace(d),s.e=d,s}f.isPending()&&f._attachCancellationCallback(new l(this))}return f._then(p,h,void 0,this,void 0)}}}return i.isRejected()?(c(this),s.e=t,s):(c(this),t)}return u.prototype.isFinallyHandler=function(){return 0===this.type},l.prototype._resultCancelled=function(){c(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new u(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,f,f)},e.prototype.tap=function(t){return this._passThrough(t,1,f)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,f);var r,o=new Array(n-1),s=0;for(r=0;r<n-1;++r){var u=arguments[r];if(!i.isObject(u))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(u)));o[s++]=u}return o.length=s,this._passThrough(a(o,arguments[r],this),1,void 0,f)},u}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./errors").TypeError,u=t("./util"),l=u.errorObj,c=u.tryCatch,p=[];function h(t,n,i,o){if(s.cancellation()){var a=new e(r),u=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return u}),a._captureStackTrace(),a._setOnCancel(this)}else(this._promise=new e(r))._captureStackTrace();this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}u.inherits(h,o),h.prototype._isResolved=function(){return null===this._promise},h.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if("undefined"!=typeof this._generator.return)this._promise._pushContext(),t=c(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=c(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},h.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=c(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},h.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=c(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(t){var n=this._promise;if(t===l)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof e||null!==(o=function(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=c(n[o])(t);if(r._popContext(),s===l){r._pushContext();var a=e.reject(l.e);return r._popContext(),a}var u=i(s,r);if(u instanceof e)return u}return null}(o,this._yieldHandlers,this._promise))){var s=(o=o._target())._bitField;0==(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=h,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("expecting a function but got "+u.classString(t));p.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new h(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){t("./util"),e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);var r=[].slice.call(arguments);t&&r.pop();var i=new n(r).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=e._getDomain,u=t("./util"),l=u.tryCatch,c=u.errorObj,p=e._async;function h(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=a();this._callback=null===i?e:u.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}function f(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+u.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));s=i.concurrency}return new h(t,n,s="number"==typeof s&&isFinite(s)&&s>=1?s:0,o).promise()}u.inherits(h,n),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(n<0){if(r[n=-1*n-1]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var p=this._promise,h=this._callback,f=p._boundValue();p._pushContext();var d=l(h).call(f,t,n,o),g=p._popContext();if(s.checkForgottenReturns(d,g,null!==a?"Promise.filter":"Promise.map",p),d===c)return this._reject(d.e),!0;var m=i(d,this._promise);if(m instanceof e){var v=(m=m._target())._bitField;if(0==(50397184&v))return u>=1&&this._inFlight++,r[n]=m,m._proxy(this,-1*(n+1)),!1;if(0==(33554432&v))return 0!=(16777216&v)?(this._reject(m._reason()),!0):(this._cancel(),!0);d=m._value()}r[n]=d}return++this._totalResolved>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},h.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},h.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},h.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return f(this,t,e,null)},e.map=function(t,e,n,r){return f(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r,u=new e(n);if(u._captureStackTrace(),u._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],c=arguments[2];r=s.isArray(l)?a(t).apply(c,l):a(t).call(c,l)}else r=a(t)();var p=u._popContext();return o.checkForgottenReturns(r,p,"Promise.try",u),u._resolveFromSyncValue(r),u},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";var r=t("./util"),i=r.maybeWrapAsError,o=t("./errors").OperationalError,s=t("./es5"),a=/^(?:name|message|stack|cause)$/;e.exports=function(t,e){return function(n,u){if(null!==t){if(n){var l=function(t){var e;if(function(t){return t instanceof Error&&s.getPrototypeOf(t)===Error.prototype}(t)){(e=new o(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=s.keys(t),i=0;i<n.length;++i){var u=n[i];a.test(u)||(e[u]=t[u])}return e}return r.markAsOriginatingFromRejection(t),t}(i(n));t._attachExtraTrace(l),t._reject(l)}else if(e){var c=[].slice.call(arguments,1);t._fulfill(c)}else t._fulfill(u);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=e._async,i=n.tryCatch,o=n.errorObj;function s(t,e){if(!n.isArray(t))return a.call(this,t,e);var s=i(e).apply(this._boundValue(),[null].concat(t));s===o&&r.throwLater(s.e)}function a(t,e){var n=this._boundValue(),s=void 0===t?i(e).call(n,null):i(e).call(n,null,t);s===o&&r.throwLater(s.e)}function u(t,e){if(!t){var n=new Error(t+"");n.cause=t,t=n}var s=i(e).call(this._boundValue(),t);s===o&&r.throwLater(s.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var n=a;void 0!==e&&Object(e).spread&&(n=s),this._then(n,u,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){var r=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},i=function(){return new k.PromiseInspection(this._target())},o=function(t){return k.reject(new d(t))};function s(){}var a,u={},l=t("./util");l.notEnumerableProp(k,"_getDomain",a=l.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null});var c=t("./es5"),p=t("./async"),h=new p;c.defineProperty(k,"_async",{value:h});var f=t("./errors"),d=k.TypeError=f.TypeError;k.RangeError=f.RangeError;var g=k.CancellationError=f.CancellationError;k.TimeoutError=f.TimeoutError,k.OperationalError=f.OperationalError,k.RejectionError=f.OperationalError,k.AggregateError=f.AggregateError;var m=function(){},v={},y={},_=t("./thenables")(k,m),x=t("./promise_array")(k,m,_,o,s),b=t("./context")(k),w=b.create,S=t("./debuggability")(k,b),P=t("./finally")(k,_,y),T=t("./catch_filter")(y),C=t("./nodeback"),E=l.errorObj,M=l.tryCatch;function k(t){t!==m&&function(t,e){if(null==t||t.constructor!==k)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new d("expecting a function but got "+l.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function O(t){this.promise._resolveCallback(t)}function A(t){this.promise._rejectCallback(t,!1)}function D(t){var e=new k(m);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return k.prototype.toString=function(){return"[object Promise]"},k.prototype.caught=k.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var s=arguments[n];if(!l.isObject(s))return o("Catch statement predicate: expecting an object but got "+l.classString(s));r[i++]=s}return r.length=i,this.then(void 0,T(r,t=arguments[n],this))}return this.then(void 0,t)},k.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},k.prototype.then=function(t,e){if(S.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+l.classString(t);arguments.length>1&&(n+=", "+l.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},k.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},k.prototype.spread=function(t){return"function"!=typeof t?o("expecting a function but got "+l.classString(t)):this.all()._then(t,void 0,void 0,v,void 0)},k.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},k.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},k.prototype.error=function(t){return this.caught(l.originatesFromRejection,t)},k.getNewLibraryCopy=n.exports,k.is=function(t){return t instanceof k},k.fromNode=k.fromCallback=function(t){var e=new k(m);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=M(t)(C(e,n));return r===E&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},k.all=function(t){return new x(t).promise()},k.resolve=k.fulfilled=k.cast=function(t){var e=_(t);return e instanceof k||((e=new k(m))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},k.reject=k.rejected=function(t){var e=new k(m);return e._captureStackTrace(),e._rejectCallback(t,!0),e},k.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+l.classString(t));return h.setScheduler(t)},k.prototype._then=function(t,e,n,r,i){var o=void 0!==i,s=o?i:new k(m),u=this._target(),c=u._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&c)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var p=a();if(0!=(50397184&c)){var f,d,v=u._settlePromiseCtx;0!=(33554432&c)?(d=u._rejectionHandler0,f=t):0!=(16777216&c)?(d=u._fulfillmentHandler0,f=e,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,d=new g("late cancellation observer"),u._attachExtraTrace(d),f=e),h.invoke(v,u,{handler:null===p?f:"function"==typeof f&&l.domainBind(p,f),promise:s,receiver:r,value:d})}else u._addCallbacks(t,e,s,r,p);return s},k.prototype._length=function(){return 65535&this._bitField},k.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},k.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},k.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},k.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},k.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},k.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},k.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},k.prototype._isFinal=function(){return(4194304&this._bitField)>0},k.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},k.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},k.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},k.prototype._setAsyncGuaranteed=function(){h.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},k.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==u)return void 0===e&&this._isBound()?this._boundValue():e},k.prototype._promiseAt=function(t){return this[4*t-4+2]},k.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},k.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},k.prototype._boundValue=function(){},k.prototype._migrateCallback0=function(t){var e=t._fulfillmentHandler0,n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=u),this._addCallbacks(e,n,r,i,null)},k.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=u),this._addCallbacks(n,r,i,o,null)},k.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:l.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:l.domainBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===i?t:l.domainBind(i,t)),"function"==typeof e&&(this[s+1]=null===i?e:l.domainBind(i,e))}return this._setLength(o+1),o},k.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},k.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(r(),!1);var n=_(t,this);if(!(n instanceof k))return this._fulfill(t);e&&this._propagateFrom(n,2);var i=n._target();if(i!==this){var o=i._bitField;if(0==(50397184&o)){var s=this._length();s>0&&i._migrateCallback0(this);for(var a=1;a<s;++a)i._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!=(33554432&o))this._fulfill(i._value());else if(0!=(16777216&o))this._reject(i._reason());else{var u=new g("late cancellation observer");i._attachExtraTrace(u),this._reject(u)}}else this._reject(r())}},k.prototype._rejectCallback=function(t,e,n){var r=l.ensureErrorObject(t),i=r===t;if(!i&&!n&&S.warnings()){var o="a promise was rejected with a non-error: "+l.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},k.prototype._resolveFromExecutor=function(t){if(t!==m){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},k.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0==(65536&i)){var o;r._pushContext(),e===v?n&&"number"==typeof n.length?o=M(t).apply(this._boundValue(),n):(o=E).e=new d("cannot .spread() a non-array: "+l.classString(n)):o=M(t).call(e,n);var s=r._popContext();0==(65536&(i=r._bitField))&&(o===y?r._reject(n):o===E?r._rejectCallback(o.e,!1):(S.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},k.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},k.prototype._followee=function(){return this._rejectionHandler0},k.prototype._setFollowee=function(t){this._rejectionHandler0=t},k.prototype._settlePromise=function(t,e,n,r){var o=t instanceof k,a=this._bitField,u=0!=(134217728&a);0!=(65536&a)?(o&&t._invokeInternalOnCancel(),n instanceof P&&n.isFinallyHandler()?(n.cancelPromise=t,M(e).call(n,r)===E&&t._reject(E.e)):e===i?t._fulfill(i.call(n)):n instanceof s?n._promiseCancelled(t):o||t instanceof x?t._cancel():n.cancel()):"function"==typeof e?o?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,r,t)):e.call(n,r,t):n instanceof s?n._isResolved()||(0!=(33554432&a)?n._promiseFulfilled(r,t):n._promiseRejected(r,t)):o&&(u&&t._setAsyncGuaranteed(),0!=(33554432&a)?t._fulfill(r):t._reject(r))},k.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof k?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof k&&n._reject(i)},k.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},k.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},k.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},k.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=r();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():h.settlePromises(this))}},k.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return h.fatalError(t,l.isNode);(65535&e)>0?h.settlePromises(this):this._ensurePossibleRejectionHandled()}},k.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},k.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},k.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},k.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},k.defer=k.pending=function(){return S.deprecated("Promise.defer","new Promise"),{promise:new k(m),resolve:O,reject:A}},l.notEnumerableProp(k,"_makeSelfResolutionError",r),t("./method")(k,m,_,o,S),t("./bind")(k,m,_,S),t("./cancel")(k,x,o,S),t("./direct_resolve")(k),t("./synchronous_inspection")(k),t("./join")(k,x,_,m,h,a),k.Promise=k,k.version="3.5.1",t("./map.js")(k,x,o,_,m,S),t("./call_get.js")(k),t("./using.js")(k,o,_,w,m,S),t("./timers.js")(k,m,S),t("./generators.js")(k,o,m,_,s,S),t("./nodeify.js")(k),t("./promisify.js")(k,m),t("./props.js")(k,x,_,o),t("./race.js")(k,m,_,o),t("./reduce.js")(k,x,o,_,m,S),t("./settle.js")(k,x,S),t("./some.js")(k,x,o),t("./filter.js")(k,m),t("./each.js")(k,m),t("./any.js")(k),l.toFastProperties(k),l.toFastProperties(k.prototype),D({a:1}),D({b:2}),D({c:3}),D(1),D(function(){}),D(void 0),D(!1),D(new k(m)),S.setBounds(p.firstLineError,l.lastLineError),k}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util");function a(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function t(n,o){var a=r(this._values,this._promise);if(a instanceof e){var u=(a=a._target())._bitField;if(this._values=a,0==(50397184&u))return this._promise._setAsyncGuaranteed(),a._then(t,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(a._reason()):this._cancel();a=a._value()}if(null!==(a=s.asArray(a)))0!==a.length?this._iterate(a):-5===o?this._resolveEmptyArray():this._resolve(function(t){switch(o){case-2:return[];case-3:return{};case-6:return new Map}}());else{var l=i("expecting an array or an iterable object but got "+s.classString(a)).reason();this._promise._rejectCallback(l,!1)}},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<n;++a){var u=r(t[a],i);s=u instanceof e?(u=u._target())._bitField:null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0==(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!=(33554432&s)?this._promiseFulfilled(u._value(),a):0!=(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){var r={},i=t("./util"),o=t("./nodeback"),s=i.withAppended,a=i.maybeWrapAsError,u=i.canEvaluate,l=t("./errors").TypeError,c={__isPromisified__:!0},p=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),h=function(t){return i.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function f(t){return!p.test(t)}function d(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function g(t,e,n){var r=i.getDataPropertyOrDefault(t,e+n,c);return!!r&&d(r)}var m=function(t){return t.replace(/([$])/,"\\$")},v=u?void 0:function(t,u,l,c,p,h){var f=function(){return this}(),d=t;function g(){var i=u;u===r&&(i=this);var l=new e(n);l._captureStackTrace();var c="string"==typeof d&&this!==f?this[d]:t,p=o(l,h);try{c.apply(i,s(arguments,p))}catch(t){l._rejectCallback(a(t),!0,!0)}return l._isFateSealed()||l._setAsyncGuaranteed(),l}return"string"==typeof d&&(t=c),i.notEnumerableProp(g,"__isPromisified__",!0),g};function y(t,e,n,o,s){for(var a=new RegExp(m(e)+"$"),u=function(t,e,n,r){for(var o=i.inheritedDataKeys(t),s=[],a=0;a<o.length;++a){var u=o[a],c=t[u],p=r===h||h(u,c,t);"function"!=typeof c||d(c)||g(t,u,e)||!r(u,c,t,p)||s.push(u,c)}return function(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new l("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(s,e,n),s}(t,e,a,n),c=0,p=u.length;c<p;c+=2){var f=u[c],y=u[c+1],_=f+e;if(o===v)t[_]=v(f,r,f,y,e,s);else{var x=o(y,function(){return v(f,r,f,y,e,s)});i.notEnumerableProp(x,"__isPromisified__",!0),t[_]=x}}return i.toFastProperties(t),t}e.promisify=function(t,e){if("function"!=typeof t)throw new l("expecting a function but got "+i.classString(t));if(d(t))return t;var n=function(t,n,r){return v(t,n,void 0,t,null,!!e.multiArgs)}(t,void 0===(e=Object(e)).context?r:e.context);return i.copyDescriptors(t,n,f),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new l("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(e=Object(e)).multiArgs,r=e.suffix;"string"!=typeof r&&(r="Async");var o=e.filter;"function"!=typeof o&&(o=h);var s=e.promisifier;if("function"!=typeof s&&(s=v),!i.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=i.inheritedDataKeys(t),u=0;u<a.length;++u){var c=t[a[u]];"constructor"!==a[u]&&i.isClass(c)&&(y(c.prototype,r,o,s,n),y(c,r,o,s,n))}return y(t,r,o,s,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o,s=t("./util"),a=s.isObject,u=t("./es5");"function"==typeof Map&&(o=Map);var l=function(){var t=0,e=0;function n(n,r){this[t]=n,this[t+e]=r,t++}return function(r){e=r.size,t=0;var i=new Array(2*r.size);return r.forEach(n,i),i}}();function c(t){var e,n=!1;if(void 0!==o&&t instanceof o)e=l(t),n=!0;else{var r=u.keys(t),i=r.length;e=new Array(2*i);for(var s=0;s<i;++s){var a=r[s];e[s]=t[a],e[s+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function p(t){var n,o=r(t);return a(o)?(n=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new c(o).promise(),o instanceof e&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(c,n),c.prototype._init=function(){},c.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(t){for(var e=new o,n=t.length/2|0,r=0;r<n;++r)e.set(t[n+r],t[r]);return e}(this._values);else{n={};for(var r=this.length(),i=0,s=this.length();i<s;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return p(this)},e.props=function(t){return p(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},r.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+0],t[o+0]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=r},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=function(t){return t.then(function(e){return a(e,t)})};function a(t,a){var u=r(t);if(u instanceof e)return s(u);if(null===(t=o.asArray(t)))return i("expecting an array or an iterable object but got "+o.classString(t));var l=new e(n);void 0!==a&&l._propagateFrom(a,3);for(var c=l._fulfill,p=l._reject,h=0,f=t.length;h<f;++h){var d=t[h];(void 0!==d||h in t)&&e.cast(d)._then(c,p,void 0,l,null)}return l}e.race=function(t){return a(t,void 0)},e.prototype.race=function(){return a(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=e._getDomain,u=t("./util"),l=u.tryCatch;function c(t,n,r,i){this.constructor$(t);var s=a();this._fn=null===s?n:u.domainBind(s,n),void 0!==r&&(r=e.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function p(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function h(t,e,n,i){return"function"!=typeof e?r("expecting a function but got "+u.classString(e)):new c(t,e,n,i).promise()}function f(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(t){var n,r=this.array,i=r._promise,o=l(r._fn);i._pushContext(),(n=void 0!==r._eachValues?o.call(i._boundValue(),t,this.index,this.length):o.call(i._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(r._currentCancellable=n);var a=i._popContext();return s.checkForgottenReturns(n,a,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}u.inherits(c,n),c.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},c.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},c.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},c.prototype._iterate=function(t){var n,r;this._values=t;var i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r)n=n._then(f,void 0,void 0,{accum:null,value:t[r],index:r,length:i,array:this},void 0);void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(p,p,void 0,n,this)},e.prototype.reduce=function(t,e){return h(this,t,e,null)},e.reduce=function(t,e,n,r){return h(t,e,n,r)}}},{"./util":36}],29:[function(t,r,i){"use strict";var o,s,a,u,l,c=t("./util"),p=c.getNativePromise();if(c.isNode&&"undefined"==typeof MutationObserver){var h=n.setImmediate,f=e.nextTick;o=c.isRecentNode?function(t){h.call(n,t)}:function(t){f.call(e,t)}}else if("function"==typeof p&&"function"==typeof p.resolve){var d=p.resolve();o=function(t){d.then(t)}}else o="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(s=document.createElement("div"),a={attributes:!0},u=!1,l=document.createElement("div"),new MutationObserver(function(){s.classList.toggle("foo"),u=!1}).observe(l,a),function(t){var e=new MutationObserver(function(){e.disconnect(),t()});e.observe(s,a),u||(u=!0,l.classList.toggle("foo"))});r.exports=o},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=e.PromiseInspection;function o(t){this.constructor$(t)}t("./util").inherits(o,n),o.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(t,e){var n=new i;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},o.prototype._promiseRejected=function(t,e){var n=new i;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=t("./errors").RangeError,s=t("./errors").AggregateError,a=i.isArray,u={};function l(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function c(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new l(t),i=n.promise();return n.setHowMany(e),n.init(),i}i.inherits(l,n),l.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=a(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(t){this._howMany=t},l.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},l.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new s,e=this.length();e<this._values.length;++e)this._values[e]!==u&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(t){this._values.push(t)},l.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(t){return new o("Input array must contain at least "+this._howMany+" items but contains only "+t+" items")},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return c(t,e)},e.prototype.some=function(t){return c(this,t)},e._SomePromiseArray=l}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){var r=t("./util"),i=r.errorObj,o=r.isObject,s={}.hasOwnProperty;return function(t,a){if(o(t)){if(t instanceof e)return t;var u=function(t){try{return function(t){return t.then}(t)}catch(t){return i.e=t,i}}(t);if(u===i){a&&a._pushContext();var l=e.reject(u.e);return a&&a._popContext(),l}if("function"==typeof u)return function(t){try{return s.call(t,"_promise0")}catch(t){return!1}}(t)?(l=new e(n),t._then(l._fulfill,l._reject,void 0,l,null),l):function(t,o,s){var a=new e(n),u=a;s&&s._pushContext(),a._captureStackTrace(),s&&s._popContext();var l=!0,c=r.tryCatch(o).call(t,function(t){a&&(a._resolveCallback(t),a=null)},function(t){a&&(a._rejectCallback(t,l,!0),a=null)});return l=!1,a&&c===i&&(a._rejectCallback(c.e,!0,!0),a=null),u}(t,u,a)}return t}}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(t){return u(+this).thenReturn(t)},u=e.delay=function(t,i){var o,u;return void 0!==i?(o=e.resolve(i)._then(a,null,null,t,void 0),r.cancellation()&&i instanceof e&&o._setOnCancel(i)):(o=new e(n),u=setTimeout(function(){o._fulfill()},+t),r.cancellation()&&o._setOnCancel(new s(u)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};function l(t){return clearTimeout(this.handle),t}function c(t){throw clearTimeout(this.handle),t}e.prototype.delay=function(t){return u(t,this)},e.prototype.timeout=function(t,e){var n,a;t=+t;var u=new s(setTimeout(function(){n.isPending()&&function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new o("operation timed out"):new o(e),i.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()}(n,e,a)},t));return r.cancellation()?(a=this.then(),(n=a._then(l,c,void 0,u,void 0))._setOnCancel(u)):n=this._then(l,c,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util"),u=t("./errors").TypeError,l=t("./util").inherits,c=a.errorObj,p=a.tryCatch,h={};function f(t){setTimeout(function(){throw t},0)}function d(t,e,n){this._data=t,this._promise=e,this._context=n}function g(t,e,n){this.constructor$(t,e,n)}function m(t){return d.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function v(t){this.length=t,this.promise=null,this[t-1]=null}d.prototype.data=function(){return this._data},d.prototype.promise=function(){return this._promise},d.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},d.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==h?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},d.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},l(g,d),g.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},v.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i,u=arguments[t-1];if("function"!=typeof u)return n("expecting a function but got "+a.classString(u));var l=!0;2===t&&Array.isArray(arguments[0])?(t=(i=arguments[0]).length,l=!1):(i=arguments,t--);for(var h=new v(t),g=0;g<t;++g){var y=i[g];if(d.isDisposer(y)){var _=y;(y=y.promise())._setDisposable(_)}else{var x=r(y);x instanceof e&&(y=x._then(m,null,null,{resources:h,index:g},void 0))}h[g]=y}var b=new Array(h.length);for(g=0;g<b.length;++g)b[g]=e.resolve(h[g]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return c.e=n.error(),c;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}S._pushContext(),u=p(u);var r=l?u.apply(void 0,t):u(t),i=S._popContext();return s.checkForgottenReturns(r,i,"Promise.using",S),r}),S=w.lastly(function(){var t=new e.PromiseInspection(w);return function(t,n){var i=0,s=t.length,a=new e(o);return function o(){if(i>=s)return a._fulfill();var u=function(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[i++]);if(u instanceof e&&u._isDisposable()){try{u=r(u._getDisposer().tryDispose(n),t.promise)}catch(t){return f(t)}if(u instanceof e)return u._then(o,f,null,null,null)}o()}(),a}(h,t)});return h.promise=S,S._setOnCancel(h),S},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,i());throw new u}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";var o,s=t("./es5"),a="undefined"==typeof navigator,u={e:{}},l="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null;function c(){try{var t=o;return o=null,t.apply(this,arguments)}catch(t){return u.e=t,u}}function p(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function h(t,e,n){return p(t)?t:(s.defineProperty(t,e,{value:n,configurable:!0,enumerable:!1,writable:!0}),t)}var f=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(s.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(t){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var l=Object.getOwnPropertyDescriptor(t,u);null!=l&&null==l.get&&null==l.set&&r.push(u)}}t=s.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),d=/this\s*\.\s*\S+\s*=/,g=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function v(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function y(t){return v(t)&&s.propertyIsWritable(t,"stack")}var _="stack"in new Error?function(t){return y(t)?t:new Error(m(t))}:function(t){if(y(t))return t;try{throw new Error(m(t))}catch(t){return t}};function x(t){return{}.toString.call(t)}var b=function(t){return s.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var w="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};b=function(t){return s.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?w(t):null}}var S,P="undefined"!=typeof e&&"[object process]"===x(e).toLowerCase(),T="undefined"!=typeof e&&"undefined"!=typeof e.env,C={isClass:function(t){try{if("function"==typeof t){var e=s.names(t.prototype),n=s.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=d.test(t+"")&&s.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return g.test(t)},inheritedDataKeys:f,getDataPropertyOrDefault:function(t,e,n){if(!s.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0},thrower:function(t){throw t},isArray:s.isArray,asArray:b,notEnumerableProp:h,isPrimitive:p,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:v,canEvaluate:a,errorObj:u,tryCatch:function(t){return o=t,c},inherits:function(t,e){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}return r.prototype=e.prototype,t.prototype=new r,t.prototype},withAppended:function(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i},maybeWrapAsError:function(t){return p(t)?new Error(m(t)):t},toFastProperties:function(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t},filledRange:function(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r},toString:m,canAttachTrace:y,ensureErrorObject:_,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{h(t,"isOperational",!0)}catch(t){}},classString:x,copyDescriptors:function(t,e,n){for(var r=s.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{s.defineProperty(e,o,s.getDescriptor(t,o))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:P,hasEnvVariables:T,env:function(t){return T?e.env[t]:void 0},global:l,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,e){return t.bind(e)}};C.isRecentNode=C.isNode&&(0===(S=e.versions.node.split(".").map(Number))[0]&&S[1]>10||S[0]>0),C.isNode&&C.toFastProperties(e);try{throw new Error}catch(t){C.lastLineError=t}r.exports=C},{"./es5":13}]},{},[4])(4)},t.exports=r(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n("W2nU"),n("DuR2"))},"0Rih":function(t,e,n){"use strict";var r=n("OzIq"),i=n("Ds5P"),o=n("R3AP"),s=n("A16L"),a=n("1aA0"),u=n("vmSO"),l=n("9GpA"),c=n("UKM+"),p=n("zgIt"),h=n("qkyc"),f=n("yYvK"),d=n("kic5");t.exports=function(t,e,n,g,m,v){var y=r[t],_=y,x=m?"set":"add",b=_&&_.prototype,w={},S=function(t){var e=b[t];o(b,t,"delete"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(v||b.forEach&&!p(function(){(new _).entries().next()}))){var P=new _,T=P[x](v?{}:-0,1)!=P,C=p(function(){P.has(1)}),E=h(function(t){new _(t)}),M=!v&&p(function(){for(var t=new _,e=5;e--;)t[x](e,e);return!t.has(-0)});E||((_=e(function(e,n){l(e,_,t);var r=d(new y,e,_);return void 0!=n&&u(n,m,r[x],r),r})).prototype=b,b.constructor=_),(C||M)&&(S("delete"),S("has"),m&&S("get")),(M||T)&&S(x),v&&b.clear&&delete b.clear}else _=g.getConstructor(e,t,m,x),s(_.prototype,n),a.NEED=!0;return f(_,t),w[t]=_,i(i.G+i.W+i.F*(_!=y),w),v||g.setStrong(_,t,m),_}},"0Tc2":function(t,e,n){"use strict";t.exports=o;var r=n("bKx7");(o.prototype=Object.create(r.prototype)).constructor=o;var i=n("Zcec");function o(t){r.call(this,t)}i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice),o.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},"0Yc3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=f(n("t6in")),i=f(n("6E9d")),o=h(n("Idfp")),s=n("hgeo"),a=f(n("YUKD")),u=h(n("7a8O")),l=f(n("4pkP")),c=f(n("wm4K")),p=h(n("ljiA"));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Conv3D";const{filters:e=1,kernel_size:n=[1,1,1],strides:r=[1,1,1],padding:i="valid",data_format:a="channels_last",dilation_rate:u=[1,1,1],activation:l="linear",use_bias:c=!0}=t;this.kernelShape=Array.isArray(n)?[e,...n]:[e,n,n,n],this.strides=Array.isArray(r)?r:[r,r,r],"valid"===i||"same"===i?this.padding=i:this.throwError("Invalid padding."),"channels_last"===a||"channels_first"===a?this.dataFormat=a:this.throwError("Only channels_last and channels_first data formats are allowed."),this.dilationRate=Array.isArray(u)?u:[u,u,u],1===this.dilationRate[0]&&1===this.dilationRate[1]&&1===this.dilationRate[2]||1===this.strides[0]&&1===this.strides[1]&&1===this.strides[2]||this.throwError("Incompatible combination of dilation_rate with strides."),this.activation=l,this.activationFunc=o[l],this.useBias=c,this.params=this.useBias?["kernel","bias"]:["kernel"],this.description=`${this.kernelShape[0]} ${this.kernelShape.slice(1).join("x")} filters`,this.description+=this.strides.some(t=>t>1)?`, ${this.strides.join("x")} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.description+=this.dilationRate.some(t=>t>1)?`, ${this.dilationRate.join("x")} dilation`:"",this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.gpu&&(this.mapInputProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"),this.mapInputFragmentsProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(indexMap, 0);\n  int out_x = int(float(outputSize[0]) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    int fragmentIndex = int(floor(float(rowIndex) / float(inputSize[1])));\n    rowIndex = int(mod(float(rowIndex), float(inputSize[1])));\n    colIndex = fragmentIndex * inputCols + colIndex;\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"),this.matMulProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n"),this.activationProgram=s.webgl2.compileProgram(p[this.activation]))}setWeights(t){"channels_first"===this.dataFormat&&(t[0].tensor=t[0].tensor.transpose(2,3,4,1,0)),super.setWeights(t,!1),this._w2row(),this.gpu&&(this.weights.kernel=this.wRowsMat,this.weights.kernel.createGLTexture({type:"2d",format:"float"}),this.useBias&&this.weights.bias.createGLTexture({type:"2d",format:"float"}))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_calcOutputShape(t){if(this.outputShape&&this.inputPadding)return;const e=t[0],n=t[1],r=t[2],[i,o,s,a]=this.kernelShape,u=o+(o-1)*(this.dilationRate[0]-1),l=s+(s-1)*(this.dilationRate[1]-1),c=a+(a-1)*(this.dilationRate[2]-1),p="same"===this.padding?Math.floor((e+this.strides[0]-1)/this.strides[0]):Math.floor((e-u+this.strides[0])/this.strides[0]),h="same"===this.padding?Math.floor((n+this.strides[1]-1)/this.strides[1]):Math.floor((n-l+this.strides[1])/this.strides[1]),f="same"===this.padding?Math.floor((r+this.strides[2]-1)/this.strides[2]):Math.floor((r-c+this.strides[2])/this.strides[2]),d=i,g="same"===this.padding?Math.max(0,Math.floor((p-1)*this.strides[0]+u-e)):0,m="same"===this.padding?Math.max(0,Math.floor((h-1)*this.strides[1]+l-n)):0,v="same"===this.padding?Math.max(0,Math.floor((f-1)*this.strides[2]+c-r)):0,y=Math.floor(g/2),_=g-y,x=Math.floor(m/2),b=m-x,w=Math.floor(v/2),S=v-w;this.outputShape=[p,h,f,d],this.inputPadding=[y,_,x,b,w,S]}_padInput(t,e=0){if("same"===this.padding){const[n,r,o,s]=t.tensor.shape,[a,u,c,p,h,f]=this.inputPadding,d=new i.default([],[n+a+u,r+c+p,o+h+f,s]);return 0!==e&&l.default.assigns(d.tensor,e),l.default.assign(d.tensor.hi(n+a,r+c,o+h,s).lo(a,c,h,0),t.tensor),d}return t}_vol2col(t){const[e,n,r,o]=t.tensor.shape,s=this.kernelShape[1],a=this.kernelShape[2],u=this.kernelShape[3],c=s*a*u*o,p=s+(s-1)*(this.dilationRate[0]-1),h=a+(a-1)*(this.dilationRate[1]-1),f=u+(u-1)*(this.dilationRate[2]-1);if(this.volColsMat||(this.volColsMat=new i.default([],[this.outputShape[0]*this.outputShape[1]*this.outputShape[2],c])),1===p&&1===h&&1===f&&1===this.strides[0]&&1===this.strides[1]&&1===this.strides[2])return this.volColsMat.replaceTensorData(t.tensor.data),this.volColsMat;const d=new i.default([],[s,a,u,o]);let g=0;for(let i=0,m=e-p;i<=m;i+=this.strides[0])for(let e=0,s=n-h;e<=s;e+=this.strides[1])for(let n=0,a=r-f;n<=a;n+=this.strides[2])l.default.assign(d.tensor,t.tensor.hi(i+p,e+h,n+f,o).lo(i,e,n,0).step(this.dilationRate[0],this.dilationRate[1],this.dilationRate[2],1)),this.volColsMat.tensor.data.set(d.tensor.data,g),g+=c;return this.volColsMat}_w2row(){const t=this.weights.kernel.tensor.shape[3],[e,n,r,o]=this.kernelShape,s=n*r*o*t;this.wRowsMat=new i.default([],[s,e]);const a=new i.default([],[n,r,o,t]),u=new i.default([],[s]);for(let i=0;i<e;i++)l.default.assign(a.tensor,this.weights.kernel.tensor.pick(null,null,null,null,i)),u.replaceTensorData(a.tensor.data),l.default.assign(this.wRowsMat.tensor.pick(null,i),u.tensor);return this.wRowsMat}_callCPU(t){this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._vol2col(t);const e=this.kernelShape[0],n=this.outputShape[0],r=this.outputShape[1],o=this.outputShape[2],s=new i.default([],[n*r*o,e]);if(this.useBias)for(let i=0;i<e;i++)l.default.assigns(s.tensor.pick(null,i),this.weights.bias.tensor.get(i));(0,c.default)(s.tensor,this.volColsMat.tensor,this.wRowsMat.tensor,1,1),this.output=new i.default([],this.outputShape);let a=new i.default([],[n*r*o]),u=new i.default([],[n,r,o]);for(let i=0;i<e;i++)l.default.assign(a.tensor,s.tensor.pick(null,i)),u.replaceTensorData(a.tensor.data),l.default.assign(this.output.tensor.pick(null,null,null,i),u.tensor);this.activationFunc(this.output),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(3,0,1,2))}_createIndexMap(t){if(this.indexMap)return;let[e,n,r,o]=this.inputShape,s=new i.default(t.data,t.shape,{type:Int32Array});if("same"===this.padding){const[t,i,o,a,u,l]=this.inputPadding;e=e+t+i,n=n+o+a,r=r+u+l,s=this._padInput(s,-1)}const a=this.kernelShape[1],u=this.kernelShape[2],c=this.kernelShape[3],p=a*u*c*o,h=a+(a-1)*(this.dilationRate[0]-1),f=u+(u-1)*(this.dilationRate[1]-1),d=c+(c-1)*(this.dilationRate[2]-1);this.indexMap=new i.default([],[this.outputShape[0]*this.outputShape[1]*this.outputShape[2],p],{type:Int32Array});const g=new i.default([],[a,u,c,o]);let m=0;for(let i=0,v=e-h;i<=v;i+=this.strides[0])for(let t=0,e=n-f;t<=e;t+=this.strides[1])for(let n=0,a=r-d;n<=a;n+=this.strides[2])l.default.assign(g.tensor,s.tensor.hi(i+h,t+f,n+d,o).lo(i,t,n,0).step(this.dilationRate[0],this.dilationRate[1],this.dilationRate[2],1)),this.indexMap.tensor.data.set(g.tensor.data,m),m+=p;this.indexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){let e;if(t.is2DReshaped||t.is2DSquareReshaped?(this.inputShape=t.originalShape,this._calcOutputShape(this.inputShape),this._createIndexMap(t.indicesForReshaped),e=[this.indexMap.glTextureShape[0],this.weights.kernel.glTextureShape[1]]):(this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._vol2col(t),this.volColsMat.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),e=[this.volColsMat.glTextureShape[0],this.weights.kernel.glTextureShape[1]]),"linear"===this.activation||this.outputPreactiv||(this.outputPreactiv=new i.default([],e),this.outputPreactiv.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.outputPreactiv.is2DReshaped=!0,this.outputPreactiv.originalShape=this.outputShape,this.outputPreactiv.indicesForReshaped=u.createIndicesFor2DReshaped(this.outputShape,!1,-1)),this.output||(this.output=new i.default([],e),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=u.createIndicesFor2DReshaped(this.outputShape,!1,-1)),t.is2DReshaped||t.is2DSquareReshaped){const e=Boolean(t.glTextureFragments);if(e&&t.convert2DRowFragmentedGLTextureToColStack(),!this.convProgram){const n=(0,a.default)("conv2d",this.output.glTextureFragmentShape?this.output.glTextureFragmentShape:this.output.glTextureShape,t.glTextureFragmentShape?t.glTextureFragmentShape:t.glTextureShape,this.indexMap.glTextureFragmentShape?this.indexMap.glTextureFragmentShape:this.indexMap.glTextureShape,this.useBias,e);this.convProgram=s.webgl2.compileProgram(n)}s.webgl2.runProgram({program:this.convProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"},{input:this.weights.kernel,name:"kernel"},...this.useBias?[{input:this.weights.bias,name:"bias"}]:[]],supportsTextureFragments:!0}),e&&t.removeGLTextureFragmentsAsColStack()}else{const t=[{input:this.volColsMat,name:"A"},{input:this.weights.kernel,name:"B"}];this.useBias&&t.push({input:this.weights.bias,name:"C"}),s.webgl2.runProgram({program:this.matMulProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:t,uniforms:[{value:this.useBias?1:0,type:"bool",name:"addC"}],supportsTextureFragments:!0})}"linear"!==this.activation&&s.webgl2.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(3,0,1,2)))}}},"0j1G":function(t,e,n){"use strict";var r=n("Ds5P");t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},"0pGU":function(t,e,n){"use strict";var r=n("DIVP");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"16tV":function(t,e,n){var r=n("tO4o"),i=n("ktak");t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],s=t[o];e[n]=[o,s,r(s)]}return e}},"1A13":function(t,e,n){"use strict";var r=n("49qz")(!0);n("uc2A")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},"1C79":function(t,e,n){var r=n("uIr7"),i=n("Qp3N");t.exports=function t(e,n,o,s,a){var u=-1,l=e.length;for(o||(o=i),a||(a=[]);++u<l;){var c=e[u];n>0&&o(c)?n>1?t(c,n-1,o,s,a):r(a,c):s||(a[a.length]=c)}return a}},"1ETD":function(t,e,n){var r=n("kkCw")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},"1TIj":function(t,e,n){"use strict";(function(t,r){var i=n("eWjs"),o=n("AL2p");t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var s="undefined"!=typeof Uint8ClampedArray,a=t.__TYPEDARRAY_POOL;a.UINT8C||(a.UINT8C=o([32,0])),a.BUFFER||(a.BUFFER=o([32,0]));var u=a.DATA,l=a.BUFFER;function c(t){if(t){var e=i.log2(t.length||t.byteLength);u[e].push(t)}}function p(t){t=i.nextPow2(t);var e=i.log2(t),n=u[e];return n.length>0?n.pop():new ArrayBuffer(t)}function h(t){return new Uint8Array(p(t),0,t)}function f(t){return new Uint16Array(p(2*t),0,t)}function d(t){return new Uint32Array(p(4*t),0,t)}function g(t){return new Int8Array(p(t),0,t)}function m(t){return new Int16Array(p(2*t),0,t)}function v(t){return new Int32Array(p(4*t),0,t)}function y(t){return new Float32Array(p(4*t),0,t)}function _(t){return new Float64Array(p(8*t),0,t)}function x(t){return s?new Uint8ClampedArray(p(t),0,t):h(t)}function b(t){return new DataView(p(t),0,t)}function w(t){t=i.nextPow2(t);var e=i.log2(t),n=l[e];return n.length>0?n.pop():new r(t)}e.free=function(t){if(r.isBuffer(t))l[i.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=0|i.log2(t.length||t.byteLength);u[e].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=function(t){c(t.buffer)},e.freeArrayBuffer=c,e.freeBuffer=function(t){l[i.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return p(t);switch(e){case"uint8":return h(t);case"uint16":return f(t);case"uint32":return d(t);case"int8":return g(t);case"int16":return m(t);case"int32":return v(t);case"float":case"float32":return y(t);case"double":case"float64":return _(t);case"uint8_clamped":return x(t);case"buffer":return w(t);case"data":case"dataview":return b(t);default:return null}return null},e.mallocArrayBuffer=p,e.mallocUint8=h,e.mallocUint16=f,e.mallocUint32=d,e.mallocInt8=g,e.mallocInt16=m,e.mallocInt32=v,e.mallocFloat32=e.mallocFloat=y,e.mallocFloat64=e.mallocDouble=_,e.mallocUint8Clamped=x,e.mallocDataView=b,e.mallocBuffer=w,e.clearCache=function(){for(var t=0;t<32;++t)a.UINT8[t].length=0,a.UINT16[t].length=0,a.UINT32[t].length=0,a.INT8[t].length=0,a.INT16[t].length=0,a.INT32[t].length=0,a.FLOAT[t].length=0,a.DOUBLE[t].length=0,a.UINT8C[t].length=0,u[t].length=0,l[t].length=0}}).call(e,n("DuR2"),n("EuP9").Buffer)},"1Yb9":function(t,e,n){var r=n("mgnk"),i=n("UnEC"),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=u},"1aA0":function(t,e,n){var r=n("ulTY")("meta"),i=n("UKM+"),o=n("WBcL"),s=n("lDLk").f,a=0,u=Object.isExtensible||function(){return!0},l=!n("zgIt")(function(){return u(Object.preventExtensions({}))}),c=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},p=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return l&&p.NEED&&u(t)&&!o(t,r)&&c(t),t}}},"1ip3":function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},"1jBc":function(t,e,n){"use strict";t.exports=function(t,e,n,l,c){var p=["gemm",t[0],t[1],"a",e[0],e[1],"b",n[0],n[1],l?"alpha":"",c?"beta":""].join(""),h=["function ",p,"(o,a,b,A,B){","var ",i("o",t),i("a",e),i("b",n),"i,j,k;"];return h.push.apply(h,"r"===e[0]&&"c"===n[0]?function(t,e,n,r,i){var l=[],c="r"===t[0]?[1,0]:[0,1],p=[1,0],h=[0,1],f=["i","j"];return l.push.apply(l,o(c,"o",t)),c[1]?(l.push("for(j=0;j<od1;++j){"),l.push("for(i=0;i<od0;++i){")):(l.push("for(i=0;i<od0;++i){"),l.push("for(j=0;j<od1;++j){")),l.push.apply(l,o(p,"a",e,"i")),l.push.apply(l,o(h,"b",n,void 0,"j")),l.push("var r=0.0;","for(k=0;k<ad1;++k){","r+=",u(p,"a",e,"i","k"),"*",u(h,"b",n,"k","j"),";"),l.push.apply(l,s(p,"a",e,0,"k")),l.push.apply(l,s(h,"b",n,0,"k")),l.push("}"),r&&l.push("r*=A;"),i&&l.push("r+=B*",u(c,"o",t,"i","j"),";"),l.push.apply(l,a(c,"o",t,"i","j","r")),l.push.apply(l,s(c,"o",t,0,f[1])),l.push("}"),l.push.apply(l,s(c,"o",t,1,f[0])),l.push("}"),l}(t,e,n,l,c):function(t,e,n,i,l){var c=[],p=["od0","od1","ad1"],h=[1,0],f=[1,0],d=[0,1];c.push.apply(c,function(t,e){var n,r=[],i="r"===t[0]?[1,0]:[0,1];return e&&r.push("if(B!==1.0){"),r.push.apply(r,o(i,"o",t)),i[0]?(r.push("for(i=0;i<od0;++i){for(j=0;j<od1;++j){"),n=["i","j"]):(r.push("for(j=0;j<od1;++j){for(i=0;i<od0;++i){"),n=["j","i"]),r.push.apply(r,a(i,"o",t,"i","j",e?"B*"+u(i,"o",t,"i","j"):"0")),r.push.apply(r,s(i,"o",t,0,n[1])),r.push("}"),r.push.apply(r,s(i,"o",t,1,n[0])),r.push("}"),e&&r.push("}"),r}(t,l));for(var g=0;g<3;++g)c.push("for(var i",g,"=",p[g],";i",g,">0;){","var w",g,"=",r,";","if(i",g,"<",r,"){","w",g,"=i",g,";","i",g,"=0;","}else{","i",g,"-=",r,";","}");c.push.apply(c,o(h,"o",t,"i0","i1","w1")),c.push("for(i=0;i<w0;++i){for(j=0;j<w1;++j){var r=0.0;"),c.push.apply(c,o(f,"a",e,"(i0+i)","i2")),c.push.apply(c,o(d,"b",n,"i2","(i1+j)")),c.push("for(k=0;k<w2;++k){"),c.push("r+=",u(f,"a",e,"(i0+i)","(i2+k)"),"*",u(d,"b",n,"(i2+k)","(i1+j)"),";"),c.push.apply(c,s(f,"a",e,0,"(i2+k)")),c.push.apply(c,s(d,"b",n,0,"(i2+k)")),c.push("}");var m="r";return i&&(m="A*r"),c.push.apply(c,a(h,"o",t,"(i0+i)","(i1+j)",m+"+"+u(h,"o",t,"(i0+i)","(i1+j)"))),c.push.apply(c,s(h,"o",t,0,"(i1+j)")),c.push("}"),c.push.apply(c,s(h,"o",t,1,"(i0+i)")),c.push("}}}}"),c}(t,e,n,l,c)),h.push("}return ",p),new Function(h.join(""))()};var r=32;function i(t,e){return"native"===e[1]?[t,"d0=",t,".length,",t,"d1=",t,"[0].length,"].join(""):[t,"d0=",t,".shape[0],",t,"d1=",t,".shape[1],",t,"s0=",t,".stride[0],",t,"s1=",t,".stride[1],",t,"o=",t,".offset,",t,"d=",t,".data,"].join("")}function o(t,e,n,r,i,o){var s=[];return"native"===n[1]?t[0]&&(r?s.push("var ",e,"p=",e,"[",r,"];"):s.push("var ",e,"p=",e,"[0];")):r&&i?o?s.push("var ",e,"t0=",e,"s",t[0],",",e,"t1=",e,"s",t[1],"-",e,"s",t[0],"*",o,",",e,"p=",e,"o+",r,"*",e,"s0+",i,"*",e,"s1;"):s.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",r,"*",e,"s0+",i,"*",e,"s1;"):r?s.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",r,"*",e,"s0;"):i?s.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",i,"*",e,"s1;"):s.push("var ",e,"t0=",e,"s",t[0],",",e,"t1=",e,"s",t[1],"-",e,"s",t[0],"*",e,"d",t[0],",",e,"p=",e,"o;"),s}function s(t,e,n,r,i){var o=[];return"native"===n[1]?t[0]&&1===r&&o.push(e,"p=",e,"[",i,"+1]"):o.push(e,"p+=",e,"t",r,";"),o}function a(t,e,n,r,i,o){var s=[];return"native"===n[1]?t[0]?s.push(e,"p[",i,"]=",o,";"):s.push(e,"[",r,"][",i,"]=",o,";"):"generic"===n[1]?s.push(e,"d.set(",e,"p,",o,");"):s.push(e,"d[",e,"p]=",o,";"),s}function u(t,e,n,r,i){var o=[];return"native"===n[1]?t[0]?o.push(e,"p[",i,"]"):o.push(e,"[",r,"][",i,"]"):"generic"===n[1]?o.push(e,"d.get(",e,"p)"):o.push(e,"d[",e,"p]"),o.join("")}},"1lgc":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("hygk")),i=s(n("t6in")),o=s(n("6E9d"));function s(t){return t&&t.__esModule?t:{default:t}}e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="InputLayer";const{shape:e=[]}=t;this.shape=t.batch_input_shape&&t.batch_input_shape.length?t.batch_input_shape.slice(1):e,this.description=`shape: ${JSON.stringify(this.shape)}`}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.inputShape=t.tensor.shape,(0,r.default)(this.inputShape,this.shape)||this.throwError(`input tensor shape ${t.tensor.shape} does not match specified shape ${this.shape}.`),this.output=new o.default(t.tensor.data,t.tensor.shape)}_callGPU(t){this.inputShape=(t.glTexture||t.glTextureFragments)&&(t.is2DReshaped||t.is2DSquareReshaped)?t.originalShape:t.tensor.shape,(0,r.default)(this.inputShape,this.shape)||this.throwError(`input tensor shape ${t.tensor.shape} does not match specified shape ${this.shape}.`),t.glTexture||(t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}):t.tensor.shape.length>2&&(t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}))),this.output=t}}},"1oyr":function(t,e){t.exports=function(t){return function(){return t}}},"1uLP":function(t,e,n){var r=n("Ds5P");r(r.G+r.W+r.F*!n("07k+").ABV,{DataView:n("LrcN").DataView})},"1xge":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Model",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Tensor",{enumerable:!0,get:function(){return i.default}}),e.testUtils=e.layers=e.activations=e.default=e.GPU_SUPPORT=void 0,n("u7Vc");var r=c(n("hBk9")),i=c(n("6E9d")),o=n("hgeo"),s=l(n("Idfp"));e.activations=s;var a=l(n("PCMU"));e.layers=a;var u=l(n("acX9"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}e.testUtils=u;const p=o.webgl2.isSupported;e.GPU_SUPPORT=p,e.default={Model:r.default,Tensor:i.default,GPU_SUPPORT:p,activations:s,layers:a,testUtils:u}},2247:function(t,e,n){var r=n("Hxdr"),i=n("JyYQ"),o=n("yzuE"),s=n("NGEn");t.exports=function(t,e){return(s(t)?r:o)(t,i(e,3))}},"22B7":function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},"2Hvv":function(t,e,n){var r=n("imBK");t.exports=function(t){return r(this.__data__,t)>-1}},"2N6f":function(t,e,n){var r=n("rCVp"),i=n("Q2wK"),o=n("WHce");t.exports=function(t){return o(i(t,void 0,r),t+"")}},"2T/g":function(t,e,n){"use strict";(function(e){var r=n("ztin"),i=n("QINn"),o=0;function s(t,e,n){this.name=t,this.lvalue=e,this.rvalue=n,this.count=0}t.exports=function(t){for(var n=["(",t,")()"].join(""),a=r.parse(n,{range:!0}),u="_inline_"+o+++"_",l=function(t){for(var e=t.body[0].expression.callee.params,n=new Array(e.length),r=0;r<e.length;++r)n[r]=e[r].name;return n}(a),c=new Array(l.length),p=0;p<l.length;++p)c[p]=new s([u,"arg",p,"_"].join(""),!1,!1);for(var h=new Array(n.length),f=(p=0,n.length);p<f;++p)h[p]=n.charAt(p);var d,g=[],m=[];function v(t,e){for(var n=t.range[0],r=t.range[1],i=n+1;i<r;++i)h[i]="";h[n]=e}return function t(n,r){if(n.parent=r,"MemberExpression"===n.type)n.computed?(t(n.object,n),t(n.property,n)):"ThisExpression"===n.object.type?v(n,(_="this_"+n.property.name.replace(/\_/g,"__"),m.push(_),_)):t(n.object,n);else{if("ThisExpression"===n.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===n.type){var i=n.name,o=l.indexOf(i);if(o>=0){var s=c[o],a=function(t){return"AssignmentExpression"===t.parent.type&&t.parent.left===t?"="===t.parent.operator?1:3:"UpdateExpression"===t.parent.type?3:2}(n);1&a&&(s.lvalue=!0),2&a&&(s.rvalue=!0),++s.count,v(n,s.name)}else(function(t){if("eval"===t)throw new Error("cwise-parser: eval() not allowed");return"undefined"!=typeof window?t in window:"undefined"!=typeof e?t in e:"undefined"!=typeof self&&t in self})(i)||v(n,function(t){var e=u+i.replace(/\_/g,"__");return g.push(e),e}())}else if("Literal"===n.type)"string"==typeof n.value&&v(n,"'"+n.value.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'");else{if("WithStatement"===n.type)throw new Error("cwise-parser: with() statements not allowed");for(var p=Object.keys(n),h=0,f=p.length;h<f;++h)if("parent"!==p[h]){var d=n[p[h]];if(d)if(d instanceof Array)for(var y=0;y<d.length;++y)d[y]&&"string"==typeof d[y].type&&t(d[y],n);else"string"==typeof d.type&&t(d,n)}}}var _}(a.body[0].expression.callee.body,void 0),i(g),i(m),new function(t,e,n,r){this.body=t,this.args=e,this.thisVars=n,this.localVars=r}(h.slice((d=a.body[0].expression.callee.body).range[0],d.range[1]).join(""),c,m,g)}}).call(e,n("DuR2"))},"2VSL":function(t,e,n){var r=n("BbyF"),i=n("xAdt"),o=n("/whu");t.exports=function(t,e,n,s){var a=String(o(t)),u=a.length,l=void 0===n?" ":String(n),c=r(e);if(c<=u||""==l)return a;var p=c-u,h=i.call(l,Math.ceil(p/l.length));return h.length>p&&(h=h.slice(0,p)),s?h+a:a+h}},"2X2u":function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},"2p1q":function(t,e,n){var r=n("lDLk"),i=n("fU25");t.exports=n("bUqO")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"34fO":function(t,e,n){"use strict";var r=n("neHe");function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,function(t,e){null!==t&&"undefined"!=typeof t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},"3Did":function(t,e,n){var r=n("uCi2");t.exports=function(t){return function(e){return r(e,t)}}},"3IRH":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"3QrE":function(t,e,n){var r=n("Ds5P");r(r.P,"Function",{bind:n("ZtwE")})},"3g/S":function(t,e,n){var r=n("OzIq"),i=n("7gX0"),o=n("V3l/"),s=n("M8WE"),a=n("lDLk").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},"3i66":function(t,e,n){var r=n("Ds5P"),i=n("7gX0"),o=n("zgIt");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",s)}},"3q4u":function(t,e,n){var r=n("wCso"),i=n("DIVP"),o=r.key,s=r.map,a=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=s(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var u=a.get(e);return u.delete(n),!!u.size||a.delete(e)}})},"3s83":function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},"41xE":function(t,e,n){var r=n("OzIq").navigator;t.exports=r&&r.userAgent||""},"49qz":function(t,e,n){var r=n("oeih"),i=n("/whu");t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),l=a.length;return u<0||u>=l?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},"4IZP":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},"4M2W":function(t,e,n){n("A0n/"),n("i68Q"),n("QzLV"),n("Hhm4"),n("C+4B"),n("W4Z6"),n("tJwI"),n("eC2H"),n("VTn2"),n("W/IU"),n("Y5ex"),n("WpPb"),n("+yjc"),n("gPva"),n("n12u"),n("nRs1"),n("jrHM"),n("gYYG"),n("3QrE"),n("EuXz"),n("PbPd"),n("S+E/"),n("EvFb"),n("QBuC"),n("QWLi"),n("ZRJK"),n("Stuz"),n("yuXV"),n("XtiL"),n("LG56"),n("A1ng"),n("WiIn"),n("aJ2J"),n("altv"),n("dULJ"),n("v2lb"),n("7Jvp"),n("lyhN"),n("kBOG"),n("xONB"),n("LlNE"),n("9xIj"),n("m6Yj"),n("wrs0"),n("Lqg1"),n("1ip3"),n("pWGb"),n("N4KQ"),n("Hl+4"),n("MjHD"),n("SRCy"),n("H0mh"),n("bqOW"),n("F3sI"),n("mhn7"),n("1A13"),n("Racj"),n("Y1S0"),n("Gh7F"),n("tqSY"),n("CvWX"),n("8Np7"),n("R4pa"),n("4RlI"),n("iM2X"),n("J+j9"),n("82of"),n("X/Hz"),n("eVIH"),n("UJiG"),n("SU+a"),n("5iw+"),n("EWrS"),n("J2ob"),n("QaEu"),n("8fhx"),n("UbXY"),n("Rk41"),n("4Q0w"),n("IMUI"),n("beEN"),n("xMpm"),n("j42X"),n("81dZ"),n("uDYd"),n("CEO+"),n("w6W7"),n("fOdq"),n("wVdn"),n("Nkrw"),n("wnRD"),n("lkT3"),n("+CM9"),n("oHKp"),n("9vc3"),n("No4x"),n("WpTh"),n("U6qc"),n("Q/CP"),n("WgSQ"),n("lnZN"),n("FaZr"),n("pd+2"),n("MfeA"),n("VjuZ"),n("qwQ3"),n("mJx5"),n("y9m4"),n("MsuQ"),n("dSUw"),n("ZDXm"),n("V/H1"),n("9mmO"),n("1uLP"),n("52Wt"),n("TFWu"),n("MyjO"),n("qtRy"),n("THnP"),n("K0JP"),n("NfZy"),n("dTzs"),n("+vXH"),n("CVR+"),n("vmSu"),n("4ZU1"),n("yx1U"),n("X7aK"),n("SPtU"),n("A52B"),n("PuTd"),n("dm+7"),n("JG34"),n("Rw4K"),n("9mGU"),n("bUY0"),n("mTp7"),n("gbyG"),n("oF0V"),n("v90c"),n("+2+s"),n("smQ+"),n("m8F4"),n("xn9I"),n("LRL/"),n("sc7i"),n("9Yib"),n("vu/c"),n("zmx7"),n("YVn/"),n("FKfb"),n("oYp4"),n("dxQb"),n("xCpI"),n("AkTE"),n("h7Xi"),n("arGp"),n("JJ3w"),n("qZb+"),n("La7N"),n("BOYP"),n("4rmF"),n("Ygg6"),n("6Xxs"),n("qdHU"),n("DQfQ"),n("j/Lv"),n("U+VG"),n("X6NR"),n("W0pi"),n("taNN"),n("vnWP"),n("R3KI"),n("6iMJ"),n("B3Xn"),n("3s83"),n("F1ui"),n("uEEG"),n("i039"),n("H7zx"),n("+Mt+"),n("QcWB"),n("yJ2x"),n("3q4u"),n("NHaJ"),n("v3hU"),n("zZHq"),n("vsh6"),n("8WbS"),n("yOtE"),n("EZ+5"),n("aM0T"),n("nh2o"),n("v8VU"),n("dich"),n("fx22"),t.exports=n("7gX0")},"4Q0w":function(t,e,n){var r=n("kkCw")("toPrimitive"),i=Date.prototype;r in i||n("2p1q")(i,r,n("jB26"))},"4RiB":function(t,e){t.exports=function(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},"4RlI":function(t,e,n){"use strict";n("y325")("blink",function(t){return function(){return t(this,"blink","","")}})},"4ZU1":function(t,e,n){var r=n("lDLk"),i=n("Ds5P"),o=n("DIVP"),s=n("s4j0");i(i.S+i.F*n("zgIt")(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},"4iEd":function(t,e,n){"use strict";t.exports=function(){console.error("SPR (symmetric packed rank 2 operation A := alpha*x*y' + alpha*y*x' + A) not yet implemented")}},"4pkP":function(t,e,n){"use strict";var r=n("BAkm"),i={body:"",args:[],thisVars:[],localVars:[]};function o(t){if(!t)return i;for(var e=0;e<t.args.length;++e){var n=t.args[e];t.args[e]=0===e?{name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function s(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(function(t){return r({args:t.args,pre:o(t.pre),body:o(t.body),post:o(t.proc),funcName:t.funcName})}(t))}var a={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in a){var n=a[t];e[t]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in u){var n=u[t];e[t]=s({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=s({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in l){var n=l[t];e[t]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<c.length;++t){var n=c[t];e[n]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=s({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var p=["max","min","atan2","pow"];!function(){for(var t=0;t<p.length;++t){var n=p[t];e[n]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var h=["atan2","pow"];!function(){for(var t=0;t<h.length;++t){var n=h[t];e[n+"op"]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),e.any=r({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=r({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=s({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=s({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=s({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=r({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},"4rmF":function(t,e,n){n("iKpr")("Map")},"52Wt":function(t,e,n){n("77Ug")("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},"5KHY":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="ZeroPadding2D";const{padding:e=[[1,1],[1,1]],data_format:n="channels_last"}=t;this.padding=Array.isArray(e)?Array.isArray(e[0])?e:[[e[0],e[0]],[e[1],e[1]]]:[[e,e],[e,e]],this.dataFormat=n,this.description=`${JSON.stringify(this.padding)}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]+this.padding[0][0]+this.padding[0][1],this.inputShape[1]+this.padding[1][0]+this.padding[1][1],this.inputShape[2]],this.output=new i.default([],this.outputShape),s.default.assign(this.output.tensor.hi(this.inputShape[0]+this.padding[0][0],this.inputShape[1]+this.padding[1][0],this.inputShape[2]).lo(this.padding[0][0],this.padding[1][0],0),t.tensor),"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(2,0,1),this.output.tensor=this.output.tensor.transpose(2,0,1))}_createIndexMap(t,e){if(this.indexMap)return;const n=new i.default(t.data,t.shape,{type:Int32Array});this.indexMap=new i.default([],this.outputShape,{type:Int32Array});const r="channels_first"===this.dataFormat?[0,this.padding[0][0],this.padding[1][0]]:[this.padding[0][0],this.padding[1][0],0],o="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]+this.padding[0][0],this.inputShape[2]+this.padding[1][0]]:[this.inputShape[0]+this.padding[0][0],this.inputShape[1]+this.padding[1][0],this.inputShape[2]];s.default.assigns(this.indexMap.tensor,-1),s.default.assign(this.indexMap.tensor.hi(...o).lo(...r),n.tensor),e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]+this.padding[0][0]+this.padding[0][1],this.inputShape[2]+this.padding[1][0]+this.padding[1][1]]:[this.inputShape[0]+this.padding[0][0]+this.padding[0][1],this.inputShape[1]+this.padding[1][0]+this.padding[1][1],this.inputShape[2]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new i.default([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}},"5N57":function(t,e,n){var r=n("ICSD")(n("TQ3y"),"Set");t.exports=r},"5Zxu":function(t,e,n){var r=n("sBat");t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},"5iw+":function(t,e,n){"use strict";n("y325")("strike",function(t){return function(){return t(this,"strike","","")}})},"6DIh":function(t,e,n){"use strict";function r(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function i(t,r,i){e[0]=t,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(t,r,i){e[0]=t,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function s(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function a(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?i:o,t.writeFloatBE=r?o:i,t.readFloatLE=r?s:a,t.readFloatBE=r?a:s}():function(){function e(t,e,n,r){var i=e<0?1:0;if(i&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>3.4028234663852886e38)t((i<<31|2139095040)>>>0,n,r);else if(e<1.1754943508222875e-38)t((i<<31|Math.round(e/1.401298464324817e-45))>>>0,n,r);else{var o=Math.floor(Math.log(e)/Math.LN2);t((i<<31|o+127<<23|8388607&Math.round(e*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(t,e,n){var r=t(e,n),i=2*(r>>31)+1,o=r>>>23&255,s=8388607&r;return 255===o?s?NaN:i*(1/0):0===o?1.401298464324817e-45*i*s:i*Math.pow(2,o-150)*(s+8388608)}t.writeFloatLE=e.bind(null,i),t.writeFloatBE=e.bind(null,o),t.readFloatLE=n.bind(null,s),t.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function i(t,r,i){e[0]=t,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(t,r,i){e[0]=t,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function s(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function a(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?i:o,t.writeDoubleBE=r?o:i,t.readDoubleLE=r?s:a,t.readDoubleBE=r?a:s}():function(){function e(t,e,n,r,i,o){var s=r<0?1:0;if(s&&(r=-r),0===r)t(0,i,o+e),t(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))t(0,i,o+e),t(2146959360,i,o+n);else if(r>1.7976931348623157e308)t(0,i,o+e),t((s<<31|2146435072)>>>0,i,o+n);else{var a;if(r<2.2250738585072014e-308)t((a=r/5e-324)>>>0,i,o+e),t((s<<31|a/4294967296)>>>0,i,o+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),t(4503599627370496*(a=r*Math.pow(2,-u))>>>0,i,o+e),t((s<<31|u+1023<<20|1048576*a&1048575)>>>0,i,o+n)}}}function n(t,e,n,r,i){var o=t(r,i+e),s=t(r,i+n),a=2*(s>>31)+1,u=s>>>20&2047,l=4294967296*(1048575&s)+o;return 2047===u?l?NaN:a*(1/0):0===u?5e-324*a*l:a*Math.pow(2,u-1075)*(l+4503599627370496)}t.writeDoubleLE=e.bind(null,i,0,4),t.writeDoubleBE=e.bind(null,o,4,0),t.readDoubleLE=n.bind(null,s,0,4),t.readDoubleBE=n.bind(null,a,4,0)}(),t}function i(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function o(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function s(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function a(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=r(r)},"6DuL":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=n("Idfp");function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="LeakyReLU";const{alpha:e=.3}=t;this.description=`alpha: ${e}`,this.alpha=e,this.gpu&&(this.program=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform float alpha;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0) + alpha * min(v, 0.0);\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.output=t,(0,s.relu)(this.output,{alpha:this.alpha})}_callGPU(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new i.default([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.alpha,type:"float",name:"alpha"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}},"6E9d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("hgeo"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n("7a8O")),o=u(n("Y4Gl")),s=u(n("4pkP")),a=u(n("nMS8"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class{constructor(t,e,n={}){this.arrayType=n.type||Float32Array,t&&t.length&&(t instanceof this.arrayType||t instanceof Array)?(i.checkShape(t,e),t instanceof this.arrayType?this.tensor=(0,o.default)(t,e):t instanceof Array&&(this.tensor=(0,o.default)(new this.arrayType(t),e))):this.tensor=!t.length&&e.length?(0,o.default)(new this.arrayType(e.reduce((t,e)=>t*e,1)),e):(0,o.default)(new this.arrayType([]),[])}createGLTexture({type:t="2d",format:e="float",supportsTextureFragments:n=!1}){let i=[];if(1===this.tensor.shape.length)i=[1,this.tensor.shape[0]],this.is1D=!0;else if(2===this.tensor.shape.length)i=this.tensor.shape;else{if(3!==this.tensor.shape.length||"2d_array"!==t&&"3d"!==t)throw new Error("[Tensor] cannot create WebGL2 texture.");i=this.tensor.shape}if(this.glTextureShape=i,this.glTextureType=t,this.glTextureFormat=e,"2d"===t)this.glTextureShape[0]>r.MAX_TEXTURE_SIZE&&n?this._create2DRowFragmentedGLTexture():this._create2DGLTexture();else{if("2d_array"!==t&&"3d"!==t)throw new Error(`[Tensor] invalid type ${t}.`);this._create3DGLTexture()}}_create2DGLTexture(){const t=r.webgl2.context,e=r.webgl2.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),{textureTarget:n,textureInternalFormat:i,textureFormat:o,textureType:s}=e;this.glTexture=t.createTexture(),r.webgl2.storeRef("texture",this.glTexture),t.bindTexture(n,this.glTexture);const a=this.glTextureShape;t.texImage2D(n,0,i,a[1],a[0],0,o,s,this.tensor.data),t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(n,t.TEXTURE_MIN_FILTER,t.NEAREST)}_create2DRowFragmentedGLTexture(){const t=r.webgl2.context,e=r.webgl2.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),{textureTarget:n,textureInternalFormat:i,textureFormat:o,textureType:s}=e;this.glTextureFragments=[],this.glTextureFragmentShape=[r.MAX_TEXTURE_SIZE,this.glTextureShape[1]];const a=this.glTextureFragmentShape,u=Math.ceil(this.glTextureShape[0]/r.MAX_TEXTURE_SIZE);let l=0;for(let c=0;c<u;c++){const e=t.createTexture();let p;r.webgl2.storeRef("texture",e),t.bindTexture(n,e),c===u-1?(p=new this.arrayType(a[0]*a[1])).set(this.tensor.data.slice(l,l+a[0]*a[1]),0):p=this.tensor.data.slice(l,l+a[0]*a[1]),t.texImage2D(n,0,i,a[1],a[0],0,o,s,p),t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(n,t.TEXTURE_MIN_FILTER,t.NEAREST),this.glTextureFragments.push(e),l+=a[0]*a[1]}}_create3DGLTexture(){const t=r.webgl2.context,e=r.webgl2.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),{textureTarget:n,textureInternalFormat:o,textureFormat:s,textureType:a}=e;this.glTexture=t.createTexture(),r.webgl2.storeRef("texture",this.glTexture),t.bindTexture(n,this.glTexture);const u=this.glTextureShape,l=i.data3DLayoutForGL(this.arrayType,this.tensor,this.glTextureShape);t.texImage3D(n,0,o,u[1],u[0],u[2],0,s,a,l),t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(n,t.TEXTURE_MIN_FILTER,t.NEAREST)}convert2DRowFragmentedGLTextureToColStack(){if(!this.glTextureFragments||!this.glTextureFragmentShape)throw new Error("[Tensor] no glTextureFragments available.");const t=r.webgl2.context,e=r.webgl2.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),{textureTarget:n,textureInternalFormat:i,textureFormat:o,textureType:s}=e;if(this.glTextureFragmentsAsColStack)t.bindTexture(n,this.glTextureFragmentsAsColStack);else{this.glTextureFragmentsAsColStack=t.createTexture(),r.webgl2.storeRef("texture",this.glTextureFragmentsAsColStack),t.bindTexture(n,this.glTextureFragmentsAsColStack),this.glTextureFragmentsAsColStackShape=[this.glTextureFragmentShape[0],this.glTextureFragmentShape[1]*this.glTextureFragments.length];const e=this.glTextureFragmentsAsColStackShape,a=new this.arrayType(e.reduce((t,e)=>t*e,1));t.texImage2D(n,0,i,e[1],e[0],0,o,s,a),t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(n,t.TEXTURE_MIN_FILTER,t.NEAREST)}const a=t.createFramebuffer();t.bindFramebuffer(t.READ_FRAMEBUFFER,a),this.glTextureFragments.forEach((e,r)=>{t.framebufferTexture2D(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),t.copyTexSubImage2D(n,0,r*this.glTextureFragmentShape[1],0,0,0,this.glTextureFragmentShape[1],this.glTextureFragmentShape[0])}),t.deleteFramebuffer(a)}removeGLTextureFragmentsAsColStack(){this.glTextureFragmentsAsColStack&&(r.webgl2.context.deleteTexture(this.glTextureFragmentsAsColStack),delete this.glTextureFragmentsAsColStack,delete this.glTextureFragmentsAsColStackShape)}deleteGLTexture(){const t=r.webgl2.context;this.glTexture&&(t.deleteTexture(this.glTexture),delete this.glTexture),this.glTextureFragments&&(this.glTextureFragments.forEach(e=>{t.deleteTexture(e)}),delete this.glTextureFragments)}replaceTensorData(t){if(t&&t.length&&t instanceof this.arrayType)this.tensor.data.set(t);else{if(!(t&&t.length&&t instanceof Array))throw new Error("[Tensor] invalid input for replaceTensorData method.");this.tensor.data.set(new this.arrayType(t))}if(this.glTexture){const t=r.webgl2.context,e=r.webgl2.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),{textureTarget:n,textureFormat:o,textureType:s}=e;t.bindTexture(n,this.glTexture);const a=this.glTextureShape;if("2d"===this.glTextureType)t.texSubImage2D(n,0,0,0,a[1],a[0],o,s,this.tensor.data,0);else if("2d_array"===this.glTextureType||"3d"===this.glTextureType){const e=i.data3DLayoutForGL(this.arrayType,this.tensor,a);t.texSubImage3D(n,0,0,0,0,a[1],a[0],a[2],o,s,e,0)}}}transferFromGLTexture(){if(this.glTextureFragments){this.tensor=(0,o.default)(new this.arrayType(this.glTextureShape[0]*this.glTextureShape[1]),this.glTextureShape);let t=0;for(let e=0;e<this.glTextureFragments.length;e++){r.webgl2.bindOutputTexture(this.glTextureFragments[e],this.glTextureFragmentShape);const n=r.webgl2.readData(this.glTextureFragmentShape);this.tensor.data.set(e===this.glTextureFragments.length-1?n.subarray(0,this.tensor.data.length-t):n,t),t+=n.length}}else r.webgl2.bindOutputTexture(this.glTexture,this.glTextureShape),this.tensor=(0,o.default)(new this.arrayType([]),this.glTextureShape),this.tensor.data=r.webgl2.readData(this.glTextureShape);this.is1D&&1===this.glTextureShape[0]&&(this.tensor=(0,a.default)(this.tensor,[0]))}reshapeTo2D(){const t=this.tensor.shape.length-1,e=this.tensor.shape[t],n=this.tensor.shape.slice(0,t),r=n.reduce((t,e)=>t*e,1),a=(0,o.default)(new this.arrayType(r*e),[r,e]),u=(0,o.default)(new this.arrayType(r),n),l=(0,o.default)(new this.arrayType(r),[r]),c=Array(this.tensor.shape.length).fill(null);for(let i=0;i<e;i++)c[t]=i,s.default.assign(u,this.tensor.pick(...c)),l.data=u.data,s.default.assign(a.pick(null,i),l);this.originalShape=this.tensor.shape,this.indicesForReshaped=i.createIndicesFor2DReshaped(this.tensor.shape,!1,t),this.tensor=a,this.is2DReshaped=!0}reshapeFrom2D(t=-1){if(!this.is2DReshaped)throw new Error("[Tensor] not in reshaped 2D representation.");if(!this.originalShape)throw new Error("[Tensor] does not contain originalShape.");t<0&&(t=this.originalShape.length+t);const e=this.tensor.shape[0],n=this.tensor.shape[1],r=(0,o.default)(new this.arrayType(this.originalShape.reduce((t,e)=>t*e,1)),this.originalShape),i=(0,o.default)(new this.arrayType(e),[e]),a=[...this.originalShape.slice(0,t),...this.originalShape.slice(t+1)],u=(0,o.default)(new this.arrayType(a.reduce((t,e)=>t*e,1)),a),l=Array(this.originalShape.length).fill(null);for(let o=0;o<n;o++)s.default.assign(i,this.tensor.pick(null,o)),u.data=i.data,l[t]=o,s.default.assign(r.pick(...l),u);this.tensor=r}reshapeTo2DSquare(){const t=Math.ceil(Math.sqrt(this.tensor.size)),e=(0,o.default)(new this.arrayType(t**2),[t,t]);e.data.set(this.tensor.data),this.originalShape=this.tensor.shape,this.indicesForReshaped=i.createIndicesFor2DReshaped(this.tensor.shape,!0),this.tensor=e,this.is2DSquareReshaped=!0}reshapeFrom2DSquare(){if(!this.is2DSquareReshaped)throw new Error("[Tensor] not in reshaped 2D square representation.");if(!this.originalShape)throw new Error("[Tensor] does not contain originalShape.");const t=this.originalShape.reduce((t,e)=>t*e,1),e=(0,o.default)(new this.arrayType(t),this.originalShape);e.data.set(this.tensor.data.subarray(0,t)),this.tensor=e}}},"6Jln":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("CgOR"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="GlobalMaxPooling3D",this.poolingFunc="max"}}},"6MiT":function(t,e,n){var r=n("aCM0"),i=n("UnEC");t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},"6OMS":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BatchNormalization",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n("VDsu"))&&r.__esModule?r:{default:r}},"6Xxs":function(t,e,n){n("iKpr")("WeakMap")},"6iMJ":function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},"77Ug":function(t,e,n){"use strict";if(n("bUqO")){var r=n("V3l/"),i=n("OzIq"),o=n("zgIt"),s=n("Ds5P"),a=n("07k+"),u=n("LrcN"),l=n("rFzY"),c=n("9GpA"),p=n("fU25"),h=n("2p1q"),f=n("A16L"),d=n("oeih"),g=n("BbyF"),m=n("8D8H"),v=n("zo/l"),y=n("s4j0"),_=n("WBcL"),x=n("wC1N"),b=n("UKM+"),w=n("FryR"),S=n("9vb1"),P=n("7ylX"),T=n("KOrd"),C=n("WcO1").f,E=n("SHe9"),M=n("ulTY"),k=n("kkCw"),O=n("LhTa"),A=n("ot5s"),D=n("7O1s"),I=n("WgSQ"),F=n("bN1p"),j=n("qkyc"),R=n("CEne"),L=n("zCYm"),N=n("DPsE"),U=n("lDLk"),z=n("x9zv"),G=U.f,B=z.f,V=i.RangeError,q=i.TypeError,H=i.Uint8Array,W=Array.prototype,Y=u.ArrayBuffer,X=u.DataView,Z=O(0),$=O(2),K=O(3),Q=O(4),J=O(5),tt=O(6),et=A(!0),nt=A(!1),rt=I.values,it=I.keys,ot=I.entries,st=W.lastIndexOf,at=W.reduce,ut=W.reduceRight,lt=W.join,ct=W.sort,pt=W.slice,ht=W.toString,ft=W.toLocaleString,dt=k("iterator"),gt=k("toStringTag"),mt=M("typed_constructor"),vt=M("def_constructor"),yt=a.CONSTR,_t=a.TYPED,xt=a.VIEW,bt=O(1,function(t,e){return Ct(D(t,t[vt]),e)}),wt=o(function(){return 1===new H(new Uint16Array([1]).buffer)[0]}),St=!!H&&!!H.prototype.set&&o(function(){new H(1).set({})}),Pt=function(t,e){var n=d(t);if(n<0||n%e)throw V("Wrong offset!");return n},Tt=function(t){if(b(t)&&_t in t)return t;throw q(t+" is not a typed array!")},Ct=function(t,e){if(!(b(t)&&mt in t))throw q("It is not a typed array constructor!");return new t(e)},Et=function(t,e){return Mt(D(t,t[vt]),e)},Mt=function(t,e){for(var n=0,r=e.length,i=Ct(t,r);r>n;)i[n]=e[n++];return i},kt=function(t,e,n){G(t,e,{get:function(){return this._d[n]}})},Ot=function(t){var e,n,r,i,o,s,a=w(t),u=arguments.length,c=u>1?arguments[1]:void 0,p=void 0!==c,h=E(a);if(void 0!=h&&!S(h)){for(s=h.call(a),r=[],e=0;!(o=s.next()).done;e++)r.push(o.value);a=r}for(p&&u>2&&(c=l(c,arguments[2],2)),e=0,n=g(a.length),i=Ct(this,n);n>e;e++)i[e]=p?c(a[e],e):a[e];return i},At=function(){for(var t=0,e=arguments.length,n=Ct(this,e);e>t;)n[t]=arguments[t++];return n},Dt=!!H&&o(function(){ft.call(new H(1))}),It=function(){return ft.apply(Dt?pt.call(Tt(this)):Tt(this),arguments)},Ft={copyWithin:function(t,e){return N.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return L.apply(Tt(this),arguments)},filter:function(t){return Et(this,$(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return J(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(Tt(this),arguments)},lastIndexOf:function(t){return st.apply(Tt(this),arguments)},map:function(t){return bt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(Tt(this),arguments)},reduceRight:function(t){return ut.apply(Tt(this),arguments)},reverse:function(){for(var t,e=Tt(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return K(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),r=n.length,i=v(t,r);return new(D(n,n[vt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===e?r:v(e,r))-i))}},jt=function(t,e){return Et(this,pt.call(Tt(this),t,e))},Rt=function(t){Tt(this);var e=Pt(arguments[1],1),n=this.length,r=w(t),i=g(r.length),o=0;if(i+e>n)throw V("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Lt={entries:function(){return ot.call(Tt(this))},keys:function(){return it.call(Tt(this))},values:function(){return rt.call(Tt(this))}},Nt=function(t,e){return b(t)&&t[_t]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return Nt(t,e=y(e,!0))?p(2,t[e]):B(t,e)},zt=function(t,e,n){return!(Nt(t,e=y(e,!0))&&b(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?G(t,e,n):(t[e]=n.value,t)};yt||(z.f=Ut,U.f=zt),s(s.S+s.F*!yt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:zt}),o(function(){ht.call({})})&&(ht=ft=function(){return lt.call(this)});var Gt=f({},Ft);f(Gt,Lt),h(Gt,dt,Lt.values),f(Gt,{slice:jt,set:Rt,constructor:function(){},toString:ht,toLocaleString:It}),kt(Gt,"buffer","b"),kt(Gt,"byteOffset","o"),kt(Gt,"byteLength","l"),kt(Gt,"length","e"),G(Gt,gt,{get:function(){return this[_t]}}),t.exports=function(t,e,n,u){var l=t+((u=!!u)?"Clamped":"")+"Array",p="get"+t,f="set"+t,d=i[l],v=d||{},y=d&&T(d),_={},w=d&&d.prototype,S=function(t,n){G(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[p](n*e+r.o,wt)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[f](n*e+i.o,r,wt)}(this,n,t)},enumerable:!0})};d&&a.ABV?o(function(){d(1)})&&o(function(){new d(-1)})&&j(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,r,i){var o;return c(t,d,l),b(n)?n instanceof Y||"ArrayBuffer"==(o=x(n))||"SharedArrayBuffer"==o?void 0!==i?new v(n,Pt(r,e),i):void 0!==r?new v(n,Pt(r,e)):new v(n):_t in n?Mt(d,n):Ot.call(d,n):new v(m(n))}),Z(y!==Function.prototype?C(v).concat(C(y)):C(v),function(t){t in d||h(d,t,v[t])}),d.prototype=w,r||(w.constructor=d)):(d=n(function(t,n,r,i){c(t,d,l,"_d");var o,s,a,u,p=0,f=0;if(b(n)){if(!(n instanceof Y||"ArrayBuffer"==(u=x(n))||"SharedArrayBuffer"==u))return _t in n?Mt(d,n):Ot.call(d,n);o=n,f=Pt(r,e);var v=n.byteLength;if(void 0===i){if(v%e)throw V("Wrong length!");if((s=v-f)<0)throw V("Wrong length!")}else if((s=g(i)*e)+f>v)throw V("Wrong length!");a=s/e}else a=m(n),o=new Y(s=a*e);for(h(t,"_d",{b:o,o:f,l:s,e:a,v:new X(o)});p<a;)S(t,p++)}),w=d.prototype=P(Gt),h(w,"constructor",d));var E=w[dt],M=!!E&&("values"==E.name||void 0==E.name),k=Lt.values;h(d,mt,!0),h(w,_t,l),h(w,xt,!0),h(w,vt,d),(u?new d(1)[gt]==l:gt in w)||G(w,gt,{get:function(){return l}}),_[l]=d,s(s.G+s.W+s.F*(d!=v),_),s(s.S,l,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o(function(){v.of.call(d,1)}),l,{from:Ot,of:At}),"BYTES_PER_ELEMENT"in w||h(w,"BYTES_PER_ELEMENT",e),s(s.P,l,Ft),R(l),s(s.P+s.F*St,l,{set:Rt}),s(s.P+s.F*!M,l,Lt),r||w.toString==ht||(w.toString=ht),s(s.P+s.F*o(function(){new d(1).slice()}),l,{slice:jt}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){w.toLocaleString.call([1,2])})),l,{toLocaleString:It}),F[l]=M?E:k,r||M||h(w,dt,k)}}else t.exports=function(){}},"7Jvp":function(t,e,n){var r=n("Ds5P"),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},"7O1s":function(t,e,n){var r=n("DIVP"),i=n("XSOZ"),o=n("kkCw")("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:i(n)}},"7YkW":function(t,e,n){var r=n("YeCl"),i=n("Cskv"),o=n("aQOO");function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},"7a8O":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkShape=function(t,e){if(t.length&&e.length&&t.length!==e.reduce((t,e)=>t*e,1))throw new Error("[Tensor] specified shape incompatible with data.")},e.data3DLayoutForGL=function(t,e,n){const r=new t(e.data.length),s=(0,i.default)(new t(n[0]*n[1]),[n[0],n[1]]);let a=0;for(let i=0;i<n[2];i++)o.default.assign(s,e.pick(null,null,i)),r.set(s.data,a),a+=n[0]*n[1];return r},e.createIndicesFor2DReshaped=function(t,e=!1,n=-1){const s=t.reduce((t,e)=>t*e,1),a=(0,i.default)(new Int32Array(s),t);if(e){const t=Math.ceil(Math.sqrt(s)),e=(0,i.default)(new Int32Array(t**2),[t,t]),n=(0,i.default)(new Int32Array(t**2),[t,t]),r=(0,i.default)(new Int32Array(t**2),[t,t]);for(let i=0;i<t;i++)o.default.assigns(e.pick(i,null),i);for(let i=0;i<t;i++)o.default.assigns(n.pick(null,i),i);o.default.muls(r,e,t),o.default.addeq(r,n),a.data.set(r.data.subarray(0,a.size))}else{n<0&&(n=t.length+n);const e=t[n],u=(0,i.default)(new Int32Array(s),t),l=(0,i.default)(new Int32Array(s),t),c=[...t.slice(0,n),...t.slice(n+1)],p=c.reduce((t,e)=>t*e,1),h=(0,i.default)(new Int32Array((0,r.default)(p)),c),f=Array(t.length).fill(null);for(let t=0;t<e;t++)f[n]=t,o.default.assign(u.pick(...f),h),o.default.assigns(l.pick(...f),t);o.default.muls(a,u,e),o.default.addeq(a,l)}return a};var r=s(n("tVBY")),i=s(n("Y4Gl")),o=s(n("4pkP"));function s(t){return t&&t.__esModule?t:{default:t}}},"7e4z":function(t,e,n){var r=n("uieL"),i=n("1Yb9"),o=n("NGEn"),s=n("ggOT"),a=n("ZGh9"),u=n("YsVG"),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),p=!n&&!c&&s(t),h=!n&&!c&&!p&&u(t),f=n||c||p||h,d=f?r(t.length,String):[],g=d.length;for(var m in t)!e&&!l.call(t,m)||f&&("length"==m||p&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||d.push(m);return d}},"7gX0":function(t,e){var n=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},"7ylX":function(t,e,n){var r=n("DIVP"),i=n("twxM"),o=n("QKXm"),s=n("mZON")("IE_PROTO"),a=function(){},u=function(){var t,e=n("jhxf")("iframe"),r=o.length;for(e.style.display="none",n("d075").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=u(),void 0===e?n:i(n,e)}},"81dZ":function(t,e,n){"use strict";var r=n("Ds5P"),i=n("d075"),o=n("ydD5"),s=n("zo/l"),a=n("BbyF"),u=[].slice;r(r.P+r.F*n("zgIt")(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n=a(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=s(t,n),l=s(e,n),c=a(l-i),p=new Array(c),h=0;h<c;h++)p[h]="String"==r?this.charAt(i+h):this[i+h];return p}})},"82of":function(t,e,n){"use strict";n("y325")("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},"8AZL":function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},"8CH+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("v/Xn"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="MaxPooling1D",this.poolingFunc="max"}}},"8CkC":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[${t}];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${e[0]}) * outTex.y);\n  int out_x = int(float(${e[1]}) * outTex.x);\n\n  float val = texelFetch(inputs[0], ivec2(out_x, out_y), 0).r;\n  for (int i = 1; i < ${t}; i++) {\n    val = min(val, texelFetch(inputs[i], ivec2(out_x, out_y), 0).r);\n  }\n\n  outColor = vec4(val);\n}\n`}},"8D8H":function(t,e,n){var r=n("oeih"),i=n("BbyF");t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},"8Np7":function(t,e,n){"use strict";n("y325")("anchor",function(t){return function(e){return t(this,"a","name",e)}})},"8WbS":function(t,e,n){var r=n("wCso"),i=n("DIVP"),o=n("KOrd"),s=r.has,a=r.key,u=function(t,e,n){if(s(t,e,n))return!0;var r=o(e);return null!==r&&u(t,r,n)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},"8dNO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("oqL2")),i=u(n("t6in")),o=u(n("6E9d")),s=n("hgeo"),a=u(n("4pkP"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="Reshape";const{target_shape:e=[]}=t;this.targetShape=e,this.description=`target shape: ${JSON.stringify(this.targetShape)}`,this.gpu&&(this.mapInputProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.targetShape.reduce((t,e)=>t*e,1)!==t.tensor.size&&this.throwError("The total size of new array must be unchanged in reshape layer."),this.output=new o.default([],this.targetShape),this.output.replaceTensorData(t.tensor.data)}_createIndexMap(){if(this.indexMap)return;const t=new o.default([],this.inputShape,{type:Int32Array}),e=new o.default([],this.inputShape,{type:Int32Array}),n=new o.default([],this.inputShape,{type:Int32Array});if(2===this.inputShape.length)for(let r=0;r<this.inputShape[0];r++)a.default.assigns(e.tensor.pick(r,null),r);else if(3===this.inputShape.length)for(let r=0;r<this.inputShape[0];r++)for(let t=0;t<this.inputShape[1];t++)a.default.assigns(e.tensor.pick(r,t,null),r*this.inputShape[1]+t);else if(4===this.inputShape.length)for(let r=0;r<this.inputShape[0];r++)for(let t=0;t<this.inputShape[1];t++)for(let n=0;n<this.inputShape[2];n++)a.default.assigns(e.tensor.pick(r,t,n,null),r*this.inputShape[1]*this.inputShape[2]+t*this.inputShape[2]+n);for(let i=0;i<(0,r.default)(this.inputShape);i++)a.default.assigns(n.tensor.pick(...Array(this.inputShape.length-1).fill(null),i),i);a.default.muls(t.tensor,e.tensor,(0,r.default)(this.inputShape)),a.default.addeq(t.tensor,n.tensor),this.indexMap=new o.default([],this.targetShape,{type:Int32Array}),this.indexMap.replaceTensorData(new Int32Array(t.tensor.data)),this.targetShape.length>2&&this.indexMap.reshapeTo2D(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture?this.inputShape=t.is2DReshaped||t.is2DSquareReshaped?t.originalShape:t.tensor.shape:(this.inputShape=t.tensor.shape,t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float"}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"}))),this._createIndexMap(),this.output||(this.output=new o.default([],this.targetShape),this.targetShape.length>2&&this.output.reshapeTo2D(),this.output.createGLTexture({type:"2d",format:"float"})),s.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}},"8fhx":function(t,e,n){"use strict";var r=n("Ds5P"),i=n("FryR"),o=n("s4j0");r(r.P+r.F*n("zgIt")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},"8t38":function(t,e,n){var r=n("OzIq").parseFloat,i=n("Ymdd").trim;t.exports=1/r(n("Xduv")+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},"94sX":function(t,e,n){var r=n("dCZQ");t.exports=function(){this.__data__=r?r(null):{},this.size=0}},"9ELn":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("t6in"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="GaussianNoise";const{stddev:e=0}=t;this.stddev=e}call(t){return this.output=t,this.output}}},"9GpA":function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},"9Jml":function(t,e,n){"use strict";var r=n("neHe"),i=n("qMY2"),o=n("34fO"),s=n("N2SB"),a=n("Qify"),u=n("0NNb"),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n("MYeC");t.exports=function(t){return new Promise(function(e,c){var p=t.data,h=t.headers;r.isFormData(p)&&delete h["Content-Type"];var f=new XMLHttpRequest,d="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||a(t.url)||(f=new window.XDomainRequest,d="onload",g=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth&&(h.Authorization="Basic "+l((t.auth.username||"")+":"+(t.auth.password||""))),f.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[d]=function(){if(f&&(4===f.readyState||g)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null;i(e,c,{data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:t,request:f}),f=null}},f.onerror=function(){c(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var m=n("reYS"),v=(t.withCredentials||a(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;v&&(h[t.xsrfHeaderName]=v)}if("setRequestHeader"in f&&r.forEach(h,function(t,e){"undefined"==typeof p&&"content-type"===e.toLowerCase()?delete h[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),c(t),f=null)}),void 0===p&&(p=null),f.send(p)})}},"9Yib":function(t,e,n){n("3g/S")("asyncIterator")},"9mGU":function(t,e,n){var r=n("Ds5P"),i=n("DIVP"),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},"9mmO":function(t,e,n){"use strict";var r=n("Ds5P"),i=n("07k+"),o=n("LrcN"),s=n("DIVP"),a=n("zo/l"),u=n("BbyF"),l=n("UKM+"),c=n("OzIq").ArrayBuffer,p=n("7O1s"),h=o.ArrayBuffer,f=o.DataView,d=i.ABV&&c.isView,g=h.prototype.slice,m=i.VIEW;r(r.G+r.W+r.F*(c!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||l(t)&&m in t}}),r(r.P+r.U+r.F*n("zgIt")(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(s(this),t);for(var n=s(this).byteLength,r=a(t,n),i=a(void 0===e?n:e,n),o=new(p(this,h))(u(i-r)),l=new f(this),c=new f(o),d=0;r<i;)c.setUint8(d++,l.getUint8(r++));return o}}),n("CEne")("ArrayBuffer")},"9vb1":function(t,e,n){var r=n("bN1p"),i=n("kkCw")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},"9vc3":function(t,e,n){var r=n("Ds5P");r(r.P,"Array",{copyWithin:n("DPsE")}),n("RhFG")("copyWithin")},"9xIj":function(t,e,n){var r=n("Ds5P"),i=n("x78i");r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},"A0n/":function(t,e,n){"use strict";var r=n("OzIq"),i=n("WBcL"),o=n("bUqO"),s=n("Ds5P"),a=n("R3AP"),u=n("1aA0").KEY,l=n("zgIt"),c=n("VWgF"),p=n("yYvK"),h=n("ulTY"),f=n("kkCw"),d=n("M8WE"),g=n("3g/S"),m=n("C+Ps"),v=n("XO1R"),y=n("DIVP"),_=n("UKM+"),x=n("PHqh"),b=n("s4j0"),w=n("fU25"),S=n("7ylX"),P=n("bG/2"),T=n("x9zv"),C=n("lDLk"),E=n("Qh14"),M=T.f,k=C.f,O=P.f,A=r.Symbol,D=r.JSON,I=D&&D.stringify,F=f("_hidden"),j=f("toPrimitive"),R={}.propertyIsEnumerable,L=c("symbol-registry"),N=c("symbols"),U=c("op-symbols"),z=Object.prototype,G="function"==typeof A,B=r.QObject,V=!B||!B.prototype||!B.prototype.findChild,q=o&&l(function(){return 7!=S(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=M(z,e);r&&delete z[e],k(t,e,n),r&&t!==z&&k(z,e,r)}:k,H=function(t){var e=N[t]=S(A.prototype);return e._k=t,e},W=G&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},Y=function(t,e,n){return t===z&&Y(U,e,n),y(t),e=b(e,!0),y(n),i(N,e)?(n.enumerable?(i(t,F)&&t[F][e]&&(t[F][e]=!1),n=S(n,{enumerable:w(0,!1)})):(i(t,F)||k(t,F,w(1,{})),t[F][e]=!0),q(t,e,n)):k(t,e,n)},X=function(t,e){y(t);for(var n,r=m(e=x(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},Z=function(t){var e=R.call(this,t=b(t,!0));return!(this===z&&i(N,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(N,t)||i(this,F)&&this[F][t])||e)},$=function(t,e){if(t=x(t),e=b(e,!0),t!==z||!i(N,e)||i(U,e)){var n=M(t,e);return!n||!i(N,e)||i(t,F)&&t[F][e]||(n.enumerable=!0),n}},K=function(t){for(var e,n=O(x(t)),r=[],o=0;n.length>o;)i(N,e=n[o++])||e==F||e==u||r.push(e);return r},Q=function(t){for(var e,n=t===z,r=O(n?U:x(t)),o=[],s=0;r.length>s;)!i(N,e=r[s++])||n&&!i(z,e)||o.push(N[e]);return o};G||(a((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===z&&e.call(U,n),i(this,F)&&i(this[F],t)&&(this[F][t]=!1),q(this,t,w(1,n))};return o&&V&&q(z,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),T.f=$,C.f=Y,n("WcO1").f=P.f=K,n("Y1aA").f=Z,n("Y1N3").f=Q,o&&!n("V3l/")&&a(z,"propertyIsEnumerable",Z,!0),d.f=function(t){return H(f(t))}),s(s.G+s.W+s.F*!G,{Symbol:A});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;J.length>tt;)f(J[tt++]);for(var et=E(f.store),nt=0;et.length>nt;)g(et[nt++]);s(s.S+s.F*!G,"Symbol",{for:function(t){return i(L,t+="")?L[t]:L[t]=A(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!G,"Object",{create:function(t,e){return void 0===e?S(t):X(S(t),e)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:K,getOwnPropertySymbols:Q}),D&&s(s.S+s.F*(!G||l(function(){var t=A();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(_(e)||void 0!==t)&&!W(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,I.apply(D,r)}}),A.prototype[j]||n("2p1q")(A.prototype,j,A.prototype.valueOf),p(A,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},A16L:function(t,e,n){var r=n("R3AP");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},A1ng:function(t,e,n){var r=n("Ds5P"),i=n("n982"),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},A52B:function(t,e,n){var r=n("x9zv"),i=n("Ds5P"),o=n("DIVP");i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},A9mX:function(t,e,n){var r=n("pTUa");t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},AL2p:function(t,e,n){"use strict";t.exports=function(t,e){switch("undefined"==typeof e&&(e=0),typeof t){case"number":if(t>0)return function(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}(0|t,e);break;case"object":if("number"==typeof t.length)return function t(e,n,r){var i=0|e[r];if(i<=0)return[];var o,s=new Array(i);if(r===e.length-1)for(o=0;o<i;++o)s[o]=n;else for(o=0;o<i;++o)s[o]=t(e,n,r+1);return s}(t,e,0)}return[]}},AMGY:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var r="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=r||"undefined"!=typeof t&&t||i}).call(e,n("DuR2"))},"Ai/T":function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},AkTE:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("FryR"),o=n("s4j0"),s=n("KOrd"),a=n("x9zv").f;n("bUqO")&&r(r.P+n("dm6P"),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=a(n,r))return e.set}while(n=s(n))}})},B3Xn:function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,s=n>>16,a=r>>16,u=(s*o>>>0)+(i*o>>>16);return s*a+(u>>16)+((i*a>>>0)+(65535&u)>>16)}})},BAkm:function(t,e,n){"use strict";var r=n("GaOS");t.exports=function(t){var e=new function(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1};e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var i=0;i<n.length;++i){var o=n[i];if("array"===o||"object"==typeof o&&o.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===o){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+n[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:o.array,offset:o.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,r(e)}},BNk0:function(t,e,n){"use strict";t.exports=function(){console.error("GER (rank 1 operation A := alpha*x*y' + A) not yet implemented")}},BOYP:function(t,e,n){n("0j1G")("WeakSet")},BbyF:function(t,e,n){var r=n("oeih"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},BddB:function(t,e,n){"use strict";t.exports=s;var r=n("vyo6");(s.prototype=Object.create(r.prototype)).constructor=s;var i=n("Zcec"),o=i.Buffer;function s(){r.call(this)}s.alloc=function(t){return(s.alloc=i._Buffer_allocUnsafe)(t)};var a=o&&o.prototype instanceof Uint8Array&&"set"===o.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]};function u(t,e,n){t.length<40?i.utf8.write(t,e,n):e.utf8Write(t,n)}s.prototype.bytes=function(t){i.isString(t)&&(t=i._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(a,e,t),this},s.prototype.string=function(t){var e=o.byteLength(t);return this.uint32(e),e&&this._push(u,e,t),this}},"C+4B":function(t,e,n){var r=n("PHqh"),i=n("x9zv").f;n("3i66")("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},"C+Ps":function(t,e,n){var r=n("Qh14"),i=n("Y1N3"),o=n("Y1aA");t.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,a=n(t),u=o.f,l=0;a.length>l;)u.call(t,s=a[l++])&&e.push(s);return e}},C0hh:function(t,e){t.exports=function(){return[]}},"CEO+":function(t,e,n){"use strict";var r=n("Ds5P"),i=n("LhTa")(0),o=n("NNrz")([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},CEne:function(t,e,n){"use strict";var r=n("OzIq"),i=n("lDLk"),o=n("bUqO"),s=n("kkCw")("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},CHen:function(t,e,n){var r=n("uCi2"),i=n("HAGj"),o=n("bIjD");t.exports=function(t,e,n){for(var s=-1,a=e.length,u={};++s<a;){var l=e[s],c=r(t,l);n(c,l)&&i(u,o(l,t),c)}return u}},"CVR+":function(t,e,n){var r=n("Ds5P"),i=n("XSOZ"),o=n("DIVP"),s=(n("OzIq").Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!n("zgIt")(function(){s(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return s?s(r,e,u):a.call(r,e,u)}})},CW5P:function(t,e,n){var r=n("T/bE"),i=n("duB3"),o=n("POb3");t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},CgOR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="_GlobalPooling3D";const{data_format:e="channels_last"}=t;this.dataFormat=e,this.poolingFunc="max",this.gpu&&(this.poolingProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int channelDataSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (isMaxPooling) {\n    // GlobalMaxPooling\n    float maxval = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      if (j == 0 || val > maxval) {\n        maxval = val;\n      }\n    }\n    outColor = vec4(maxval);\n  } else {\n    // GlobalAveragePooling\n    float sum = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      sum += val;\n    }\n    outColor = vec4(sum / float(channelDataSize));\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0));const[e,n,r,o]=t.tensor.shape;this.output=new i.default([],[o]);for(let i=0,a=o;i<a;i++)"max"===this.poolingFunc?this.output.tensor.set(i,s.default.sup(t.tensor.pick(null,null,null,i))):"average"===this.poolingFunc&&this.output.tensor.set(i,s.default.sum(t.tensor.pick(null,null,null,i))/(e*n*r))}_callGPU(t){t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:("channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"})),this.output||(this.output=new i.default([],[this.inputShape[3]]),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.inputShape[0]*this.inputShape[1]*this.inputShape[2],type:"int",name:"channelDataSize"},{value:+("max"===this.poolingFunc),type:"bool",name:"isMaxPooling"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},Cskv:function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},CvWX:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("BbyF"),o=n("kqpo"),s="".startsWith;r(r.P+r.F*n("1ETD")("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},CvWx:function(t,e,n){"use strict";var r=n("Y4Gl");t.exports=function(t,e){var n,i;if(void 0!==e&&(!Number.isFinite(e)||e%1!==e))throw new Error("axis of dimension to unsqueeze must be an integer");return e=void 0===e?t.shape.length:e,n=t.shape.slice(0),i=t.stride.slice(0),n.splice(e||0,0,1),i.splice(e||0,0,(i[e]||1)*(n[e+1]||1)),r(t.data,n,i,t.offset)}},DIVP:function(t,e,n){var r=n("UKM+");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},DPsE:function(t,e,n){"use strict";var r=n("FryR"),i=n("zo/l"),o=n("BbyF");t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),a=i(t,s),u=i(e,s),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?s:i(l,s))-u,s-a),p=1;for(u<a&&a<u+c&&(p=-1,u+=c-1,a+=c-1);c-- >0;)u in n?n[a]=n[u]:delete n[a],a+=p,u+=p;return n}},DQVJ:function(t,e,n){"use strict";var r=n("e7Mp"),i=n("neHe"),o=n("VNCa"),s=n("ZwtP");function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,this.defaults,{method:"get"},t)).method=t.method.toLowerCase();var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=a},DQfQ:function(t,e,n){var r=n("Ds5P");r(r.G,{global:n("OzIq")})},DXXc:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){i(t.tensor)};const i=(0,((r=n("fjY8"))&&r.__esModule?r:{default:r}).default)({args:["array"],body:function(t){t/=1+Math.abs(t)}})},DZR6:function(t,e,n){"use strict";var r=e;r.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var i=new Array(64),o=new Array(123),s=0;s<64;)o[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(t,e,n){for(var r,o=null,s=[],a=0,u=0;e<n;){var l=t[e++];switch(u){case 0:s[a++]=i[l>>2],r=(3&l)<<4,u=1;break;case 1:s[a++]=i[r|l>>4],r=(15&l)<<2,u=2;break;case 2:s[a++]=i[r|l>>6],s[a++]=i[63&l],u=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return u&&(s[a++]=i[r],s[a++]=61,1===u&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))},r.decode=function(t,e,n){for(var r,i=n,s=0,a=0;a<t.length;){var u=t.charCodeAt(a++);if(61===u&&s>1)break;if(void 0===(u=o[u]))throw Error("invalid encoding");switch(s){case 0:r=u,s=1;break;case 1:e[n++]=r<<2|(48&u)>>4,r=u,s=2;break;case 2:e[n++]=(15&r)<<4|(60&u)>>2,r=u,s=3;break;case 3:e[n++]=(3&r)<<6|u,s=0}}if(1===s)throw Error("invalid encoding");return n-i},r.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},Dc0G:function(t,e,n){(function(t){var r=n("blYT"),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i&&r.process,a=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(e,n("3IRH")(t))},DdTu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,s){const a=e.map(t=>t[s]),u=(0,o.default)(t+1).map(t=>(0,i.default)((0,r.default)(a,t))),l=0===s?"out_y":"out_x";let c=`\n  int n = 0;\n  int offset = 0;\n  if (${l} >= ${u[1]} && ${l} < ${u[2]}) {\n    n = 1;\n    offset = ${u[1]};\n  }`;t>2&&(c+=`${(0,o.default)(2,t).map(t=>` else if (${l} >= ${u[t]} && ${l} < ${u[t+1]}) {\n    n = ${t};\n    offset = ${u[t]};\n  }`).join("")}\n`);let p="outColor = vec4(0.0);";if(0===s||1===s){const e=t=>`out_x${1===s?` - ${u[t]}`:""}`,n=t=>`out_y${0===s?` - ${u[t]}`:""}`;p=`\n  if (n == 0) {\n    outColor = vec4(texelFetch(inputs[0], ivec2(out_x, out_y), 0).r);\n  }${(0,o.default)(1,t).map(t=>` else if (n == ${t}) {\n    outColor = vec4(texelFetch(inputs[${t}], ivec2(${e(t)}, ${n(t)}), 0).r);\n  }`).join("")}\n`}return`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[${t}];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${n[0]}) * outTex.y);\n  int out_x = int(float(${n[1]}) * outTex.x);\n${c}\n${p}\n}\n`};var r=s(n("m4tL")),i=s(n("Xm/7")),o=s(n("tVBY"));function s(t){return t&&t.__esModule?t:{default:t}}},Dgii:function(t,e,n){"use strict";var r=n("lDLk").f,i=n("7ylX"),o=n("A16L"),s=n("rFzY"),a=n("9GpA"),u=n("vmSO"),l=n("uc2A"),c=n("KB1o"),p=n("CEne"),h=n("bUqO"),f=n("1aA0").fastKey,d=n("zq/X"),g=h?"_s":"size",m=function(t,e){var n,r=f(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t(function(t,r){a(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=r&&u(r,n,t[l],t)});return o(c.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=d(this,e),r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(t){d(this,e);for(var n,r=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(d(this,e),t)}}),h&&r(c.prototype,"size",{get:function(){return d(this,e)[g]}}),c},def:function(t,e,n){var r,i,o=m(t,e);return o?o.v=n:(t._l=o={i:i=f(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))},n?"entries":"values",!n,!0),p(e)}}},DnSo:function(t,e,n){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},r.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},r.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},Ds5P:function(t,e,n){var r=n("OzIq"),i=n("7gX0"),o=n("2p1q"),s=n("R3AP"),a=n("rFzY"),u=function(t,e,n){var l,c,p,h,f=t&u.F,d=t&u.G,g=t&u.P,m=t&u.B,v=d?r:t&u.S?r[e]||(r[e]={}):(r[e]||{}).prototype,y=d?i:i[e]||(i[e]={}),_=y.prototype||(y.prototype={});for(l in d&&(n=e),n)p=((c=!f&&v&&void 0!==v[l])?v:n)[l],h=m&&c?a(p,r):g&&"function"==typeof p?a(Function.call,p):p,v&&s(v,l,p,t&u.U),y[l]!=p&&o(y,l,h),g&&_[l]!=p&&(_[l]=p)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},DuR2:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},Dv2r:function(t,e,n){var r=n("pTUa");t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},E4Hj:function(t,e){t.exports=function(t){return this.__data__.get(t)}},E7YV:function(t,e,n){"use strict";t.exports=function(){console.error("SPR (symmetric packed rank 1 operation A := alpha*x*y' + A) not yet implemented")}},"EB2+":function(t,e,n){"use strict";(function(t){t.exporst=function(){console.error("SPMV (symmetric packed matrix vector multiply) not yet implemented")}}).call(e,n("3IRH")(t))},"EG/4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[${t}];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${e[0]}) * outTex.y);\n  int out_x = int(float(${e[1]}) * outTex.x);\n  \n  outColor = vec4((${(0,i.default)(t).map(t=>`texelFetch(inputs[${t}], ivec2(out_x, out_y), 0).r`).join(" + ")}) / float(${t}));\n}\n`};var r,i=(r=n("tVBY"))&&r.__esModule?r:{default:r}},EHRO:function(t,e,n){var r=n("NkRn"),i=n("qwTf"),o=n("22B7"),s=n("FhcP"),a=n("WFiI"),u=n("octw"),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(t,e,n,r,l,p,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!p(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=a;case"[object Set]":if(f||(f=u),t.size!=e.size&&!(1&r))return!1;var d=h.get(t);if(d)return d==e;r|=2,h.set(t,e);var g=s(f(t),f(e),r,l,p,h);return h.delete(t),g;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},EJIF:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){i(t.tensor)};const i=(0,((r=n("fjY8"))&&r.__esModule?r:{default:r}).default)({args:["array"],body:function(t){(t=.2*t+.5)<=0?t=0:t>=1&&(t=1)}})},EKta:function(t,e,n){"use strict";e.byteLength=function(t){return 3*t.length/4-l(t)},e.toByteArray=function(t){var e,n,r,s,a,u=t.length;s=l(t),a=new o(3*u/4-s),n=s>0?u-4:u;var c=0;for(e=0;e<n;e+=4)r=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],a[c++]=r>>16&255,a[c++]=r>>8&255,a[c++]=255&r;return 2===s?(r=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,a[c++]=255&r):1===s&&(r=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,a[c++]=r>>8&255,a[c++]=255&r),a},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o="",s=[],a=0,u=n-i;a<u;a+=16383)s.push(c(t,a,a+16383>u?u:a+16383));return 1===i?(o+=r[(e=t[n-1])>>2],o+=r[e<<4&63],o+="=="):2===i&&(o+=r[(e=(t[n-2]<<8)+t[n-1])>>10],o+=r[e>>4&63],o+=r[e<<2&63],o+="="),s.push(o),s.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function c(t,e,n){for(var i,o=[],s=e;s<n;s+=3)o.push(r[(i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},ELZ4:function(t,e,n){"use strict";Math.sign=Math.sign||function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},t.exports=function(t,e,n){var r=0,i=0,o=0,s=0,a=0;if(0===e?(r=Math.sign(t),i=0,o=Math.abs(t)):0===t?(r=0,i=Math.sign(e),o=Math.abs(e)):Math.abs(t)>Math.abs(e)?(i=(s=e/t)*(r=1/(a=Math.sign(t)*Math.sqrt(1+s*s))),o=t*a):(r=(s=t/e)*(i=1/(a=Math.sign(t)*Math.sqrt(1+s*s))),o=e*a),!(void 0!==n&&n.length>2))return[r,i,o];n[0]=r,n[1]=i,n[2]=o}},ESZ6:function(t,e,n){"use strict";t.exports.swap=n("/CLv"),t.exports.scal=n("W+6F"),t.exports.copy=n("EZx7"),t.exports.axpy=n("Sftb"),t.exports.dot=n("SkTP"),t.exports.cpsc=n("c7JH"),t.exports.nrm2=n("an1E"),t.exports.asum=n("keZT"),t.exports.iamax=n("0Eil"),t.exports.rotg=n("ELZ4")},EWOT:function(t,e,n){"use strict";var r=n("ESZ6");t.exports=function(t,e,n,i,o,s){var a=t.shape[0],u=i||!0,l=void 0===o?1:o,c=void 0===s?0:s,p=0,h=0,f=0,d=0;if(0===c)for(p=0;p<n.shape[0];++p)n.set(p,0);else 1!==c&&r.scal(c,n);if(0===l)return!0;if(1===l)if(u)for(h=0;h<a;++h){for(f=e.get(h),d=0,n.set(h,n.get(h)+f*t.get(h,h)),p=h+1;p<a;++p)n.set(p,n.get(p)+f*t.get(p,h)),d+=t.get(p,h)*e.get(p);n.set(h,n.get(h)+d)}else for(h=0;h<a;++h){for(f=e.get(h),d=0,p=0;p<=h-1;++p)n.set(p,n.get(p)+f*t.get(p,h)),d+=t.get(p,h)*e.get(p);n.set(h,n.get(h)+f*t.get(h,h)+d)}else if(u)for(h=0;h<a;++h){for(f=l*e.get(h),d=0,n.set(h,n.get(h)+f*t.get(h,h)),p=h+1;p<a;++p)n.set(p,n.get(p)+f*t.get(p,h)),d+=t.get(p,h)*e.get(p);n.set(h,n.get(h)+l*d)}else for(h=0;h<a;++h){for(f=l*e.get(h),d=0,p=0;p<=h-1;++p)n.set(p,n.get(p)+f*t.get(p,h)),d+=t.get(p,h)*e.get(p);n.set(h,n.get(h)+f*t.get(h,h)+l*d)}return!0}},EWrS:function(t,e,n){"use strict";n("y325")("sub",function(t){return function(){return t(this,"sub","","")}})},"EZ+5":function(t,e,n){var r=n("wCso"),i=n("DIVP"),o=n("XSOZ"),s=r.key,a=r.set;r.exp({metadata:function(t,e){return function(n,r){a(t,e,(void 0!==r?i:o)(n),s(r))}}})},EZx7:function(t,e,n){"use strict";t.exports=function(t,e){var n,r=t.data,i=e.data,o=t.stride[0],s=e.stride[0],a=t.offset,u=e.offset;for(n=t.shape[0]-1;n>=0;n--,a+=o,u+=s)i[u]=r[a]}},EuP9:function(t,e,n){"use strict";(function(t){var r=n("EKta"),i=n("ujcs"),o=n("sOR5");function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=a(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|f(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function p(t,e){if(c(e),t=a(t,e<0?0:0|f(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|f(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(r)return U(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var p=!0,h=0;h<u;h++)if(l(t,o+h)!==l(e,h)){p=!1;break}if(p)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function _(t,e,n,r){return G(U(e,t.length-n),t,n,r)}function x(t,e,n,r){return G(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function b(t,e,n,r){return x(t,e,n,r)}function w(t,e,n,r){return G(z(e),t,n,r)}function S(t,e,n,r){return G(function(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,t.length-n),t,n,r)}function P(t,e,n){return r.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,l=t[i],c=null,p=l>239?4:l>223?3:l>191?2:1;if(i+p<=n)switch(p){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:s=t[i+2],128==(192&(o=t[i+1]))&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:s=t[i+2],a=t[i+3],128==(192&(o=t[i+1]))&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,p=1):c>65535&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=p}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?a(null,e):void 0!==n?"string"==typeof r?a(null,e).fill(n,r):a(null,e).fill(n):a(null,e)}(0,t,e,n)},u.allocUnsafe=function(t){return p(null,t)},u.allocUnsafeSlow=function(t){return p(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):(function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return M(this,e,n);case"base64":return P(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}).apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,s=n-e,a=Math.min(o,s),l=this.slice(r,i),c=t.slice(e,n),p=0;p<a;++p)if(l[p]!==c[p]){o=l[p],s=c[p];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return b(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function E(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function M(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function k(t,e,n){var r,i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o="",s=e;s<n;++s)o+=(r=t[s])<16?"0"+r.toString(16):r.toString(16);return o}function O(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function j(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,r,o){return o||j(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,o){return o||j(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||A(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||A(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||A(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||A(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||A(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||A(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||A(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||A(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||A(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:U(new u(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function U(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(e,n("DuR2"))},EuXz:function(t,e,n){var r=n("lDLk").f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n("bUqO")&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},EvFb:function(t,e,n){var r=n("Ds5P"),i=n("8t38");r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},F1ui:function(t,e,n){var r=n("Ds5P"),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},F3sI:function(t,e,n){var r=n("Ds5P"),i=n("PHqh"),o=n("BbyF");r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<r&&s.push(String(arguments[a]));return s.join("")}})},FCuZ:function(t,e,n){var r=n("uIr7"),i=n("NGEn");t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},FKfb:function(t,e,n){var r=n("Ds5P"),i=n("lKE8")(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},FaZr:function(t,e,n){"use strict";n("pd+2");var r=n("DIVP"),i=n("0pGU"),o=n("bUqO"),s=/./.toString,a=function(t){n("R3AP")(RegExp.prototype,"toString",t,!0)};n("zgIt")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?a(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=s.name&&a(function(){return s.call(this)})},FhcP:function(t,e,n){var r=n("7YkW"),i=n("2X2u"),o=n("dmQx");t.exports=function(t,e,n,s,a,u){var l=1&n,c=t.length,p=e.length;if(c!=p&&!(l&&p>c))return!1;var h=u.get(t);if(h&&u.get(e))return h==e;var f=-1,d=!0,g=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++f<c;){var m=t[f],v=e[f];if(s)var y=l?s(v,m,f,e,t,u):s(m,v,f,t,e,u);if(void 0!==y){if(y)continue;d=!1;break}if(g){if(!i(e,function(t,e){if(!o(g,e)&&(m===t||a(m,t,n,s,u)))return g.push(e)})){d=!1;break}}else if(m!==v&&!a(m,v,n,s,u)){d=!1;break}}return u.delete(t),u.delete(e),d}},FkIZ:function(t,e,n){var r=n("XSOZ"),i=n("FryR"),o=n("Q6Nf"),s=n("BbyF");t.exports=function(t,e,n,a,u){r(e);var l=i(t),c=o(l),p=s(l.length),h=u?p-1:0,f=u?-1:1;if(n<2)for(;;){if(h in c){a=c[h],h+=f;break}if(h+=f,u?h<0:p<=h)throw TypeError("Reduce of empty array with no initial value")}for(;u?h>=0:p>h;h+=f)h in c&&(a=e(a,c[h],h,l));return a}},FryR:function(t,e,n){var r=n("/whu");t.exports=function(t){return Object(r(t))}},G2xm:function(t,e){t.exports=function(t){return this.__data__.has(t)}},GaOS:function(t,e,n){"use strict";var r=n("f0ZI");t.exports=function(t){var e=["'use strict'","var CACHED={}"],n=[];e.push(["return function ",t.funcName+"_cwise_thunk","(",t.shimArgs.join(","),"){"].join(""));for(var i=[],o=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],a=[],u=[],l=0;l<t.arrayArgs.length;++l){var c=t.arrayArgs[l];n.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),i.push("t"+c),i.push("r"+c),o.push("t"+c),o.push("r"+c+".join()"),s.push("array"+c+".data"),s.push("array"+c+".stride"),s.push("array"+c+".offset|0"),l>0&&(a.push("array"+t.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),u.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}for(t.arrayArgs.length>1&&(e.push("if (!("+a.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}")),l=0;l<t.scalarArgs.length;++l)s.push("scalar"+t.scalarArgs[l]);return n.push(["type=[",o.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(r.bind(void 0,t))}},Gh7F:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("kqpo");r(r.P+r.F*n("1ETD")("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},H0mh:function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},H7zx:function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},HAGj:function(t,e,n){var r=n("i4ON"),i=n("bIjD"),o=n("ZGh9"),s=n("yCNF"),a=n("Ubhr");t.exports=function(t,e,n,u){if(!s(t))return t;for(var l=-1,c=(e=i(e,t)).length,p=c-1,h=t;null!=h&&++l<c;){var f=a(e[l]),d=n;if(l!=p){var g=h[f];void 0===(d=u?u(g,f,h):void 0)&&(d=s(g)?g:o(e[l+1])?[]:{})}r(h,f,d),h=h[f]}return t}},HJdV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("fjY8"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),u.call(this),this.layerClass="ELU";const{alpha:e=1}=t;this.description=`alpha: ${e}`,this.alpha=e,this.gpu&&(this.program=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform float alpha;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0) + alpha * (exp(min(v, 0.0)) - 1.0);\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.output=t,this._compute(this.output.tensor,this.alpha)}_callGPU(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new i.default([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.alpha,type:"float",name:"alpha"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}};var u=function(){Object.defineProperty(this,"_compute",{configurable:!0,enumerable:!0,writable:!0,value:(0,s.default)({args:["array","scalar"],body:function(t,e){t=Math.max(t,0)+e*(Math.exp(Math.min(t,0))-1)}})})}},HKKY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("t6in")),i=u(n("6E9d")),o=n("hgeo"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n("7a8O")),a=u(n("4pkP"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="_Pooling2D";const{pool_size:e=[2,2],strides:n=null,padding:r="valid",data_format:i="channels_last"}=t;this.poolSize=Array.isArray(e)?e:[e,e],this.strides=Array.isArray(n)?n:null!==n?[n,n]:this.poolSize,this.padding=r,this.dataFormat=i,this.poolingFunc="max",this.description=`pool size ${this.poolSize.join("x")}`,this.description+=this.strides.some(t=>t>1)?`, ${this.strides.join("x")} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.gpu&&(this.poolingProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(textureSize(poolIndexMap, 0)[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    if (poolIndex != -1) {\n      float val2 = texelFetch(x, ivec2(out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n"),this.poolingFragmentsProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(poolIndexMap, 0);\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    int fragmentIndex = int(floor(float(poolIndex) / float(inputSize[1])));\n    if (poolIndex != -1) {\n      poolIndex = int(mod(float(poolIndex), float(inputSize[1])));\n      float val2 = texelFetch(x, ivec2(fragmentIndex * channels + out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_calcOutputShape(t){if(this.outputShape&&this.inputPadding)return;const[e,n,r]=t,[i,o]=this.poolSize,s="same"===this.padding?Math.floor((e+this.strides[0]-1)/this.strides[0]):Math.floor((e-i+this.strides[0])/this.strides[0]),a="same"===this.padding?Math.floor((n+this.strides[1]-1)/this.strides[1]):Math.floor((n-o+this.strides[1])/this.strides[1]),u="same"===this.padding?Math.max(0,Math.floor((s-1)*this.strides[0]+i-e)):0,l="same"===this.padding?Math.max(0,Math.floor((a-1)*this.strides[1]+o-n)):0,c=Math.floor(u/2),p=u-c,h=Math.floor(l/2),f=l-h;this.outputShape=[s,a,r],this.inputPadding=[c,p,h,f]}_padInput(t){if("same"===this.padding){const[e,n,r]=t.tensor.shape,[o,s,u,l]=this.inputPadding,c=new i.default([],[e+o+s,n+u+l,r]);return"max"===this.poolingFunc&&a.default.assigns(c.tensor,Number.NEGATIVE_INFINITY),a.default.assign(c.tensor.hi(e+o,n+u,r).lo(o,u,0),t.tensor),c}return t}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this._calcOutputShape(t.tensor.shape),t=this._padInput(t);const[e,n,r]=t.tensor.shape,[o,s]=this.poolSize;this.output=new i.default([],this.outputShape);const u=new i.default([],[o,s,r]),[l,c,p,h]=this.inputPadding;for(let i=0,f=0;i<=e-o;i+=this.strides[0],f++){let d=0;i<l?d=l-i:i+o>e-c&&(d=i+o-(e-c));for(let e=0,l=0;e<=n-s;e+=this.strides[1],l++){let c=0;e<p?c=p-e:e+s>n-h&&(c=e+s-(n-h));const g=(o-d)*(s-c);a.default.assign(u.tensor,t.tensor.hi(i+o,e+s,r).lo(i,e,0));for(let t=0;t<r;t++)"max"===this.poolingFunc?this.output.tensor.set(f,l,t,a.default.sup(u.tensor.pick(null,null,t))):"average"===this.poolingFunc&&this.output.tensor.set(f,l,t,a.default.sum(u.tensor.pick(null,null,t))/g)}}"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1))}_im2col(t){const[e,n,r]=t.tensor.shape;this.tiledInput||(this.tiledInput=new i.default([],[e*n,r]));const o=new i.default([],[e,n]),s=new i.default([],[e*n]);for(let i=0;i<r;i++)a.default.assign(o.tensor,t.tensor.pick(null,null,i)),s.replaceTensorData(o.tensor.data),a.default.assign(this.tiledInput.tensor.pick(null,i),s.tensor);return this.tiledInput}_createIndexMap(){if(this.poolIndexMap)return;let t=this.inputShape[0],e=this.inputShape[1];const n=new i.default([],[t,e]);let r=0;for(let i=0;i<t;i++)for(let t=0;t<e;t++)n.tensor.set(i,t,r),r+=1;if("same"===this.padding){const[r,o,s,u]=this.inputPadding,l=new i.default([],[t=t+r+o,e=e+s+u]);a.default.assigns(l.tensor,-1),a.default.assign(l.tensor.hi(this.inputShape[0]+r,this.inputShape[1]+s).lo(r,s),n.tensor),n.tensor=l.tensor}const[o,s]=this.poolSize;this.poolIndexMap=new i.default([],[this.outputShape[0]*this.outputShape[1],o*s],{type:Int32Array});const u=new i.default([],[o,s]);let l=0;for(let i=0,c=t-o;i<=c;i+=this.strides[0])for(let t=0,r=e-s;t<=r;t+=this.strides[1])a.default.assign(u.tensor,n.tensor.hi(i+o,t+s).lo(i,t)),this.poolIndexMap.tensor.data.set(u.tensor.data,l),l+=o*s;this.poolIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){if(t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:("channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,this._im2col(t),this.tiledInput.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})),this._calcOutputShape(this.inputShape),this._createIndexMap(),!this.output){const[t,e,n]=this.outputShape;this.output=new i.default([],[t*e,n]),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=s.createIndicesFor2DReshaped(this.outputShape,!1,-1)}const e=t.is2DReshaped||t.is2DSquareReshaped?t:this.tiledInput,n=[{value:this.output.glTextureShape[1],type:"int",name:"channels"},{value:this.poolSize[0]*this.poolSize[1],type:"int",name:"poolSize"},{value:+("max"===this.poolingFunc),type:"bool",name:"isMaxPooling"}];e.glTextureFragments?(e.convert2DRowFragmentedGLTextureToColStack(),o.webgl2.runProgram({program:this.poolingFragmentsProgram,output:this.output,inputs:[{input:e,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:n,supportsTextureFragments:!0}),e.removeGLTextureFragmentsAsColStack()):o.webgl2.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:e,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:n,supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1)))}}},HT7L:function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},HhOO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Cropping3D";const{cropping:e=[[0,0],[0,0],[0,0]],data_format:n="channels_last"}=t;this.cropping=Array.isArray(e)?Array.isArray(e[0])?e:[[e[0],e[0]],[e[1],e[1]],[e[2],e[2]]]:[[e,e],[e,e],[e,e]],this.dataFormat=n,this.description=`${JSON.stringify(this.cropping)}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[2]-this.cropping[2][0]-this.cropping[2][1],this.inputShape[3]],this.output=new i.default([],this.outputShape),s.default.assign(this.output.tensor,t.tensor.hi(this.inputShape[0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][1],this.inputShape[2]-this.cropping[2][1],this.inputShape[3]).lo(this.cropping[0][0],this.cropping[1][0],this.cropping[2][0],0)),"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(3,0,1,2),this.output.tensor=this.output.tensor.transpose(3,0,1,2))}_createIndexMap(t,e){if(this.indexMap)return;const n=new i.default(t.data,t.shape,{type:Int32Array});this.indexMap=new i.default([],this.outputShape,{type:Int32Array});const r="channels_first"===this.dataFormat?[0,this.cropping[0][0],this.cropping[1][0],this.cropping[2][0]]:[this.cropping[0][0],this.cropping[1][0],this.cropping[2][0],0];s.default.assign(this.indexMap.tensor,n.tensor.hi(..."channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]-this.cropping[0][1],this.inputShape[2]-this.cropping[1][1],this.inputShape[3]-this.cropping[2][1]]:[this.inputShape[0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][1],this.inputShape[2]-this.cropping[2][1],this.inputShape[3]]).lo(...r)),e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[2]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[3]-this.cropping[2][0]-this.cropping[2][1]]:[this.inputShape[0]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[2]-this.cropping[2][0]-this.cropping[2][1],this.inputShape[3]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new i.default([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}},Hhm4:function(t,e,n){var r=n("Ds5P");r(r.S+r.F*!n("bUqO"),"Object",{defineProperties:n("twxM")})},"Hl+4":function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{sign:n("cwmK")})},HtHO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("gv9v"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="GlobalMaxPooling2D",this.poolingFunc="max"}}},Hxdr:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},ICSD:function(t,e,n){var r=n("ITwD"),i=n("mTAn");t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},IFpc:function(t,e,n){"use strict";var r=n("XO1R"),i=n("UKM+"),o=n("BbyF"),s=n("rFzY"),a=n("kkCw")("isConcatSpreadable");t.exports=function t(e,n,u,l,c,p,h,f){for(var d,g,m=c,v=0,y=!!h&&s(h,f,3);v<l;){if(v in u){if(d=y?y(u[v],v,n):u[v],g=!1,i(d)&&(g=void 0!==(g=d[a])?!!g:r(d)),g&&p>0)m=t(e,n,d,o(d.length),m,p-1)-1;else{if(m>=9007199254740991)throw TypeError();e[m]=d}m++}v++}return m}},IGcM:function(t,e,n){var r=n("bIjD"),i=n("1Yb9"),o=n("NGEn"),s=n("ZGh9"),a=n("Rh28"),u=n("Ubhr");t.exports=function(t,e,n){for(var l=-1,c=(e=r(e,t)).length,p=!1;++l<c;){var h=u(e[l]);if(!(p=null!=t&&n(t,h)))break;t=t[h]}return p||++l!=c?p:!!(c=null==t?0:t.length)&&a(c)&&s(h,c)&&(o(t)||i(t))}},IMUI:function(t,e,n){var r=n("Ds5P");r(r.S,"Array",{isArray:n("XO1R")})},INfJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("t6in")),i=s(n("6E9d")),o=n("hgeo");function s(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Flatten",this.gpu&&(this.flattenProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int outputSize;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(outputSize) * outTex.x);\n  int out_y = 0;\n\n  int i = int(floor(float(out_x) / float(inputCols)));\n  int j = int(mod(float(out_x), float(inputCols)));\n  outColor = vec4(texelFetch(x, ivec2(j, i), 0).r);\n}\n"),this.flattenFragmentsProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int outputSize;\nuniform int inputRows;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(outputSize) * outTex.x);\n  int out_y = 0;\n\n  int rowIndex = int(mod(floor(float(out_x) / float(inputCols)), float(inputRows)));\n  int colIndex = int(mod(float(out_x), float(inputCols)));\n  int fragmentIndex = int(floor(float(out_x) / (float(inputRows) * float(inputCols))));\n  colIndex += fragmentIndex * inputCols;\n  outColor = vec4(texelFetch(x, ivec2(colIndex, rowIndex), 0).r);\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){t.tensor.shape.length<=1?this.output=t:(this.output=new i.default([],[t.tensor.shape.reduce((t,e)=>t*e,1)]),this.output.replaceTensorData(t.tensor.data))}_callGPU(t){t.glTexture||t.glTextureFragments||(t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float"}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"}))),this.output||(this.output=new i.default([],[t.glTextureShape.reduce((t,e)=>t*e,1)]),this.output.createGLTexture({type:"2d",format:"float"})),t.glTextureFragments?(t.convert2DRowFragmentedGLTextureToColStack(),o.webgl2.runProgram({program:this.flattenFragmentsProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.output.glTextureShape[1],type:"int",name:"outputSize"},{value:t.glTextureShape[0],type:"int",name:"inputRows"},{value:t.glTextureShape[1],type:"int",name:"inputCols"}],supportsTextureFragments:!0}),t.removeGLTextureFragmentsAsColStack()):o.webgl2.runProgram({program:this.flattenProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.output.glTextureShape[1],type:"int",name:"outputSize"},{value:t.glTextureShape[1],type:"int",name:"inputCols"}],supportsTextureFragments:!0}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},IRJ3:function(t,e,n){"use strict";var r=n("7ylX"),i=n("fU25"),o=n("yYvK"),s={};n("2p1q")(s,n("kkCw")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},ITwD:function(t,e,n){var r=n("gGqR"),i=n("eFps"),o=n("yCNF"),s=n("Ai/T"),a=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=RegExp("^"+u.toString.call(l.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?c:a).test(s(t))}},Iaxw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Add",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Subtract",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Multiply",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Average",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Maximum",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Minimum",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Concatenate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Dot",{enumerable:!0,get:function(){return c.default}});var r=p(n("oIxm")),i=p(n("pZ/T")),o=p(n("jR9D")),s=p(n("U8NY")),a=p(n("rljb")),u=p(n("oo8B")),l=p(n("XiIy")),c=p(n("nYKr"));function p(t){return t&&t.__esModule?t:{default:t}}},Idfp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"softmax",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"elu",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"selu",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"softplus",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"softsign",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"relu",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"tanh",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"sigmoid",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"hard_sigmoid",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"linear",{enumerable:!0,get:function(){return h.default}});var r=f(n("cWf/")),i=f(n("pOJ5")),o=f(n("daLB")),s=f(n("ujif")),a=f(n("DXXc")),u=f(n("T70T")),l=f(n("Z7pR")),c=f(n("ednR")),p=f(n("EJIF")),h=f(n("Ncs3"));function f(t){return t&&t.__esModule?t:{default:t}}},"J+j9":function(t,e,n){"use strict";n("y325")("fixed",function(t){return function(){return t(this,"tt","","")}})},J2ob:function(t,e,n){"use strict";n("y325")("sup",function(t){return function(){return t(this,"sup","","")}})},JBvZ:function(t,e,n){var r=n("imBK");t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},JG34:function(t,e,n){var r=n("Ds5P"),i=n("DIVP"),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},JJ3w:function(t,e,n){n("0j1G")("Map")},Jnfr:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="Jnfr"},JyYQ:function(t,e,n){var r=n("d+aQ"),i=n("eKBv"),o=n("wSKX"),s=n("NGEn"),a=n("iL3P");t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?i(t[0],t[1]):r(t):a(t)}},K0JP:function(t,e,n){n("77Ug")("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},KB1o:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},KOrd:function(t,e,n){var r=n("WBcL"),i=n("FryR"),o=n("mZON")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},KgVm:function(t,e,n){var r=n("cdq7"),i=n("JyYQ"),o=n("5Zxu"),s=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var u=null==n?0:o(n);return u<0&&(u=s(a+u,0)),r(t,i(e,3),u)}},KiuJ:function(t,e,n){"use strict";var r=n("ESZ6");t.exports=function(t,e,n){var i=r.dot,o=t.shape[1],s=0;if(n)for(s=o-1;s>=0;s--)e.set(s,i(t.pick(s,null).hi(s+1),e.hi(s+1)));else for(s=0;s<o;s++)e.set(s,i(t.pick(s,null).lo(s),e.lo(s)));return!0}},KmWZ:function(t,e,n){var r=n("duB3");t.exports=function(){this.__data__=new r,this.size=0}},Kwd2:function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},LG56:function(t,e,n){var r=n("Ds5P");r(r.S,"Number",{isNaN:function(t){return t!=t}})},"LRL/":function(t,e,n){"use strict";n("Ymdd")("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},LSkx:function(t,e,n){"use strict";t.exports.gemv=n("Vi/E"),t.exports.gbmv=n("gjHA"),t.exports.symv=n("EWOT"),t.exports.sbmv=n("T80A"),t.exports.spmv=n("EB2+"),t.exports.trmv=n("KiuJ"),t.exports.tbmv=n("TnjD"),t.exports.trsv=n("TXOt"),t.exports.tbsv=n("WR5u"),t.exports.tpsv=n("cdCL"),t.exports.ger=n("BNk0"),t.exports.syr=n("l0r7"),t.exports.spr=n("E7YV"),t.exports.syr2=n("PROF"),t.exports.spr2=n("4iEd"),t.exports.trmv_lower=function(e,n){return console.warn("trmv_lower is deprecated. Please use the 'isLower' flag with trmv."),t.exports.trmv(e,n,!0)},t.exports.trsv_lower=function(e,n){return console.warn("trsv_lower is deprecated. Please use the 'isLower' flag with trsv."),t.exports.trsv(e,n,!0)}},LVmJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("gv9v"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="GlobalAveragePooling2D",this.poolingFunc="average"}}},La7N:function(t,e,n){n("0j1G")("WeakMap")},LhTa:function(t,e,n){var r=n("rFzY"),i=n("Q6Nf"),o=n("FryR"),s=n("BbyF"),a=n("plSV");t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,p=6==t,h=5==t||p,f=e||a;return function(e,a,d){for(var g,m,v=o(e),y=i(v),_=r(a,d,3),x=s(y.length),b=0,w=n?f(e,x):u?f(e,0):void 0;x>b;b++)if((h||b in y)&&(m=_(g=y[b],b,v),t))if(n)w[b]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return b;case 2:w.push(g)}else if(c)return!1;return p?-1:l||c?c:w}}},LlNE:function(t,e,n){var r=n("Ds5P"),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},Lqg1:function(t,e,n){var r=n("Ds5P"),i=Math.imul;r(r.S+r.F*n("zgIt")(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},LrcN:function(t,e,n){"use strict";var r=n("OzIq"),i=n("bUqO"),o=n("V3l/"),s=n("07k+"),a=n("2p1q"),u=n("A16L"),l=n("zgIt"),c=n("9GpA"),p=n("oeih"),h=n("BbyF"),f=n("8D8H"),d=n("WcO1").f,g=n("lDLk").f,m=n("zCYm"),v=n("yYvK"),y="prototype",_="Wrong index!",x=r.ArrayBuffer,b=r.DataView,w=r.Math,S=r.RangeError,P=r.Infinity,T=x,C=w.abs,E=w.pow,M=w.floor,k=w.log,O=w.LN2,A=i?"_b":"buffer",D=i?"_l":"byteLength",I=i?"_o":"byteOffset";function F(t,e,n){var r,i,o,s=new Array(n),a=8*n-e-1,u=(1<<a)-1,l=u>>1,c=23===e?E(2,-24)-E(2,-77):0,p=0,h=t<0||0===t&&1/t<0?1:0;for((t=C(t))!=t||t===P?(i=t!=t?1:0,r=u):(r=M(k(t)/O),t*(o=E(2,-r))<1&&(r--,o*=2),(t+=r+l>=1?c/o:c*E(2,1-l))*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(t*o-1)*E(2,e),r+=l):(i=t*E(2,l-1)*E(2,e),r=0));e>=8;s[p++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;a>0;s[p++]=255&r,r/=256,a-=8);return s[--p]|=128*h,s}function j(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,s=o>>1,a=i-7,u=n-1,l=t[u--],c=127&l;for(l>>=7;a>0;c=256*c+t[u],u--,a-=8);for(r=c&(1<<-a)-1,c>>=-a,a+=e;a>0;r=256*r+t[u],u--,a-=8);if(0===c)c=1-s;else{if(c===o)return r?NaN:l?-P:P;r+=E(2,e),c-=s}return(l?-1:1)*r*E(2,c-e)}function R(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function L(t){return[255&t]}function N(t){return[255&t,t>>8&255]}function U(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function z(t){return F(t,52,8)}function G(t){return F(t,23,4)}function B(t,e,n){g(t[y],e,{get:function(){return this[n]}})}function V(t,e,n,r){var i=f(+n);if(i+e>t[D])throw S(_);var o=i+t[I],s=t[A]._b.slice(o,o+e);return r?s:s.reverse()}function q(t,e,n,r,i,o){var s=f(+n);if(s+e>t[D])throw S(_);for(var a=t[A]._b,u=s+t[I],l=r(+i),c=0;c<e;c++)a[u+c]=l[o?c:e-c-1]}if(s.ABV){if(!l(function(){x(1)})||!l(function(){new x(-1)})||l(function(){return new x,new x(1.5),new x(NaN),"ArrayBuffer"!=x.name})){for(var H,W=(x=function(t){return c(this,x),new T(f(t))})[y]=T[y],Y=d(T),X=0;Y.length>X;)(H=Y[X++])in x||a(x,H,T[H]);o||(W.constructor=x)}var Z=new b(new x(2)),$=b[y].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||u(b[y],{setInt8:function(t,e){$.call(this,t,e<<24>>24)},setUint8:function(t,e){$.call(this,t,e<<24>>24)}},!0)}else x=function(t){c(this,x,"ArrayBuffer");var e=f(t);this._b=m.call(new Array(e),0),this[D]=e},b=function(t,e,n){c(this,b,"DataView"),c(t,x,"DataView");var r=t[D],i=p(e);if(i<0||i>r)throw S("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw S("Wrong length!");this[A]=t,this[I]=i,this[D]=n},i&&(B(x,"byteLength","_l"),B(b,"buffer","_b"),B(b,"byteLength","_l"),B(b,"byteOffset","_o")),u(b[y],{getInt8:function(t){return V(this,1,t)[0]<<24>>24},getUint8:function(t){return V(this,1,t)[0]},getInt16:function(t){var e=V(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=V(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return R(V(this,4,t,arguments[1]))},getUint32:function(t){return R(V(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return j(V(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return j(V(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){q(this,1,t,L,e)},setUint8:function(t,e){q(this,1,t,L,e)},setInt16:function(t,e){q(this,2,t,N,e,arguments[2])},setUint16:function(t,e){q(this,2,t,N,e,arguments[2])},setInt32:function(t,e){q(this,4,t,U,e,arguments[2])},setUint32:function(t,e){q(this,4,t,U,e,arguments[2])},setFloat32:function(t,e){q(this,4,t,G,e,arguments[2])},setFloat64:function(t,e){q(this,8,t,z,e,arguments[2])}});v(x,"ArrayBuffer"),v(b,"DataView"),a(b[y],s.VIEW,!0),e.ArrayBuffer=x,e.DataView=b},Lrp7:function(t,e,n){var r=n("PD94"),i=n("MuA4"),o=n("JyYQ"),s=n("NGEn"),a=n("zBOP");t.exports=function(t,e,n){var u=s(t)?r:i;return n&&a(t,e,n)&&(e=void 0),u(t,o(e,3))}},"Lv+K":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="_GlobalPooling1D";const{data_format:e="channels_last"}=t;this.dataFormat=e,this.poolingFunc="max",this.gpu&&(this.poolingProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int channelDataSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (isMaxPooling) {\n    // GlobalMaxPooling\n    float maxval = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      if (j == 0 || val > maxval) {\n        maxval = val;\n      }\n    }\n    outColor = vec4(maxval);\n  } else {\n    // GlobalAveragePooling\n    float sum = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      sum += val;\n    }\n    outColor = vec4(sum / float(channelDataSize));\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const[e,n]=t.tensor.shape;this.output=new i.default([],[n]);for(let r=0,i=n;r<i;r++)"max"===this.poolingFunc?this.output.tensor.set(r,s.default.sup(t.tensor.pick(null,r))):"average"===this.poolingFunc&&this.output.tensor.set(r,s.default.sum(t.tensor.pick(null,r))/e)}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputShape=t.tensor.shape,this.output||(this.output=new i.default([],[this.inputShape[1]]),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.inputShape[0],type:"int",name:"channelDataSize"},{value:+("max"===this.poolingFunc),type:"bool",name:"isMaxPooling"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},M1c9:function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},M6Wl:function(t,e,n){var r=n("rpnb"),i=n("ktak");t.exports=function(t,e){return t&&r(t,e,i)}},M8WE:function(t,e,n){e.f=n("kkCw")},MYeC:function(t,e,n){"use strict";function r(){this.message="String contains an invalid character"}(r.prototype=new Error).code=5,r.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,i=String(t),o="",s=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.charAt(0|s)||(a="=",s%1);o+=a.charAt(63&e>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new r;e=e<<8|n}return o}},MfeA:function(t,e,n){n("Vg1y")("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},MjHD:function(t,e,n){var r=n("Ds5P"),i=n("x78i"),o=Math.exp;r(r.S+r.F*n("zgIt")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},MoMe:function(t,e,n){var r=n("FCuZ"),i=n("l9Lx"),o=n("ktak");t.exports=function(t){return r(t,o,i)}},MsuQ:function(t,e,n){"use strict";var r=n("Dgii"),i=n("zq/X");t.exports=n("0Rih")("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},MuA4:function(t,e,n){var r=n("v9aJ");t.exports=function(t,e){var n=!0;return r(t,function(t,r,i){return n=!!e(t,r,i)}),n}},MyjO:function(t,e,n){n("77Ug")("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},N1of:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="UpSampling3D";const{size:e=[2,2,2],data_format:n="channels_last"}=t;this.size=Array.isArray(e)?e:[e,e,e],this.dataFormat=n,this.description=`size ${this.size.join("x")}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]*this.size[0],this.inputShape[1]*this.size[1],this.inputShape[2]*this.size[2],this.inputShape[3]],this.output=new i.default([],this.outputShape);for(let e=0;e<this.size[0];e++)for(let n=0;n<this.size[1];n++)for(let r=0;r<this.size[2];r++)s.default.assign(this.output.tensor.lo(e,n,r,0).step(this.size[0],this.size[1],this.size[2],1),t.tensor);"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(3,0,1,2),this.output.tensor=this.output.tensor.transpose(3,0,1,2))}_createIndexMap(t,e){if(this.indexMap)return;const n=new i.default(t.data,t.shape,{type:Int32Array});this.indexMap=new i.default([],this.outputShape,{type:Int32Array});for(let r=0;r<this.size[0];r++)for(let t=0;t<this.size[1];t++)for(let e=0;e<this.size[2];e++){const i="channels_first"===this.dataFormat?[1,this.size[0],this.size[1],this.size[2]]:[this.size[0],this.size[1],this.size[2],1];s.default.assign(this.indexMap.tensor.lo(..."channels_first"===this.dataFormat?[0,r,t,e]:[r,t,e,0]).step(...i),n.tensor)}e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]*this.size[0],this.inputShape[2]*this.size[1],this.inputShape[3]*this.size[2]]:[this.inputShape[0]*this.size[0],this.inputShape[1]*this.size[1],this.inputShape[2]*this.size[2],this.inputShape[3]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new i.default([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}},N2SB:function(t,e,n){"use strict";var r=n("neHe"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},N4KQ:function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},NGEn:function(t,e){var n=Array.isArray;t.exports=n},NHaJ:function(t,e,n){var r=n("wCso"),i=n("DIVP"),o=n("KOrd"),s=r.has,a=r.get,u=r.key,l=function(t,e,n){if(s(t,e,n))return a(t,e,n);var r=o(e);return null!==r?l(t,r,n):void 0};r.exp({getMetadata:function(t,e){return l(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},NNrz:function(t,e,n){"use strict";var r=n("zgIt");t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},Ncs3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t}},NfZy:function(t,e,n){n("77Ug")("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},NkRn:function(t,e,n){var r=n("TQ3y");t.exports=r.Symbol},Nkrw:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("LhTa")(4);r(r.P+r.F*!n("NNrz")([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},No4x:function(t,e,n){var r=n("Ds5P");r(r.P,"Array",{fill:n("zCYm")}),n("RhFG")("fill")},NqZt:function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},NupP:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new function(t,e,n){this.fn=t,this.context=e,this.once=n||!1}(n,r||t,o),a=i?i+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=this._events[i?i+t:t];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,r=e.length,o=new Array(r);n<r;n++)o[n]=e[n].fn;return o},u.prototype.listenerCount=function(t){var e=this._events[i?i+t:t];return e?e.fn?1:e.length:0},u.prototype.emit=function(t,e,n,r,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],p=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,s),!0}for(l=1,u=new Array(p-1);l<p;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var h,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),p){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,r);break;default:if(!u)for(h=1,u=new Array(p-1);h<p;h++)u[h-1]=arguments[h];c[l].fn.apply(c[l].context,u)}}return!0},u.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==e||r&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?this._events[e=i?i+t:t]&&a(this,e):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,t.exports=u},O0wF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("t6in")),i=u(n("6E9d")),o=n("hgeo"),s=u(n("CvWx")),a=u(n("Obwb"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="RepeatVector";const{n:e=1}=t;this.n=e,this.description=`n = ${e}`,this.gpu&&(this.program=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  outColor = texture(x, vec2(outTex.x, 0));\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){1!==t.tensor.shape.length&&this.throwError("Only 1D tensor inputs allowed."),this.output=new i.default([],[this.n,t.tensor.shape[1]]),this.output.tensor=(0,a.default)((0,s.default)(t.tensor,0),[this.n,1])}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.output||(this.output=new i.default([],[this.n,t.glTextureShape[1]]),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},OVmG:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("TToO"),i=n("/iUD"),o=n("VwZZ"),s=n("t7NR"),a=n("tLDX"),u=function(t){function e(e,n,r){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.a;break;case 1:if(!e){this.destination=s.a;break}if("object"==typeof e){if(c(e)){var i=e[a.a]();this.syncErrorThrowable=i.syncErrorThrowable,this.destination=i,i.add(this)}else this.syncErrorThrowable=!0,this.destination=new l(this,e);break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,n,r)}}return Object(r.b)(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(o.a),l=function(t){function e(e,n,r,o){var a;t.call(this),this._parentSubscriber=e;var u=this;Object(i.a)(n)?a=n:n&&(a=n.next,r=n.error,o=n.complete,n!==s.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=a,this._error=r,this._complete=o}return Object(r.b)(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u);function c(t){return t instanceof u||"syncErrorThrowable"in t&&t[a.a]}},Obwb:function(t,e,n){"use strict";var r=n("p8g3"),i=n("4pkP");t.exports=function(){var t,e,n,o;if(2===arguments.length?(e=arguments[0],o=arguments[1]):3===arguments.length&&(n=arguments[0],e=arguments[1],o=arguments[2]),!Array.isArray(o))throw new Error("second argument of tile must be an array of repetition counts for each dimension");var s=e.shape.slice(0),a=s.slice(0),u=Math.max(a.length,o.length);for(t=0;t<u;t++)if(s[t]=void 0===s[t]?1:s[t],o[t]=void 0===o[t]?1:o[t],a[t]=(void 0===a[t]?1:a[t])*o[t],0===a[t])throw new Error("Number of tiles must be greater than zero");n||(n=r.zeros(a,e.dtype));var l=1;for(t=0;t<o.length;t++)l*=o[t];var c=new Array(o.length);for(t=0;t<o.length;t++)c[t]=0;var p=a.slice(0);for(f=0;f<a.length;f++)p[f]=f<e.dimension?null:0;for(t=0;t<l;t++){for(f=e.dimension;f<a.length;f++)p[f]=c[f];var h=n.pick.apply(n,p);if(h=(h=h.lo.apply(h,c)).hi.apply(h,e.shape),i.assign(h,e),t===l-1)break;for(var f=u-1;f>=0&&(c[f]+=s[f],c[f]===a[f]);)c[f]=0,f--}return n}},OgTs:function(t,e,n){var r=n("OzIq").parseInt,i=n("Ymdd").trim,o=n("Xduv"),s=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(s.test(n)?16:10))}:r},Ox8d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("fjY8"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),u.call(this),this.layerClass="ThresholdedReLU";const{theta:e=1}=t;this.description=`theta: ${e}`,this.theta=e,this.gpu&&(this.program=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform float theta;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = v * float(greaterThan(v, vec4(theta)));\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.output=t,this._compute(this.output.tensor,this.theta)}_callGPU(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new i.default([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.theta,type:"float",name:"theta"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}};var u=function(){Object.defineProperty(this,"_compute",{configurable:!0,enumerable:!0,writable:!0,value:(0,s.default)({args:["array","scalar"],body:function(t,e){t*=Number(t>e)}})})}},OzIq:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},PCMU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={InputLayer:!0};Object.defineProperty(e,"InputLayer",{enumerable:!0,get:function(){return o.default}});var i,o=(i=n("1lgc"))&&i.__esModule?i:{default:i},s=n("UZJc");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))});var a=n("dbYV");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))});var u=n("wH60");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))});var l=n("titw");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))});var c=n("Iaxw");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}}))});var p=n("mNzn");Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}}))});var h=n("6OMS");Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}}))});var f=n("o0cy");Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}}))});var d=n("/sk4");Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}}))});var g=n("g9KF");Object.keys(g).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}}))})},PD94:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}},PHCx:function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},PHqh:function(t,e,n){var r=n("Q6Nf"),i=n("/whu");t.exports=function(t){return r(i(t))}},POb3:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"Map");t.exports=r},PROF:function(t,e,n){"use strict";t.exports=function(){console.error("SYR (symmetric rank 2 operation A := alpha*x*y' + alpha*y*x' + A) not yet implemented")}},PbPd:function(t,e,n){"use strict";var r=n("UKM+"),i=n("KOrd"),o=n("kkCw")("hasInstance"),s=Function.prototype;o in s||n("lDLk").f(s,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},PtK0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("t6in")),i=u(n("6E9d")),o=n("hgeo"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n("7a8O")),a=u(n("4pkP"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="_Pooling3D";const{pool_size:e=[2,2,2],strides:n=null,padding:r="valid",data_format:i="channels_last"}=t;this.poolSize=Array.isArray(e)?e:[e,e,e],this.strides=Array.isArray(n)?n:null!==n?[n,n,n]:this.poolSize,this.padding=r,this.dataFormat=i,this.poolingFunc="max",this.description=`pool size ${this.poolSize.join("x")}`,this.description+=this.strides.some(t=>t>1)?`, ${this.strides.join("x")} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.gpu&&(this.poolingProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(textureSize(poolIndexMap, 0)[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    if (poolIndex != -1) {\n      float val2 = texelFetch(x, ivec2(out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n"),this.poolingFragmentsProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(poolIndexMap, 0);\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    int fragmentIndex = int(floor(float(poolIndex) / float(inputSize[1])));\n    if (poolIndex != -1) {\n      poolIndex = int(mod(float(poolIndex), float(inputSize[1])));\n      float val2 = texelFetch(x, ivec2(fragmentIndex * channels + out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_calcOutputShape(t){if(this.outputShape&&this.inputPadding)return;const[e,n,r,i]=t,[o,s,a]=this.poolSize,u="same"===this.padding?Math.floor((e+this.strides[0]-1)/this.strides[0]):Math.floor((e-o+this.strides[0])/this.strides[0]),l="same"===this.padding?Math.floor((n+this.strides[1]-1)/this.strides[1]):Math.floor((n-s+this.strides[1])/this.strides[1]),c="same"===this.padding?Math.floor((r+this.strides[2]-1)/this.strides[2]):Math.floor((r-a+this.strides[2])/this.strides[2]),p="same"===this.padding?Math.max(0,Math.floor((u-1)*this.strides[0]+o-e)):0,h="same"===this.padding?Math.max(0,Math.floor((l-1)*this.strides[1]+s-n)):0,f="same"===this.padding?Math.max(0,Math.floor((c-1)*this.strides[2]+a-r)):0,d=Math.floor(p/2),g=p-d,m=Math.floor(h/2),v=h-m,y=Math.floor(f/2),_=f-y;this.outputShape=[u,l,c,i],this.inputPadding=[d,g,m,v,y,_]}_padInput(t){if("same"===this.padding){const[e,n,r,o]=t.tensor.shape,[s,u,l,c,p,h]=this.inputPadding,f=new i.default([],[e+s+u,n+l+c,r+p+h,o]);return"max"===this.poolingFunc&&a.default.assigns(f.tensor,Number.NEGATIVE_INFINITY),a.default.assign(f.tensor.hi(e+s,n+l,r+p,o).lo(s,l,p,0),t.tensor),f}return t}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this._calcOutputShape(t.tensor.shape),t=this._padInput(t);const[e,n,r,o]=t.tensor.shape,[s,u,l]=this.poolSize;this.output=new i.default([],this.outputShape);let c=new i.default([],[s,u,l,o]);const[p,h,f,d,g,m]=this.inputPadding;for(let i=0,v=0;i<=e-s;i+=this.strides[0],v++){let y=0;i<p?y=p-i:i+s>e-h&&(y=i+s-(e-h));for(let e=0,p=0;e<=n-u;e+=this.strides[1],p++){let h=0;e<f?h=f-e:e+u>n-d&&(h=e+u-(n-d));for(let n=0,f=0;n<=r-l;n+=this.strides[2],f++){let d=0;n<g?d=g-n:n+l>r-m&&(d=n+l-(r-m));const _=(s-y)*(u-h)*(l-d);a.default.assign(c.tensor,t.tensor.hi(i+s,e+u,n+l,o).lo(i,e,n,0));for(let t=0;t<o;t++)"max"===this.poolingFunc?this.output.tensor.set(v,p,f,t,a.default.sup(c.tensor.pick(null,null,null,t))):"average"===this.poolingFunc&&this.output.tensor.set(v,p,f,t,a.default.sum(c.tensor.pick(null,null,null,t))/_)}}}"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(3,0,1,2))}_vol2col(t){const[e,n,r,o]=t.tensor.shape;this.tiledInput||(this.tiledInput=new i.default([],[e*n*r,o]));const s=new i.default([],[e,n,r]),u=new i.default([],[e*n*r]);for(let i=0;i<o;i++)a.default.assign(s.tensor,t.tensor.pick(null,null,null,i)),u.replaceTensorData(s.tensor.data),a.default.assign(this.tiledInput.tensor.pick(null,i),u.tensor);return this.tiledInput}_createIndexMap(){if(this.poolIndexMap)return;let t=this.inputShape[0],e=this.inputShape[1],n=this.inputShape[2];const r=new i.default([],[t,e,n]);let o=0;for(let i=0;i<t;i++)for(let t=0;t<e;t++)for(let e=0;e<n;e++)r.tensor.set(i,t,e,o),o+=1;if("same"===this.padding){const[o,s,u,l,c,p]=this.inputPadding,h=new i.default([],[t=t+o+s,e=e+u+l,n=n+c+p]);a.default.assigns(h.tensor,-1),a.default.assign(h.tensor.hi(this.inputShape[0]+o,this.inputShape[1]+u,this.inputShape[2]+c).lo(o,u,c),r.tensor),r.tensor=h.tensor}const[s,u,l]=this.poolSize;this.poolIndexMap=new i.default([],[this.outputShape[0]*this.outputShape[1]*this.outputShape[2],s*u*l],{type:Int32Array});const c=new i.default([],[s,u,l]);let p=0;for(let i=0,h=t-s;i<=h;i+=this.strides[0])for(let t=0,o=e-u;t<=o;t+=this.strides[1])for(let e=0,h=n-l;e<=h;e+=this.strides[2])a.default.assign(c.tensor,r.tensor.hi(i+s,t+u,e+l).lo(i,t,e)),this.poolIndexMap.tensor.data.set(c.tensor.data,p),p+=s*u*l;this.poolIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){if(t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:("channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,this._vol2col(t),this.tiledInput.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})),this._calcOutputShape(this.inputShape),this._createIndexMap(),!this.output){const[t,e,n,r]=this.outputShape;this.output=new i.default([],[t*e*n,r]),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=s.createIndicesFor2DReshaped(this.outputShape,!1,-1)}const e=t.is2DReshaped||t.is2DSquareReshaped?t:this.tiledInput,n=[{value:this.output.glTextureShape[1],type:"int",name:"channels"},{value:this.poolSize[0]*this.poolSize[1]*this.poolSize[2],type:"int",name:"poolSize"},{value:+("max"===this.poolingFunc),type:"bool",name:"isMaxPooling"}];e.glTextureFragments?(e.convert2DRowFragmentedGLTextureToColStack(),o.webgl2.runProgram({program:this.poolingFragmentsProgram,output:this.output,inputs:[{input:e,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:n,supportsTextureFragments:!0}),e.removeGLTextureFragmentsAsColStack()):o.webgl2.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:e,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:n}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(3,0,1,2)))}}},PuTd:function(t,e,n){var r=n("Ds5P"),i=n("KOrd"),o=n("DIVP");r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},"Q/CP":function(t,e,n){n("CEne")("Array")},Q2wK:function(t,e,n){var r=n("8AZL"),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=i(o.length-e,0),u=Array(a);++s<a;)u[s]=o[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=o[s];return l[e]=n(u),r(t,this,l)}}},Q6Nf:function(t,e,n){var r=n("ydD5");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},Q7hp:function(t,e,n){var r=n("uCi2");t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},QBuC:function(t,e,n){"use strict";var r=n("OzIq"),i=n("WBcL"),o=n("ydD5"),s=n("kic5"),a=n("s4j0"),u=n("zgIt"),l=n("WcO1").f,c=n("x9zv").f,p=n("lDLk").f,h=n("Ymdd").trim,f=r.Number,d=f,g=f.prototype,m="Number"==o(n("7ylX")(g)),v="trim"in String.prototype,y=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=v?e.trim():h(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,u=e.slice(2),l=0,c=u.length;l<c;l++)if((s=u.charCodeAt(l))<48||s>i)return NaN;return parseInt(u,r)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(m?u(function(){g.valueOf.call(n)}):"Number"!=o(n))?s(new d(y(e)),n,f):y(e)};for(var _,x=n("bUqO")?l(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;x.length>b;b++)i(d,_=x[b])&&!i(f,_)&&p(f,_,c(d,_));f.prototype=g,g.constructor=f,n("R3AP")(r,"Number",f)}},QG7u:function(t,e,n){var r=n("vmSO");t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},QINn:function(t,e,n){"use strict";t.exports=function(t,e,n){return 0===t.length?t:e?(n||t.sort(e),function(t,e){for(var n=1,r=t.length,i=t[0],o=t[0],s=1;s<r;++s)if(o=i,e(i=t[s],o)){if(s===n){n++;continue}t[n++]=i}return t.length=n,t}(t,e)):(n||t.sort(),function(t){for(var e=1,n=t.length,r=t[0],i=t[0],o=1;o<n;++o,i=r)if(i=r,(r=t[o])!==i){if(o===e){e++;continue}t[e++]=r}return t.length=e,t}(t))}},QKXm:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},QRBJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[2];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${e[0]}) * outTex.y);\n  int out_x = int(float(${e[1]}) * outTex.x);\n  \n  outColor = vec4(texelFetch(inputs[0], ivec2(out_x, out_y), 0).r - texelFetch(inputs[1], ivec2(out_x, out_y), 0).r);\n}\n`}},QWLi:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("oeih"),o=n("fS0v"),s=n("xAdt"),a=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",p=function(t,e){for(var n=-1,r=e;++n<6;)l[n]=(r+=t*l[n])%1e7,r=u(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)l[e]=u((n+=l[e])/t),n=n%t*1e7},f=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+s.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n("zgIt")(function(){a.call({})})),"Number",{toFixed:function(t){var e,n,r,a,u=o(this,c),l=i(t),g="",m="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(p(0,n),r=l;r>=7;)p(1e7,0),r-=7;for(p(d(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),p(1,1),h(2),m=f()}else p(0,n),p(1<<-e,0),m=f()+s.call("0",l);return l>0?g+((a=m.length)<=l?"0."+s.call("0",l-a)+m:m.slice(0,a-l)+"."+m.slice(a-l)):g+m}})},QaEu:function(t,e,n){var r=n("Ds5P");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},QcWB:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("w6Dh"),o=n("SDXa");r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},Qh14:function(t,e,n){var r=n("ReGu"),i=n("QKXm");t.exports=Object.keys||function(t){return r(t,i)}},Qify:function(t,e,n){"use strict";var r=n("neHe");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},Qp3N:function(t,e,n){var r=n("NkRn"),i=n("1Yb9"),o=n("NGEn"),s=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(s&&t&&t[s])}},Qvoi:function(t,e,n){"use strict";var r=n("AL2p"),i=n("fjY8")({args:["array","scalar","index"],body:function(t,e,n){var r,i=e;for(r=0;r<n.length-1;++r)i=i[n[r]];i[n[n.length-1]]=t}});t.exports=function(t){var e=r(t.shape);return i(t,e),e}},QzLV:function(t,e,n){var r=n("Ds5P");r(r.S+r.F*!n("bUqO"),"Object",{defineProperty:n("lDLk").f})},R3AP:function(t,e,n){var r=n("OzIq"),i=n("2p1q"),o=n("WBcL"),s=n("ulTY")("src"),a=Function.toString,u=(""+a).split("toString");n("7gX0").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,s)||i(n,s,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},R3KI:function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},R4pa:function(t,e,n){"use strict";n("y325")("big",function(t){return function(){return t(this,"big","","")}})},RGrk:function(t,e,n){var r=n("dCZQ"),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},RJyB:function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,i,o){for(var s=-1,a=r(n((e-t)/(i||1)),0),u=Array(a);a--;)u[o?a:++s]=t,t+=i;return u}},Racj:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("49qz")(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},Re3r:function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},ReGu:function(t,e,n){var r=n("WBcL"),i=n("PHqh"),o=n("ot5s")(!1),s=n("mZON")("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(l,n)||l.push(n));return l}},ReX1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="ZeroPadding3D";const{padding:e=[[1,1],[1,1],[1,1]],data_format:n="channels_last"}=t;this.padding=Array.isArray(e)?Array.isArray(e[0])?e:[[e[0],e[0]],[e[1],e[1]],[e[2],e[2]]]:[[e,e],[e,e],[e,e]],this.dataFormat=n,this.description=`${JSON.stringify(this.padding)}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]+this.padding[0][0]+this.padding[0][1],this.inputShape[1]+this.padding[1][0]+this.padding[1][1],this.inputShape[2]+this.padding[2][0]+this.padding[2][1],this.inputShape[3]],this.output=new i.default([],this.outputShape),s.default.assign(this.output.tensor.hi(this.inputShape[0]+this.padding[0][0],this.inputShape[1]+this.padding[1][0],this.inputShape[2]+this.padding[2][0],this.inputShape[3]).lo(this.padding[0][0],this.padding[1][0],this.padding[2][0],0),t.tensor),"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(3,0,1,2),this.output.tensor=this.output.tensor.transpose(3,0,1,2))}_createIndexMap(t,e){if(this.indexMap)return;const n=new i.default(t.data,t.shape,{type:Int32Array});this.indexMap=new i.default([],this.outputShape,{type:Int32Array});const r="channels_first"===this.dataFormat?[0,this.padding[0][0],this.padding[1][0],this.padding[2][0]]:[this.padding[0][0],this.padding[1][0],this.padding[2][0],0],o="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]+this.padding[0][0],this.inputShape[2]+this.padding[1][0],this.inputShape[3]+this.padding[2][0]]:[this.inputShape[0]+this.padding[0][0],this.inputShape[1]+this.padding[1][0],this.inputShape[2]+this.padding[2][0],this.inputShape[3]];s.default.assigns(this.indexMap.tensor,-1),s.default.assign(this.indexMap.tensor.hi(...o).lo(...r),n.tensor),e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]+this.padding[0][0]+this.padding[0][1],this.inputShape[2]+this.padding[1][0]+this.padding[1][1],this.inputShape[3]+this.padding[2][0]+this.padding[2][1]]:[this.inputShape[0]+this.padding[0][0]+this.padding[0][1],this.inputShape[1]+this.padding[1][0]+this.padding[1][1],this.inputShape[2]+this.padding[2][0]+this.padding[2][1],this.inputShape[3]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new i.default([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}},Rf9G:function(t,e,n){"use strict";var r=n("TToO"),i=n("g5jc"),o=n("YaPU"),s=n("OVmG"),a=n("VwZZ");function u(){return function(t){return t.lift(new l(t))}}var l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),c=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(r.b)(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(s.a),p=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return Object(r.b)(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed?(this._connection=null,t=a.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return u()(this)},e}(o.a).prototype,h={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:p._subscribe},_isComplete:{value:p._isComplete,writable:!0},getSubject:{value:p.getSubject},connect:{value:p.connect},refCount:{value:p.refCount}},f=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(r.b)(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);function d(){return new i.a}e.a=function(){return this,u()((t=d,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,h);return r.source=e,r.subjectFactory=n,r})(this));var t}},RfZv:function(t,e,n){var r=n("SOZo"),i=n("IGcM");t.exports=function(t,e){return null!=t&&i(t,e,r)}},Rh28:function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},RhFG:function(t,e,n){var r=n("kkCw")("unscopables"),i=Array.prototype;void 0==i[r]&&n("2p1q")(i,r,{}),t.exports=function(t){i[r][t]=!0}},Rk41:function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n("R3AP")(r,"toString",function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"})},Rmdu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("HKKY"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="AveragePooling2D",this.poolingFunc="average"}}},Rw4K:function(t,e,n){var r=n("Ds5P");r(r.S,"Reflect",{ownKeys:n("YUr7")})},Rz2z:function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},"S+E/":function(t,e,n){var r=n("Ds5P"),i=n("OgTs");r(r.G+r.F*(parseInt!=i),{parseInt:i})},S7p9:function(t,e){t.exports=function(t){return function(e){return t(e)}}},SDXa:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},SEjm:function(t,e,n){"use strict";var r=n("Kwd2");function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},SEnz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("t6in"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="Dropout";const{rate:e=.5}=t;this.description=`${e}`,this.rate=Math.min(Math.max(0,e),1)}call(t){return this.output=t,this.output}}},SHWz:function(t,e,n){var r=n("MoMe"),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,s,a){var u=1&n,l=r(t),c=l.length;if(c!=r(e).length&&!u)return!1;for(var p=c;p--;){var h=l[p];if(!(u?h in e:i.call(e,h)))return!1}var f=a.get(t);if(f&&a.get(e))return f==e;var d=!0;a.set(t,e),a.set(e,t);for(var g=u;++p<c;){var m=t[h=l[p]],v=e[h];if(o)var y=u?o(v,m,h,e,t,a):o(m,v,h,t,e,a);if(!(void 0===y?m===v||s(m,v,n,o,a):y)){d=!1;break}g||(g="constructor"==h)}if(d&&!g){var _=t.constructor,x=e.constructor;_!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(d=!1)}return a.delete(t),a.delete(e),d}},SHe9:function(t,e,n){var r=n("wC1N"),i=n("kkCw")("iterator"),o=n("bN1p");t.exports=n("7gX0").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},SOZo:function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},SPtU:function(t,e,n){var r=n("x9zv"),i=n("KOrd"),o=n("WBcL"),s=n("Ds5P"),a=n("UKM+"),u=n("DIVP");s(s.S,"Reflect",{get:function t(e,n){var s,l,c=arguments.length<3?e:arguments[2];return u(e)===c?e[n]:(s=r.f(e,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(c):void 0:a(l=i(e))?t(l,n,c):void 0}})},SRCy:function(t,e,n){var r=n("Ds5P"),i=n("x78i"),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},"SU+a":function(t,e,n){"use strict";n("y325")("small",function(t){return function(){return t(this,"small","","")}})},Sejc:function(t,e,n){var r,i,o,s=n("rFzY"),a=n("PHCx"),u=n("d075"),l=n("jhxf"),c=n("OzIq"),p=c.process,h=c.setImmediate,f=c.clearImmediate,d=c.MessageChannel,g=c.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},_=function(t){y.call(t.data)};h&&f||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){a("function"==typeof t?t:Function(t),e)},r(m),m},f=function(t){delete v[t]},"process"==n("ydD5")(p)?r=function(t){p.nextTick(s(y,t,1))}:g&&g.now?r=function(t){g.now(s(y,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=_,r=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:h,clear:f}},Sftb:function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i=e.data,o=n.data,s=e.stride[0],a=n.stride[0],u=e.offset,l=n.offset;for(r=e.shape[0]-1;r>=0;r--,u+=s,l+=a)o[l]+=t*i[u]}},SkTP:function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i=t.data,o=t.stride[0],s=t.offset,a=0;if(t===e)for(n=t.shape[0]-1;n>=0;n--,s+=o)a+=(r=i[s])*r;else{var u=e.data,l=e.stride[0],c=e.offset;for(n=t.shape[0]-1;n>=0;n--,s+=o,c+=l)a+=u[c]*i[s]}return a}},SldL:function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l="object"==typeof t,c=e.regeneratorRuntime;if(c)l&&(t.exports=c);else{(c=e.regeneratorRuntime=l?t.exports:{}).wrap=x;var p="suspendedStart",h="suspendedYield",f="executing",d="completed",g={},m={};m[s]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(A([])));y&&y!==r&&i.call(y,s)&&(m=y);var _=P.prototype=w.prototype=Object.create(m);S.prototype=_.constructor=P,P.constructor=S,P[u]=S.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,P):(t.__proto__=P,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(_),t},c.awrap=function(t){return{__await:t}},T(C.prototype),C.prototype[a]=function(){return this},c.AsyncIterator=C,c.async=function(t,e,n,r){var i=new C(x(t,e,n,r));return c.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},T(_),_[u]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=A,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return a.type="throw",a.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function x(t,e,n,r){var i=Object.create((e&&e.prototype instanceof w?e:w).prototype),o=new O(r||[]);return i._invoke=function(t,e,n){var r=p;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return D()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=E(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=b(t,e,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,o),i}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function w(){}function S(){}function P(){}function T(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function C(t){var e;this._invoke=function(n,r){function o(){return new Promise(function(e,o){!function e(n,r,o,s){var a=b(t[n],t,r);if("throw"!==a.type){var u=a.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},s)}s(a.arg)}(n,r,e,o)})}return e=e?e.then(o,o):o()}}function E(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,E(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=b(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function A(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:D}}function D(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},Spd1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("t6in"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="GaussianDropout";const{rate:e=.5}=t;this.rate=Math.min(Math.max(0,e),1)}call(t){return this.output=t,this.output}}},Stuz:function(t,e,n){var r=n("Ds5P");r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},SveS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Model=e.Weights=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n("Zo2E"));const i=r.Reader,o=r.Writer,s=r.util,a=r.roots.default||(r.roots.default={});e.default=a;const u=a.Weights=(()=>{function t(t){if(this.shape=[],t)for(let e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.layerName="",t.prototype.weightName="",t.prototype.shape=s.emptyArray,t.prototype.type="",t.prototype.data=s.newBuffer([]),t.prototype.quantizeMin=0,t.prototype.quantizeMax=0,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=o.create()),null!=t.layerName&&t.hasOwnProperty("layerName")&&e.uint32(10).string(t.layerName),null!=t.weightName&&t.hasOwnProperty("weightName")&&e.uint32(18).string(t.weightName),null!=t.shape&&t.shape.length){e.uint32(26).fork();for(let n=0;n<t.shape.length;++n)e.uint32(t.shape[n]);e.ldelim()}return null!=t.type&&t.hasOwnProperty("type")&&e.uint32(34).string(t.type),null!=t.data&&t.hasOwnProperty("data")&&e.uint32(42).bytes(t.data),null!=t.quantizeMin&&t.hasOwnProperty("quantizeMin")&&e.uint32(53).float(t.quantizeMin),null!=t.quantizeMax&&t.hasOwnProperty("quantizeMax")&&e.uint32(61).float(t.quantizeMax),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof i||(t=i.create(t));let n=void 0===e?t.len:t.pos+e,r=new a.Weights;for(;t.pos<n;){let e=t.uint32();switch(e>>>3){case 1:r.layerName=t.string();break;case 2:r.weightName=t.string();break;case 3:if(r.shape&&r.shape.length||(r.shape=[]),2==(7&e)){let e=t.uint32()+t.pos;for(;t.pos<e;)r.shape.push(t.uint32())}else r.shape.push(t.uint32());break;case 4:r.type=t.string();break;case 5:r.data=t.bytes();break;case 6:r.quantizeMin=t.float();break;case 7:r.quantizeMax=t.float();break;default:t.skipType(7&e)}}return r},t.decodeDelimited=function(t){return t instanceof i||(t=new i(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.layerName&&t.hasOwnProperty("layerName")&&!s.isString(t.layerName))return"layerName: string expected";if(null!=t.weightName&&t.hasOwnProperty("weightName")&&!s.isString(t.weightName))return"weightName: string expected";if(null!=t.shape&&t.hasOwnProperty("shape")){if(!Array.isArray(t.shape))return"shape: array expected";for(let e=0;e<t.shape.length;++e)if(!s.isInteger(t.shape[e]))return"shape: integer[] expected"}return null!=t.type&&t.hasOwnProperty("type")&&!s.isString(t.type)?"type: string expected":null!=t.data&&t.hasOwnProperty("data")&&!(t.data&&"number"==typeof t.data.length||s.isString(t.data))?"data: buffer expected":null!=t.quantizeMin&&t.hasOwnProperty("quantizeMin")&&"number"!=typeof t.quantizeMin?"quantizeMin: number expected":null!=t.quantizeMax&&t.hasOwnProperty("quantizeMax")&&"number"!=typeof t.quantizeMax?"quantizeMax: number expected":null},t.fromObject=function(t){if(t instanceof a.Weights)return t;let e=new a.Weights;if(null!=t.layerName&&(e.layerName=String(t.layerName)),null!=t.weightName&&(e.weightName=String(t.weightName)),t.shape){if(!Array.isArray(t.shape))throw TypeError(".Weights.shape: array expected");e.shape=[];for(let n=0;n<t.shape.length;++n)e.shape[n]=t.shape[n]>>>0}return null!=t.type&&(e.type=String(t.type)),null!=t.data&&("string"==typeof t.data?s.base64.decode(t.data,e.data=s.newBuffer(s.base64.length(t.data)),0):t.data.length&&(e.data=t.data)),null!=t.quantizeMin&&(e.quantizeMin=Number(t.quantizeMin)),null!=t.quantizeMax&&(e.quantizeMax=Number(t.quantizeMax)),e},t.toObject=function(t,e){e||(e={});let n={};if((e.arrays||e.defaults)&&(n.shape=[]),e.defaults&&(n.layerName="",n.weightName="",n.type="",n.data=e.bytes===String?"":[],n.quantizeMin=0,n.quantizeMax=0),null!=t.layerName&&t.hasOwnProperty("layerName")&&(n.layerName=t.layerName),null!=t.weightName&&t.hasOwnProperty("weightName")&&(n.weightName=t.weightName),t.shape&&t.shape.length){n.shape=[];for(let e=0;e<t.shape.length;++e)n.shape[e]=t.shape[e]}return null!=t.type&&t.hasOwnProperty("type")&&(n.type=t.type),null!=t.data&&t.hasOwnProperty("data")&&(n.data=e.bytes===String?s.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),null!=t.quantizeMin&&t.hasOwnProperty("quantizeMin")&&(n.quantizeMin=e.json&&!isFinite(t.quantizeMin)?String(t.quantizeMin):t.quantizeMin),null!=t.quantizeMax&&t.hasOwnProperty("quantizeMax")&&(n.quantizeMax=e.json&&!isFinite(t.quantizeMax)?String(t.quantizeMax):t.quantizeMax),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t})();e.Weights=u;const l=a.Model=(()=>{function t(t){if(this.modelWeights=[],t)for(let e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.name="",t.prototype.kerasVersion="",t.prototype.backend="",t.prototype.modelConfig="",t.prototype.modelWeights=s.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=o.create()),null!=t.id&&t.hasOwnProperty("id")&&e.uint32(10).string(t.id),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(18).string(t.name),null!=t.kerasVersion&&t.hasOwnProperty("kerasVersion")&&e.uint32(26).string(t.kerasVersion),null!=t.backend&&t.hasOwnProperty("backend")&&e.uint32(34).string(t.backend),null!=t.modelConfig&&t.hasOwnProperty("modelConfig")&&e.uint32(42).string(t.modelConfig),null!=t.modelWeights&&t.modelWeights.length)for(let n=0;n<t.modelWeights.length;++n)a.Weights.encode(t.modelWeights[n],e.uint32(50).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof i||(t=i.create(t));let n=void 0===e?t.len:t.pos+e,r=new a.Model;for(;t.pos<n;){let e=t.uint32();switch(e>>>3){case 1:r.id=t.string();break;case 2:r.name=t.string();break;case 3:r.kerasVersion=t.string();break;case 4:r.backend=t.string();break;case 5:r.modelConfig=t.string();break;case 6:r.modelWeights&&r.modelWeights.length||(r.modelWeights=[]),r.modelWeights.push(a.Weights.decode(t,t.uint32()));break;default:t.skipType(7&e)}}return r},t.decodeDelimited=function(t){return t instanceof i||(t=new i(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")&&!s.isString(t.id))return"id: string expected";if(null!=t.name&&t.hasOwnProperty("name")&&!s.isString(t.name))return"name: string expected";if(null!=t.kerasVersion&&t.hasOwnProperty("kerasVersion")&&!s.isString(t.kerasVersion))return"kerasVersion: string expected";if(null!=t.backend&&t.hasOwnProperty("backend")&&!s.isString(t.backend))return"backend: string expected";if(null!=t.modelConfig&&t.hasOwnProperty("modelConfig")&&!s.isString(t.modelConfig))return"modelConfig: string expected";if(null!=t.modelWeights&&t.hasOwnProperty("modelWeights")){if(!Array.isArray(t.modelWeights))return"modelWeights: array expected";for(let e=0;e<t.modelWeights.length;++e){let n=a.Weights.verify(t.modelWeights[e]);if(n)return"modelWeights."+n}}return null},t.fromObject=function(t){if(t instanceof a.Model)return t;let e=new a.Model;if(null!=t.id&&(e.id=String(t.id)),null!=t.name&&(e.name=String(t.name)),null!=t.kerasVersion&&(e.kerasVersion=String(t.kerasVersion)),null!=t.backend&&(e.backend=String(t.backend)),null!=t.modelConfig&&(e.modelConfig=String(t.modelConfig)),t.modelWeights){if(!Array.isArray(t.modelWeights))throw TypeError(".Model.modelWeights: array expected");e.modelWeights=[];for(let n=0;n<t.modelWeights.length;++n){if("object"!=typeof t.modelWeights[n])throw TypeError(".Model.modelWeights: object expected");e.modelWeights[n]=a.Weights.fromObject(t.modelWeights[n])}}return e},t.toObject=function(t,e){e||(e={});let n={};if((e.arrays||e.defaults)&&(n.modelWeights=[]),e.defaults&&(n.id="",n.name="",n.kerasVersion="",n.backend="",n.modelConfig=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.kerasVersion&&t.hasOwnProperty("kerasVersion")&&(n.kerasVersion=t.kerasVersion),null!=t.backend&&t.hasOwnProperty("backend")&&(n.backend=t.backend),null!=t.modelConfig&&t.hasOwnProperty("modelConfig")&&(n.modelConfig=t.modelConfig),t.modelWeights&&t.modelWeights.length){n.modelWeights=[];for(let r=0;r<t.modelWeights.length;++r)n.modelWeights[r]=a.Weights.toObject(t.modelWeights[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t})();e.Model=l},"T/bE":function(t,e,n){var r=n("94sX"),i=n("ue/d"),o=n("eVIm"),s=n("RGrk"),a=n("Z2pD");function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},T70T:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e={}){const{alpha:n=0,maxValue:o=null}=e;let s;0!==n&&(s=new i.default([],t.tensor.shape),r.default.mins(s.tensor,t.tensor,0),r.default.mulseq(s.tensor,n)),r.default.maxseq(t.tensor,0),o&&r.default.minseq(t.tensor,o),s&&r.default.addeq(t.tensor,s.tensor)};var r=o(n("4pkP")),i=o(n("6E9d"));function o(t){return t&&t.__esModule?t:{default:t}}},T80A:function(t,e,n){"use strict";t.exports=function(){console.error("SBMV (symmetric banded matrix vector multiply) not yet implemented")}},TFWu:function(t,e,n){n("77Ug")("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},THnP:function(t,e,n){n("77Ug")("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},TQ3y:function(t,e,n){var r=n("blYT"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},TToO:function(t,e,n){"use strict";e.b=function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"a",function(){return i});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},TXOt:function(t,e,n){"use strict";var r=n("ESZ6");t.exports=function(t,e,n){var i=r.dot,o=t.shape[1],s=0;if(n)for(e.set(0,e.get(0)/t.get(0,0)),s=1;s<o;s++)e.set(s,(e.get(s)-i(t.pick(s,null).hi(s),e.hi(s)))/t.get(s,s));else for(e.set(o-1,e.get(o-1)/t.get(o-1,o-1)),s=o-2;s>=0;s--)e.set(s,(e.get(s)-i(t.pick(s,null).lo(s+1),e.lo(s+1)))/t.get(s,s));return!0}},TnjD:function(t,e,n){"use strict";t.exports=function(){console.error("TBMV (triangular banded matrix vector multiply) not yet implemented")}},"U+VG":function(t,e,n){var r=n("Ds5P"),i=n("ydD5");r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},U6qc:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("LhTa")(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("RhFG")(o)},U8NY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("sCNu")),i=u(n("6E9d")),o=n("hgeo"),s=u(n("YUKD")),a=u(n("4pkP"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Average",this.mode="ave"}_callCPU(t){const e=t[0].tensor.shape.slice();this.output=new i.default([],e);for(let n=0;n<t.length;n++)a.default.addeq(this.output.tensor,t[n].tensor);a.default.divseq(this.output.tensor,t.length)}_callGPU(t){if(!this.mergeProgram){const e=(0,s.default)("average",t.length,t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape);this.mergeProgram=o.webgl2.compileProgram(e)}super._callGPU(t)}}},UJiG:function(t,e,n){"use strict";n("y325")("link",function(t){return function(e){return t(this,"a","href",e)}})},"UKM+":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},UZJc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"LeakyReLU",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"PReLU",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"ELU",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"ThresholdedReLU",{enumerable:!0,get:function(){return s.default}});var r=a(n("6DuL")),i=a(n("uQkW")),o=a(n("HJdV")),s=a(n("Ox8d"));function a(t){return t&&t.__esModule?t:{default:t}}},UbXY:function(t,e,n){var r=n("Ds5P"),i=n("Y7Tz");r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},Ubhr:function(t,e,n){var r=n("6MiT");t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},UfQB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,i){return`#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform sampler2D kernel;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${t[0]}) * outTex.y);\n  int out_x = int(float(${t[1]}) * outTex.x);\n\n  float sum = 0.;\n  for (int i = 0; i < ${n[1]}; ++i) {\n    int index = texelFetch(indexMap, ivec2(i, out_y), 0).r;    \n    if (index != -1) {\n      int rowIndex = int(floor(float(index) / float(${e[1]})));\n      int colIndex = int(mod(float(index), float(${e[1]})));\n      ${i?`int fragmentIndex = int(floor(float(rowIndex) / float(${e[0]})));\n      rowIndex = int(mod(float(rowIndex), float(${e[0]})));\n      colIndex += fragmentIndex * ${e[1]};`:""}\n      sum += texelFetch(x, ivec2(colIndex, rowIndex), 0).r * texelFetch(kernel, ivec2(out_x, i), 0).r;\n    }\n  }\n\n  ${r?"sum += texelFetch(bias, ivec2(out_x, 0), 0).r;":""}\n  outColor = vec4(sum);\n}   \n`}},UhF3:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},UnEC:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},UnLw:function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n("fMqj")(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=o},Uz1a:function(t,e,n){var r=n("bJWQ"),i=n("FhcP"),o=n("EHRO"),s=n("SHWz"),a=n("gHOb"),u=n("NGEn"),l=n("ggOT"),c=n("YsVG"),p="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,f,d,g){var m=u(t),v=u(e),y=m?"[object Array]":a(t),_=v?"[object Array]":a(e),x=(y="[object Arguments]"==y?p:y)==p,b=(_="[object Arguments]"==_?p:_)==p,w=y==_;if(w&&l(t)){if(!l(e))return!1;m=!0,x=!1}if(w&&!x)return g||(g=new r),m||c(t)?i(t,e,n,f,d,g):o(t,e,y,n,f,d,g);if(!(1&n)){var S=x&&h.call(t,"__wrapped__"),P=b&&h.call(e,"__wrapped__");if(S||P){var T=S?t.value():t,C=P?e.value():e;return g||(g=new r),d(T,C,n,f,g)}}return!!w&&(g||(g=new r),s(t,e,n,f,d,g))}},"V/H1":function(t,e,n){"use strict";var r=n("fJSx"),i=n("zq/X");n("0Rih")("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},"V3l/":function(t,e){t.exports=!1},VDsu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="BatchNormalization";const{epsilon:e=.001,axis:n=-1,center:r=!0,scale:i=!0}=t;this.epsilon=e,this.center=r,this.scale=i,this.axis=n,this.axisNormalized=!1,this.params=[],this.scale&&this.params.push("gamma"),this.center&&this.params.push("beta"),this.params=this.params.concat(["moving_mean","moving_variance"]),this.gpu&&(this.program=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D X;\nuniform isampler2D normAxisIndexMap;\nuniform sampler2D gamma;\nuniform sampler2D beta;\nuniform sampler2D mean;\nuniform sampler2D std;\nuniform float epsilon;\nuniform bool scale;\nuniform bool center;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(X, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\nint normAxisIndex = texelFetch(normAxisIndexMap, ivec2(out_x, out_y), 0).r;\n\n  float _x = texelFetch(X, ivec2(out_x, out_y), 0).r;\n  float _mean = texelFetch(mean, ivec2(normAxisIndex, 0), 0).r;\n  float _std = texelFetch(std, ivec2(normAxisIndex, 0), 0).r;\n\n  float _gamma = 1.0;\n  if (scale) {\n    _gamma = texelFetch(gamma, ivec2(normAxisIndex, 0), 0).r;\n  }\n\n  float _beta = 0.0;\n  if (center) {\n    _beta = texelFetch(beta, ivec2(normAxisIndex, 0), 0).r;\n  }\n\n  float sum = _beta + _gamma * (_x - _mean) / sqrt(_std + epsilon);\n\n  outColor = vec4(sum);\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.axisNormalized||(this.axis=this.axis<0?t.tensor.shape.length+this.axis:this.axis-1,this.axisNormalized=!0);let e=[];for(let i=0;i<t.tensor.shape.length;i++)e.push(i===this.axis?1:null);let n=new i.default([],t.tensor.shape),r=new i.default([],t.tensor.shape);for(let i=0;i<t.tensor.shape[this.axis];i++)e[this.axis]=i,this.scale&&s.default.assigns(n.tensor.pick(...e),this.weights.gamma.tensor.get(i)),this.center&&s.default.assigns(r.tensor.pick(...e),this.weights.beta.tensor.get(i));let o=new i.default([],t.tensor.shape),a=new i.default([],t.tensor.shape);for(let i=0;i<t.tensor.shape[this.axis];i++)e[this.axis]=i,s.default.assigns(o.tensor.pick(...e),this.weights.moving_mean.tensor.get(i)),s.default.assigns(a.tensor.pick(...e),this.weights.moving_variance.tensor.get(i)+this.epsilon);s.default.sqrteq(a.tensor),this.output=new i.default(t.tensor.data,t.tensor.shape),s.default.subeq(this.output.tensor,o.tensor),s.default.diveq(this.output.tensor,a.tensor),this.scale&&s.default.muleq(this.output.tensor,n.tensor),this.center&&s.default.addeq(this.output.tensor,r.tensor)}_createIndexMap(t,e){if(this.normAxisIndexMap)return;const n=new i.default([],this.inputShape,{type:Int32Array});this.normAxisIndexMap=new i.default([],t,{type:Int32Array});const r=Array(this.inputShape.length).fill(null);for(let i=0;i<this.inputShape[this.axis];i++)r[this.axis]=i,s.default.assigns(n.tensor.pick(...r),i);if(e)for(let i=0;i<e.data.length;i++)this.normAxisIndexMap.tensor.data[e.data[i]]=n.tensor.data[i];else this.normAxisIndexMap=n;this.normAxisIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){this.axisNormalized||(this.inputShape=t.is2DReshaped||t.is2DSquareReshaped?t.originalShape:t.tensor.shape,this.axis=this.axis<0?this.inputShape.length+this.axis:this.axis-1,this.axisNormalized=!0),t.glTexture||t.glTextureFragments||(t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}))),this._createIndexMap(t.glTextureShape,t.indicesForReshaped),this.output||(this.output=new i.default([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped));const e=[{input:t,name:"X"},{input:this.normAxisIndexMap,name:"normAxisIndexMap"}];this.scale&&e.push({input:this.weights.gamma,name:"gamma"}),this.center&&e.push({input:this.weights.beta,name:"beta"}),e.push({input:this.weights.moving_mean,name:"mean"}),e.push({input:this.weights.moving_variance,name:"std"}),o.webgl2.runProgram({program:this.program,output:this.output,inputs:e,uniforms:[{value:this.epsilon,type:"float",name:"epsilon"},{value:+this.scale,type:"bool",name:"scale"},{value:+this.center,type:"bool",name:"center"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}},VFDS:function(t,e,n){"use strict";var r=n("neHe");t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},VNCa:function(t,e,n){"use strict";var r=n("neHe");function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},VSk1:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},VTn2:function(t,e,n){var r=n("UKM+"),i=n("1aA0").onFreeze;n("3i66")("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},VWgF:function(t,e,n){var r=n("OzIq"),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},Vg1y:function(t,e,n){"use strict";var r=n("2p1q"),i=n("R3AP"),o=n("zgIt"),s=n("/whu"),a=n("kkCw");t.exports=function(t,e,n){var u=a(t),l=n(s,u,""[t]),c=l[0],p=l[1];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,c),r(RegExp.prototype,u,2==e?function(t,e){return p.call(t,this,e)}:function(t){return p.call(t,this)}))}},"Vi/E":function(t,e,n){"use strict";var r=n("ESZ6");t.exports=function(t,e,n,i,o){for(var s=r.dot,a=e.shape[0]-1;a>=0;a--)o.set(a,o.get(a)*i+t*s(e.pick(a,null),n));return!0}},VjuZ:function(t,e,n){n("Vg1y")("replace",2,function(t,e,n){return[function(r,i){"use strict";var o=t(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},n]})},VnXQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("oqL2")),i=c(n("tVBY")),o=c(n("hygk")),s=c(n("t6in")),a=c(n("6E9d")),u=n("hgeo"),l=c(n("4pkP"));function c(t){return t&&t.__esModule?t:{default:t}}e.default=class extends s.default{constructor(t={}){super(t),this.layerClass="Permute";const{dims:e=[]}=t;this.description=`${JSON.stringify(e)}`,this.dims=e.map(t=>t-1),this.gpu&&(this.mapInputProgram=u.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"))}call(t){return t.tensor.shape.length<=1||(0,o.default)((0,i.default)(t.tensor.shape.length),this.dims)?(this.output=t,this.output):(this.gpu?this._callGPU(t):this._callCPU(t),this.output)}_callCPU(t){this.dims.length!==t.tensor.shape.length&&this.throwError("The specified dims permutation must match the number of dimensions.");const e=this.dims.map(e=>t.tensor.shape[e]);this.output=new a.default([],e),l.default.assign(this.output.tensor,t.tensor.transpose(...this.dims))}_createIndexMap(){if(this.indexMap)return;const t=new a.default([],this.inputShape,{type:Int32Array}),e=new a.default([],this.inputShape,{type:Int32Array}),n=new a.default([],this.inputShape,{type:Int32Array});if(2===this.inputShape.length)for(let r=0;r<this.inputShape[0];r++)l.default.assigns(e.tensor.pick(r,null),r);else if(3===this.inputShape.length)for(let r=0;r<this.inputShape[0];r++)for(let t=0;t<this.inputShape[1];t++)l.default.assigns(e.tensor.pick(r,t,null),r*this.inputShape[1]+t);else if(4===this.inputShape.length)for(let r=0;r<this.inputShape[0];r++)for(let t=0;t<this.inputShape[1];t++)for(let n=0;n<this.inputShape[2];n++)l.default.assigns(e.tensor.pick(r,t,n,null),r*this.inputShape[1]*this.inputShape[2]+t*this.inputShape[2]+n);for(let o=0;o<(0,r.default)(this.inputShape);o++)l.default.assigns(n.tensor.pick(...Array(this.inputShape.length-1).fill(null),o),o);l.default.muls(t.tensor,e.tensor,(0,r.default)(this.inputShape)),l.default.addeq(t.tensor,n.tensor);const i=this.dims.map(t=>this.inputShape[t]);this.indexMap=new a.default([],i,{type:Int32Array}),l.default.assign(this.indexMap.tensor,t.tensor.transpose(...this.dims)),i.length>2&&this.indexMap.reshapeTo2D(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){if(t.glTexture?this.inputShape=t.is2DReshaped||t.is2DSquareReshaped?t.originalShape:t.tensor.shape:(this.inputShape=t.tensor.shape,t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float"}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"}))),this._createIndexMap(),!this.output){const t=this.dims.map(t=>this.inputShape[t]);this.output=new a.default([],t),t.length>2&&this.output.reshapeTo2D(),this.output.createGLTexture({type:"2d",format:"float"})}u.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}},VwZZ:function(t,e,n){"use strict";var r,i=Array.isArray||function(t){return t&&"number"==typeof t.length},o=n("dgOU"),s=n("/iUD"),a={e:{}};function u(){try{return r.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return r=t,u}var c=n("TToO"),p=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return Object(c.b)(e,t),e}(Error);n.d(e,"a",function(){return h});var h=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,u=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,d=r?r.length:0;n;)n.remove(this),n=++h<d&&r[h]||null;if(Object(s.a)(u)&&l(u).call(this)===a&&(e=!0,t=t||(a.e instanceof p?f(a.e.errors):[a.e])),i(c))for(h=-1,d=c.length;++h<d;){var g=c[h];if(Object(o.a)(g)&&l(g.unsubscribe).call(g)===a){e=!0,t=t||[];var m=a.e;m instanceof p?t=t.concat(f(m.errors)):t.push(m)}}if(e)throw new p(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function f(t){return t.reduce(function(t,e){return t.concat(e instanceof p?e.errors:e)},[])}},"W+6F":function(t,e,n){"use strict";t.exports=function(t,e){var n,r=e.data,i=e.stride[0],o=e.offset;for(n=e.shape[0]-1;n>=0;n--,o+=i)r[o]*=t}},"W/IU":function(t,e,n){var r=n("UKM+"),i=n("1aA0").onFreeze;n("3i66")("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},"W/wK":function(t,e,n){"use strict";t.exports=function(){var t,e,n,a,u,l,c,p,h,f;if(a=r({},s),0===arguments.length)throw new Error("Array of ndarrays to concatenate must not be empty");if(Array.isArray(arguments[0])?(n=arguments[0],r(a,arguments[1]||{})):2===arguments.length&&(n=arguments[1],t=arguments[0],r(a,arguments[2]||{})),0===n.length)throw new Error("Array of ndarrays to concatenate must not be empty");for(u=0;u<n.length;u++)if(c){if(n[u].dimension!==c.length)throw new Error("all arrays must have the same dimensionality");for(l=1;l<n[u].shape.length;l++)if(n[u].shape[l]!==c[l])throw new Error("last n-1 dimensions of concatenated rows must have the same size");c[0]+=n[u].shape[0]}else c=n[u].shape.slice(0);if(t){if(c[0]!==t.shape[0])throw new Error("first dimension of output array must match the total number of concatenated rows")}else t=o.zeros(c,a.dtype);for(l=0,p=0;l<n.length;l++)h=(e=n[l]).shape[0],f=t.lo(p).hi(h),i.assign(f,e),p+=h;return t};var r=n("s6M7"),i=n("4pkP"),o=n("p8g3"),s={dtype:"double"}},W0pi:function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},W2nU:function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,l=[],c=!1,p=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):p=-1,l.length&&f())}function f(){if(!c){var t=a(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++p<e;)u&&u[p].run();p=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},W4Z6:function(t,e,n){var r=n("FryR"),i=n("KOrd");n("3i66")("getPrototypeOf",function(){return function(t){return i(r(t))}})},W529:function(t,e,n){var r=n("f931")(Object.keys,Object);t.exports=r},WBcL:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},WFiI:function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},WHce:function(t,e,n){var r=n("037f"),i=n("Zk5a")(r);t.exports=i},WR5u:function(t,e,n){"use strict";(function(t){t.exporst=function(){console.error("TBSV (triangular banded matrix solver) not yet implemented")}}).call(e,n("3IRH")(t))},WT6e:function(t,e,n){"use strict";(function(t){n.d(e,"e",function(){return Kt}),n.d(e,"E",function(){return qt}),n.d(e,"G",function(){return Ht}),n.d(e,"D",function(){return Yt}),n.d(e,"q",function(){return Wt}),n.d(e,"a",function(){return it}),n.d(e,"u",function(){return at}),n.d(e,"t",function(){return ut}),n.d(e,"b",function(){return nt}),n.d(e,"c",function(){return rt}),n.d(e,"F",function(){return le}),n.d(e,"z",function(){return Rt}),n.d(e,"I",function(){return Nt}),n.d(e,"o",function(){return De}),n.d(e,"d",function(){return Re}),n.d(e,"i",function(){return Mt}),n.d(e,"h",function(){return J}),n.d(e,"x",function(){return Ne}),n.d(e,"y",function(){return Le}),n.d(e,"B",function(){return h}),n.d(e,"A",function(){return f}),n.d(e,"l",function(){return I}),n.d(e,"k",function(){return l}),n.d(e,"j",function(){return g}),n.d(e,"s",function(){return m}),n.d(e,"r",function(){return kt}),n.d(e,"v",function(){return Jt}),n.d(e,"w",function(){return te}),n.d(e,"f",function(){return ht}),n.d(e,"g",function(){return xt}),n.d(e,"p",function(){return St}),n.d(e,"m",function(){return Ce}),n.d(e,"n",function(){return Ee}),n.d(e,"C",function(){return he}),n.d(e,"H",function(){return Ae}),n.d(e,"S",function(){return de}),n.d(e,"K",function(){return ct}),n.d(e,"J",function(){return bt}),n.d(e,"Q",function(){return b}),n.d(e,"_1",function(){return E}),n.d(e,"T",function(){return et}),n.d(e,"U",function(){return tt}),n.d(e,"L",function(){return Yn}),n.d(e,"M",function(){return qi}),n.d(e,"N",function(){return en}),n.d(e,"O",function(){return gr}),n.d(e,"P",function(){return kn}),n.d(e,"V",function(){return Nn}),n.d(e,"W",function(){return Ln}),n.d(e,"_0",function(){return kr}),n.d(e,"_2",function(){return jr}),n.d(e,"_3",function(){return Nr}),n.d(e,"X",function(){return Ie}),n.d(e,"Y",function(){return Fe}),n.d(e,"Z",function(){return je}),n.d(e,"R",function(){return ot});var r=n("TToO"),i=n("YaPU"),o=n("/nXB"),s=n("Rf9G"),a=n("g5jc"),u=n("VwZZ"),l=function(){function t(t){this._desc=t,this.ngMetadataName="InjectionToken"}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),c="__paramaters__";function p(t,e,n){var r=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var i in r)this[i]=r[i]}}}(e);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof i)return r.apply(this,t),this;var n,o=new((n=i).bind.apply(n,[void 0].concat(t)));return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty(c)?t[c]:Object.defineProperty(t,c,{value:[]})[c];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}var h=function(){var t={Emulated:0,Native:1,None:2};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t}(),f=function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},d=new f("5.2.9"),g=p("Inject",function(t){return{token:t}}),m=p("Optional"),v=p("Self"),y=p("SkipSelf"),_="undefined"!=typeof window&&window,x="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,b=_||"undefined"!=typeof t&&t||x,w=Promise.resolve(0),S=null;function P(){if(!S){var t=b.Symbol;if(t&&t.iterator)S=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(S=r)}}return S}function T(t){"undefined"==typeof Zone?w.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function C(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function E(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(E).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function M(t){return t.__forward_ref__=M,t.toString=function(){return E(this())},t}function k(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===M?t():t}var O="__source",A=new Object,D=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=A),e===A)throw new Error("NullInjectorError: No provider for "+E(t)+"!");return e},t}(),I=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new V(t,e):new V(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=A,t.NULL=new D,t}(),F=function(t){return t},j=[],R=F,L=function(){return Array.prototype.slice.call(arguments)},N={},U=function(t){for(var e in t)if(t[e]===N)return e;throw Error("!prop")}({provide:String,useValue:N}),z=I.NULL,G=/\n/gm,B="\u0275",V=function(){function t(t,e,n){void 0===e&&(e=z),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(I,{token:I,fn:F,deps:j,value:this,useNew:!1}),function t(e,n){if(n)if((n=k(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw W("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw W("Unexpected provider",n);var i=k(n.provide),o=function(t){var e=function(t){var e=j,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=k(n[r]))instanceof Array)for(var o=0,s=u;o<s.length;o++){var a=s[o];a instanceof m||a==m?i|=1:a instanceof y||a==y?i&=-3:a instanceof v||a==v?i&=-5:u=a instanceof g?a.token:k(a)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=k(t.useExisting),options:6}]}else if(!(n||U in t))throw W("'deps' required",t);return e}(t),n=F,r=j,i=!1,o=k(t.provide);if(U in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=k(t.useClass);else{if("function"!=typeof o)throw W("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var s=e.get(i);if(s){if(s.fn!==L)throw q(i)}else e.set(i,s={token:n.provide,deps:[],useNew:!1,fn:L,value:j});s.deps.push({token:i=n,options:6})}var a=e.get(i);if(a&&a.fn==L)throw q(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e){var n=this._records.get(t);try{return function t(e,n,r,i,o){try{return function(e,n,r,i,o){var s,a;if(n){if((s=n.value)==R)throw Error(B+"Circular dependency");if(s===j){n.value=R;var u=n.useNew,l=n.fn,c=n.deps,p=j;if(c.length){p=[];for(var h=0;h<c.length;h++){var f=c[h],d=f.options,g=2&d?r.get(f.token):void 0;p.push(t(f.token,g,r,g||4&d?i:z,1&d?null:I.THROW_IF_NOT_FOUND))}}n.value=s=u?new((a=l).bind.apply(a,[void 0].concat(p))):l.apply(void 0,p)}}else s=i.get(e,o);return s}(e,n,r,i,o)}catch(t){throw t instanceof Error||(t=new Error(t)),(t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(e),n&&n.value==R&&(n.value=j),t}}(t,n,this._records,this.parent,e)}catch(e){var r=e.ngTempTokenPath;throw t[O]&&r.unshift(t[O]),e.message=H("\n"+e.message,r,this.source),e.ngTokenPath=r,e.ngTempTokenPath=null,e}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(E(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function q(t){return W("Cannot mix multi providers and regular providers",t)}function H(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==B?t.substr(2):t;var r=E(e);if(e instanceof Array)r=e.map(E).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];i.push(o+":"+("string"==typeof s?JSON.stringify(s):E(s)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(G,"\n  ")}function W(t,e){return new Error(H(t,e))}var Y="ngDebugContext",X="ngOriginalError",Z="ngErrorLogger";function $(t){return t[Y]}function K(t){return t[X]}function Q(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}var J=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Z]||Q}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?$(t)?$(t):this._findContext(K(t)):null},t.prototype._findOriginalError=function(t){for(var e=K(t);e&&K(e);)e=K(e);return e},t}();function tt(t){return!!t&&"function"==typeof t.then}function et(t){return!!t&&"function"==typeof t.subscribe}Function;var nt=new l("Application Initializer"),rt=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();tt(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),it=new l("AppId");function ot(){return""+st()+st()+st()}function st(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var at=new l("Platform Initializer"),ut=new l("Platform ID"),lt=new l("appBootstrapListener"),ct=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.ctorParameters=function(){return[]},t}();function pt(){throw new Error("Runtime compiler is not loaded")}var ht=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw pt()},t.prototype.compileModuleAsync=function(t){throw pt()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw pt()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw pt()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),ft=function(){},dt=function(){};function gt(t){var e=Error("No component factory found for "+E(t)+". Did you add it to @NgModule.entryComponents?");return e[yt]=t,e}var mt,vt,yt="ngComponent",_t=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw gt(t)},t}(),xt=function(){function t(){}return t.NULL=new _t,t}(),bt=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw gt(t);return new wt(e,this._ngModule)},t}(),wt=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.b)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(dt),St=function(){},Pt=function(){var t=b.wtf;return!(!t||!(mt=t.trace)||(vt=mt.events,0))}();function Tt(t,e){return null}var Ct=Pt?function(t,e){return void 0===e&&(e=null),vt.createScope(t,e)}:function(t,e){return Tt},Et=Pt?function(t,e){return mt.leaveScope(t,e),e}:function(t,e){return e},Mt=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.b)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},s=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var a=t.prototype.subscribe.call(this,i,o,s);return e instanceof u.a&&e.add(a),a},e}(a.a),kt=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,s){try{return It(e),t.invokeTask(r,i,o,s)}finally{Ft(e)}},onInvoke:function(t,n,r,i,o,s,a){try{return It(e),t.invoke(r,i,o,s,a)}finally{Ft(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Dt(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,At,Ot,Ot);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Ot(){}var At={};function Dt(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function It(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ft(t){t._nesting--,Dt(t)}var jt=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mt,this.onMicrotaskEmpty=new Mt,this.onStable=new Mt,this.onError=new Mt}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Rt=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){kt.assertNotInAngularZone(),T(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?T(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Lt=function(){function t(){this._applications=new Map,zt.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),zt.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}();function Nt(t){zt=t}var Ut,zt=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Gt=!0,Bt=!1,Vt=new l("AllowMultipleToken");function qt(){if(Bt)throw new Error("Cannot enable prod mode after platform setup.");Gt=!1}function Ht(){return Bt=!0,Gt}var Wt=function(t,e){this.name=t,this.token=e};function Yt(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new l(r);return function(e){void 0===e&&(e=[]);var o=Xt();if(!o||o.injector.get(Vt,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var s=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Ut&&!Ut.destroyed&&!Ut.injector.get(Vt,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ut=t.get(Zt);var e=t.get(at,null);e&&e.forEach(function(t){return t()})}(I.create({providers:s,name:r}))}return function(t){var e=Xt();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Xt(){return Ut&&!Ut.destroyed?Ut:null}var Zt=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new jt:("zone.js"===n?void 0:n)||new kt({enableLongStackTrace:Ht()}),o=[{provide:kt,useValue:i}];return i.run(function(){var e=I.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),s=n.injector.get(J,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return Qt(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){s.handleError(t)}})}),function(t,e,i){try{var o=((s=n.injector.get(rt)).runInitializers(),s.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return tt(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}var s}(s,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(ft),i=$t({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Kt);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+E(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function $t(t,e){return Array.isArray(e)?e.reduce($t,t):Object(r.a)({},t,e)}var Kt=function(){function t(t,e,n,r,a,u){var l=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=a,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ht(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run(function(){l.tick()})}});var c=new i.a(function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular(function(){t.next(l._stable),t.complete()})}),p=new i.a(function(t){var e;l._zone.runOutsideAngular(function(){e=l._zone.onStable.subscribe(function(){kt.assertNotInAngularZone(),T(function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))})})});var n=l._zone.onUnstable.subscribe(function(){kt.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,s.a.call(p))}return t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof dt?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof wt?null:this._injector.get(St),o=n.create(I.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var s=o.injector.get(Rt,null);return s&&o.injector.get(Lt).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Ht()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,Et(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Qt(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(lt,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Qt(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Ct("ApplicationRef#tick()"),t}();function Qt(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Jt=function(){},te=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),ee=function(t){this.nativeElement=t},ne=function(){function t(){this.dirty=!0,this._results=[],this.changes=new Mt,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[P()]=function(){return this._results[P()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),re=function(){},ie=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof oe?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),oe=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.b)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=r}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return se(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return ae(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(ie);function se(t,e,n){t.childNodes.forEach(function(t){t instanceof oe&&(e(t)&&n.push(t),se(t,e,n))})}function ae(t,e,n){t instanceof oe&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof oe&&ae(t,e,n)})}var ue=new Map;function le(t){return ue.get(t)||null}function ce(t){ue.set(t.nativeNode,t)}function pe(t,e){var n=de(t),r=de(e);return n&&r?function(t,e,n){for(var r=t[P()](),i=e[P()]();;){var o=r.next(),s=i.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!n(o.value,s.value))return!1}}(t,e,pe):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||C(t,e)}var he=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),fe=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function de(t){return!!ge(t)&&(Array.isArray(t)||!(t instanceof Map)&&P()in t)}function ge(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var me=function(){function t(){}return t.prototype.supports=function(t){return de(t)},t.prototype.create=function(t){return new ye(t)},t}(),ve=function(t,e){return e},ye=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ve}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<we(n,r,i)?e:n,s=we(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,l=a-r;if(u!=l){for(var c=0;c<u;c++){var p=c<i.length?i[c]:i[c]=0,h=p+c;l<=h&&h<u&&(i[c]=p+1)}i[o.previousIndex]=l-u}}s!==a&&t(o,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!de(t))throw new Error("Error trying to diff '"+E(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)i=this._trackByFn(a,r=t[a]),null!==o&&C(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),C(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[P()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&C(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),C(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(C(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(C(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new _e(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new be),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new be),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),_e=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},xe=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&C(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),be=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new xe,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function we(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Se=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||ge(t)},t.prototype.create=function(){return new Pe},t}(),Pe=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||ge(t)))throw new Error("Error trying to diff '"+E(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Te(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){C(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Te=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Ce=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();return new t(e=e.concat(r))}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new y,new m]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t}(),Ee=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new y,new m]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),Me=[new Se],ke=new Ce([new me]),Oe=new Ee(Me),Ae=Yt(null,"core",[{provide:ut,useValue:"unknown"},{provide:Zt,deps:[I]},{provide:Lt,deps:[]},{provide:ct,deps:[]}]),De=new l("LocaleId");function Ie(){return ke}function Fe(){return Oe}function je(t){return t||"en-US"}var Re=function(t){},Le=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Ne=function(){};function Ue(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function ze(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Ge(t,e){return t.nodes[e]}function Be(t,e){return t.nodes[e]}function Ve(t,e){return t.nodes[e]}function qe(t,e){return t.nodes[e]}function He(t,e){return t.nodes[e]}var We={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Ye(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Xe(n,e),n}(i,t)}function Xe(t,e){t[Y]=e,t[Z]=e.logError.bind(e)}function Ze(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var $e=function(){},Ke=new Map;function Qe(t){var e=Ke.get(t);return e||(e=E(t)+"_"+Ke.size,Ke.set(t,e)),e}var Je="$$undefined",tn="$$empty";function en(t){return{id:Je,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var nn=0;function rn(t,e,n,r){return!(!(2&t.state)&&C(t.oldValues[e.bindingIndex+n],r))}function on(t,e,n,r){return!!rn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function sn(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!pe(i,r)){var o=e.bindings[n].name;throw Ye(We.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function an(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function un(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function ln(t,e,n,r){try{return an(33554432&t.def.nodes[e].flags?Be(t,e).componentView:t),We.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function cn(t){return t.parent?Be(t.parent,t.parentNodeDef.nodeIndex):null}function pn(t){return t.parent?t.parentNodeDef.parent:null}function hn(t,e){switch(201347067&e.flags){case 1:return Be(t,e.nodeIndex).renderElement;case 2:return Ge(t,e.nodeIndex).renderText}}function fn(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function dn(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function gn(t){return 1<<t%32}function mn(t){var e={},n=0,r={};return t&&t.forEach(function(t){var i=t[0],o=t[1];"number"==typeof i?(e[i]=o,n|=gn(i)):r[i]=o}),{matchedQueries:e,references:r,matchedQueryIds:n}}function vn(t,e){return t.map(function(t){var n,r;return Array.isArray(t)?(r=t[0],n=t[1]):(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,O,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:Qe(n)}})}function yn(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===h.Native?Be(t,n.renderParent.nodeIndex).renderElement:void 0:e}var _n=new WeakMap;function xn(t){var e=_n.get(t);return e||((e=t(function(){return $e})).factory=t,_n.set(t,e)),e}function bn(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(hn(t,t.def.lastRenderRootNode))),wn(t,e,0,t.def.nodes.length-1,n,r,i)}function wn(t,e,n,r,i,o,s){for(var a=n;a<=r;a++){var u=t.def.nodes[a];11&u.flags&&Pn(t,u,e,i,o,s),a+=u.childCount}}function Sn(t,e,n,r,i,o){for(var s=t;s&&!fn(s);)s=s.parent;for(var a=s.parent,u=pn(s),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var p=a.def.nodes[c];p.ngContentIndex===e&&Pn(a,p,n,r,i,o),c+=p.childCount}if(!a.parent){var h=t.root.projectableNodes[e];if(h)for(c=0;c<h.length;c++)Tn(t,h[c],n,r,i,o)}}function Pn(t,e,n,r,i,o){if(8&e.flags)Sn(t,e.ngContent.index,n,r,i,o);else{var s=hn(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Tn(t,s,n,r,i,o),32&e.bindingFlags&&Tn(Be(t,e.nodeIndex).componentView,s,n,r,i,o)):Tn(t,s,n,r,i,o),16777216&e.flags)for(var a=Be(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<a.length;u++)bn(a[u],n,r,i,o);1&e.flags&&!e.element.name&&wn(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Tn(t,e,n,r,i,o){var s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}var Cn=/^:([^:]+):(.+)$/;function En(t){if(":"===t[0]){var e=t.match(Cn);return[e[1],e[2]]}return["",t]}function Mn(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function kn(t,e,n,r,i,o,s,a,u,l,c,p){void 0===s&&(s=[]),l||(l=$e);var f=mn(n),d=f.matchedQueries,g=f.references,m=f.matchedQueryIds,v=null,y=null;o&&(v=(A=En(o))[0],y=A[1]),a=a||[];for(var _=new Array(a.length),x=0;x<a.length;x++){var b=a[x],w=b[0],S=b[2],P=En(b[1]),T=P[0],C=P[1],E=void 0,M=void 0;switch(15&w){case 4:M=S;break;case 1:case 8:E=S}_[x]={flags:w,ns:T,name:C,nonMinifiedName:C,securityContext:E,suffix:M}}u=u||[];var k=new Array(u.length);for(x=0;x<u.length;x++){var O=u[x];k[x]={type:0,target:O[0],eventName:O[1],propName:null}}var A,D=(s=s||[]).map(function(t){var e=t[1],n=En(t[0]);return[n[0],n[1],e]});return p=function(t){if(t&&t.id===Je){var e=null!=t.encapsulation&&t.encapsulation!==h.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+nn++:tn}return t&&t.id===tn&&(t=null),t||null}(p),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:m,references:g,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:Mn(_),outputs:k,element:{ns:v,name:y,attrs:D,template:null,componentProvider:null,componentView:c||null,componentRendererType:p,publicProviders:null,allProviders:null,handleEvent:l||$e},provider:null,text:null,query:null,ngContent:null}}function On(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,s=t.renderer;if(t.parent||!o){r=i.name?s.createElement(i.name,i.ns):s.createComment("");var a=yn(t,e,n);a&&s.appendChild(a,r)}else r=s.selectRootElement(o);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=i.attrs[u];s.setAttribute(r,l[1],l[2],l[0])}return r}function An(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],s=Dn(t,n.nodeIndex,(p=o.eventName,(c=o.target)?c+":"+p:p)),a=o.target,u=t;"component"===o.target&&(a=null,u=e);var l=u.renderer.listen(a||r,o.eventName,s);t.disposables[n.outputIndex+i]=l}var c,p}function Dn(t,e,n){return function(r){return ln(t,e,n,r)}}function In(t,e,n,r){if(!on(t,e,n,r))return!1;var i=e.bindings[n],o=Be(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Le.STYLE,i);if(null!=o){o=o.toString();var s=e.suffix;null!=s&&(o+=s)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}var Fn=new Object,jn=Qe(I),Rn=Qe(St);function Ln(t,e,n,r){return n=k(n),{index:-1,deps:vn(r,E(e)),flags:t,token:e,value:n}}function Nn(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.index=n,e[Qe(r.token)]=r}return{factory:null,providersByKey:e,providers:t}}function Un(t,e,n){if(void 0===n&&(n=I.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var r=e.tokenKey;switch(r){case jn:case Rn:return t}var i=t._def.providersByKey[r];if(i){var o=t._providers[i.index];return void 0===o&&(o=t._providers[i.index]=zn(t,i)),o===Fn?void 0:o}return t._parent.get(e.token,n)}function zn(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(Un(t,n[0]));case 2:return new e(Un(t,n[0]),Un(t,n[1]));case 3:return new e(Un(t,n[0]),Un(t,n[1]),Un(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Un(t,n[o]);return new(e.bind.apply(e,[void 0].concat(i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(Un(t,n[0]));case 2:return e(Un(t,n[0]),Un(t,n[1]));case 3:return e(Un(t,n[0]),Un(t,n[1]),Un(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Un(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=Un(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?Fn:n}function Gn(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Hn(n,e),We.dirtyParentQueries(r),Vn(r),r}function Bn(t,e,n){var r=e?hn(e,e.def.lastRenderRootNode):t.renderElement;bn(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function Vn(t){bn(t,3,null,null,void 0)}function qn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Hn(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Wn=new Object;function Yn(t,e,n,r,i,o){return new Xn(t,e,n,r,i,o)}var Xn=function(t){function e(e,n,r,i,o,s){var a=t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=i,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=r,a}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=xn(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=We.createRootView(t,e||[],n,i,r,Wn),a=Ve(s,o).instance;return n&&s.renderer.setAttribute(Be(s,0).renderElement,"ng-version",d.full),new Zn(s,new Jn(s),a)},e}(dt),Zn=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.b)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new ee(Be(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new rr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(function(){});function $n(t,e,n){return new Kn(t,e,n)}var Kn=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new ee(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new rr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=pn(t),t=t.parent;return t?new rr(t,e):new rr(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Gn(this._data,t);We.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Jn(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof wt||(i=o.get(St));var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,s=t;return i=s._view,o=(n=this._data).viewContainer._embeddedViews,null!==(r=e)&&void 0!==r||(r=o.length),i.viewContainerParent=this._view,qn(o,r,i),function(t,e){var n=cn(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),We.dirtyParentQueries(i),Bn(n,r>0?o[r-1]:null,i),s.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,s,a=this._embeddedViews.indexOf(t._view);return i=e,s=(o=(n=this._data).viewContainer._embeddedViews)[r=a],Hn(o,r),null==i&&(i=o.length),qn(o,i,s),We.dirtyParentQueries(s),Vn(s),Bn(n,i>0?o[i-1]:null,s),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Gn(this._data,t);e&&We.destroyView(e)},t.prototype.detach=function(t){var e=Gn(this._data,t);return e?new Jn(e):null},t}();function Qn(t){return new Jn(t)}var Jn=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return bn(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){an(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{We.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){We.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),We.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Vn(this._view),We.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function tr(t,e){return new er(t,e)}var er=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.b)(e,t),e.prototype.createEmbeddedView=function(t){return new Jn(We.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new ee(Be(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(re);function nr(t,e){return new rr(t,e)}var rr=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=I.THROW_IF_NOT_FOUND),We.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Qe(t)},e)},t}();function ir(t){return new or(t.renderer)}var or=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=En(e),r=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=En(e),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function sr(t,e,n,r){return new ar(t,e,n,r)}var ar=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||(n[r]=zn(t,i))}}(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=I.THROW_IF_NOT_FOUND),Un(this,{token:t,tokenKey:Qe(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(xt)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+E(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var i=t._providers[r];i&&i!==Fn&&i.ngOnDestroy()}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),ur=Qe(function(){}),lr=Qe(function(){}),cr=Qe(ee),pr=Qe(function(){}),hr=Qe(re),fr=Qe(function(){}),dr=Qe(I);function gr(t,e,n,r,i,o,s,a){var u=[];if(s)for(var l in s){var c=s[l];u[c[0]]={flags:8,name:l,nonMinifiedName:c[1],ns:null,securityContext:null,suffix:null}}var p=[];if(a)for(var h in a)p.push({type:1,propName:h,target:null,eventName:a[h]});return function(t,e,n,r,i,o,s,a,u){var l=mn(n),c=l.matchedQueries,p=l.references,h=l.matchedQueryIds;u||(u=[]),a||(a=[]),o=k(o);var f=vn(s,E(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:p,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Mn(a),outputs:u,element:null,provider:{token:i,value:o,deps:f},text:null,query:null,ngContent:null}}(t,e|=16384,n,r,i,i,o,u,p)}function mr(t,e){return xr(t,e)}function vr(t,e){for(var n=t;n.parent&&!fn(n);)n=n.parent;return br(n.parent,pn(n),!0,e.provider.value,e.provider.deps)}function yr(t,e){var n=br(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName].subscribe(_r(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function _r(t,e,n){return function(r){return ln(t,e,n,r)}}function xr(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return br(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(Sr(t,e,n,i[0]));case 2:return r(Sr(t,e,n,i[0]),Sr(t,e,n,i[1]));case 3:return r(Sr(t,e,n,i[0]),Sr(t,e,n,i[1]),Sr(t,e,n,i[2]));default:for(var s=Array(o),a=0;a<o;a++)s[a]=Sr(t,e,n,i[a]);return r.apply(void 0,s)}}(t,e.parent,n,r.value,r.deps);case 2048:return Sr(t,e.parent,n,r.deps[0]);case 256:return r.value}}function br(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(Sr(t,e,n,i[0]));case 2:return new r(Sr(t,e,n,i[0]),Sr(t,e,n,i[1]));case 3:return new r(Sr(t,e,n,i[0]),Sr(t,e,n,i[1]),Sr(t,e,n,i[2]));default:for(var s=new Array(o),a=0;a<o;a++)s[a]=Sr(t,e,n,i[a]);return new(r.bind.apply(r,[void 0].concat(s)))}}var wr={};function Sr(t,e,n,r,i){if(void 0===i&&(i=I.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var s=r.tokenKey;for(s===fr&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(s){case ur:return ir(Pr(t,e,n));case lr:return Pr(t,e,n).renderer;case cr:return new ee(Be(t,e.nodeIndex).renderElement);case pr:return Be(t,e.nodeIndex).viewContainer;case hr:if(e.element.template)return Be(t,e.nodeIndex).template;break;case fr:return Qn(Pr(t,e,n));case dr:return nr(t,e);default:var a=(n?e.element.allProviders:e.element.publicProviders)[s];if(a){var u=Ve(t,a.nodeIndex);return u||(u={instance:xr(t,a)},t.nodes[a.nodeIndex]=u),u.instance}}n=fn(t),e=pn(t),t=t.parent}var l=o.root.injector.get(r.token,wr);return l!==wr||i===wr?l:o.root.ngModule.injector.get(r.token,i)}function Pr(t,e,n){var r;if(n)r=Be(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!fn(r);)r=r.parent;return r}function Tr(t,e,n,r,i,o){if(32768&n.flags){var s=Be(t,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var a=he.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new fe(a,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Cr(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],s=o.parent;for(!s&&o.flags&e&&Mr(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=Er(t,s,e,r)),s=s.parent}}function Er(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&Mr(t,i,o.flags&n,r++),i+=o.childCount}return r}function Mr(t,e,n,r){var i=Ve(t,e);if(i){var o=i.instance;o&&(We.setCurrentNode(t,e),1048576&n&&ze(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&ze(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function kr(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:gn(e),bindings:r},ngContent:null}}function Or(t){for(var e=t.def.nodeMatchedQueries;t.parent&&dn(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&He(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&He(t,i).setDirty(),i+=o.childCount}}function Ar(t,e){var n=He(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Dr(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=Ve(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Dr(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var s=e.query.bindings,a=!1,u=0;u<s.length;u++){var l=s[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,a=!0}r[l.propName]=c}a&&n.notifyOnChanges()}}function Dr(t,e,n,r,i){for(var o=e;o<=n;o++){var s=t.def.nodes[o],a=s.matchedQueries[r.id];if(null!=a&&i.push(Ir(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Be(t,o);if((s.childMatchedQueries&r.filterId)===r.filterId&&(Dr(t,o+1,o+s.childCount,r,i),o+=s.childCount),16777216&s.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var p=l[c],h=cn(p);h&&h===u&&Dr(p,0,p.def.nodes.length-1,r,i)}var f=u.template._projectedViews;if(f)for(c=0;c<f.length;c++){var d=f[c];Dr(d,0,d.def.nodes.length-1,r,i)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(o+=s.childCount)}return i}function Ir(t,e,n){if(null!=n)switch(n){case 1:return Be(t,e.nodeIndex).renderElement;case 0:return new ee(Be(t,e.nodeIndex).renderElement);case 2:return Be(t,e.nodeIndex).template;case 3:return Be(t,e.nodeIndex).viewContainer;case 4:return Ve(t,e.nodeIndex).instance}}function Fr(t,e,n){var r=yn(t,e,n);r&&Sn(t,n.ngContent.index,1,r,null,void 0)}function jr(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Rr(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=yn(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Lr(t,e){return(null!=t?t.toString():"")+e.suffix}function Nr(t,e,n,r){for(var i=0,o=0,s=0,a=0,u=0,l=null,c=null,p=!1,h=!1,f=null,d=0;d<e.length;d++){var g=e[d];if(g.nodeIndex=d,g.parent=l,g.bindingIndex=i,g.outputIndex=o,g.renderParent=c,s|=g.flags,u|=g.matchedQueryIds,g.element){var m=g.element;m.publicProviders=l?l.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,p=!1,h=!1,g.element.template&&(u|=g.element.template.nodeMatchedQueries)}if(zr(l,g,e.length),i+=g.bindings.length,o+=g.outputs.length,!c&&3&g.flags&&(f=g),20224&g.flags){p||(p=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var v=0!=(32768&g.flags);0==(8192&g.flags)||v?l.element.publicProviders[Qe(g.provider.token)]=g:(h||(h=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Qe(g.provider.token)]=g),v&&(l.element.componentProvider=g)}if(l?(l.childFlags|=g.flags,l.directChildFlags|=g.flags,l.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(l.childMatchedQueries|=g.element.template.nodeMatchedQueries)):a|=g.flags,g.childCount>0)l=g,Ur(g)||(c=g);else for(;l&&d===l.nodeIndex+l.childCount;){var y=l.parent;y&&(y.childFlags|=l.childFlags,y.childMatchedQueries|=l.childMatchedQueries),c=(l=y)&&Ur(l)?l.renderParent:l}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||$e,updateRenderer:r||$e,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:f}}function Ur(t){return 0!=(1&t.flags)&&null===t.element.name}function zr(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Gr(t,e,n,r){var i=qr(t.root,t.renderer,t,e,n);return Hr(i,t.component,r),Wr(i),i}function Br(t,e,n){var r=qr(t,t.renderer,null,null,e);return Hr(r,n,n),Wr(r),r}function Vr(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,qr(t.root,i,t,e.element.componentProvider,n)}function qr(t,e,n,r,i){var o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function Hr(t,e,n){t.component=e,t.context=n}function Wr(t){var e;fn(t)&&(e=Be(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];We.setCurrentNode(t,i);var s=void 0;switch(201347067&o.flags){case 1:var a=On(t,e,o),u=void 0;if(33554432&o.flags){var l=xn(o.element.componentView);u=We.createComponentView(t,o,l,a)}An(t,u,o,a),s={renderElement:a,componentView:u,viewContainer:null,template:o.element.template?tr(t,o):void 0},16777216&o.flags&&(s.viewContainer=$n(t,o,s));break;case 2:s=Rr(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:mr(t,o)});break;case 16:s={instance:vr(t,o)};break;case 16384:(s=r[i])||(s={instance:yr(t,o)}),32768&o.flags&&Hr(Be(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new ne;break;case 8:Fr(t,e,o),s=void 0}r[i]=s}ei(t,ti.CreateViewNodes),oi(t,201326592,268435456,0)}function Yr(t){$r(t),We.updateDirectives(t,1),ni(t,ti.CheckNoChanges),We.updateRenderer(t,1),ei(t,ti.CheckNoChanges),t.state&=-97}function Xr(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Ue(t,0,256),$r(t),We.updateDirectives(t,0),ni(t,ti.CheckAndUpdate),oi(t,67108864,536870912,0);var e=Ue(t,256,512);Cr(t,2097152|(e?1048576:0)),We.updateRenderer(t,0),ei(t,ti.CheckAndUpdate),oi(t,134217728,536870912,0),Cr(t,8388608|((e=Ue(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Ue(t,768,1024)}function Zr(t,e,n,r,i,o,s,a,u,l,c,p,h){return 0===n?function(t,e,n,r,i,o,s,a,u,l,c,p){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,u,l,c,p){var h=e.bindings.length,f=!1;return h>0&&In(t,e,0,n)&&(f=!0),h>1&&In(t,e,1,r)&&(f=!0),h>2&&In(t,e,2,i)&&(f=!0),h>3&&In(t,e,3,o)&&(f=!0),h>4&&In(t,e,4,s)&&(f=!0),h>5&&In(t,e,5,a)&&(f=!0),h>6&&In(t,e,6,u)&&(f=!0),h>7&&In(t,e,7,l)&&(f=!0),h>8&&In(t,e,8,c)&&(f=!0),h>9&&In(t,e,9,p)&&(f=!0),f}(t,e,n,r,i,o,s,a,u,l,c,p);case 2:return function(t,e,n,r,i,o,s,a,u,l,c,p){var h=!1,f=e.bindings,d=f.length;if(d>0&&on(t,e,0,n)&&(h=!0),d>1&&on(t,e,1,r)&&(h=!0),d>2&&on(t,e,2,i)&&(h=!0),d>3&&on(t,e,3,o)&&(h=!0),d>4&&on(t,e,4,s)&&(h=!0),d>5&&on(t,e,5,a)&&(h=!0),d>6&&on(t,e,6,u)&&(h=!0),d>7&&on(t,e,7,l)&&(h=!0),d>8&&on(t,e,8,c)&&(h=!0),d>9&&on(t,e,9,p)&&(h=!0),h){var g=e.text.prefix;d>0&&(g+=Lr(n,f[0])),d>1&&(g+=Lr(r,f[1])),d>2&&(g+=Lr(i,f[2])),d>3&&(g+=Lr(o,f[3])),d>4&&(g+=Lr(s,f[4])),d>5&&(g+=Lr(a,f[5])),d>6&&(g+=Lr(u,f[6])),d>7&&(g+=Lr(l,f[7])),d>8&&(g+=Lr(c,f[8])),d>9&&(g+=Lr(p,f[9]));var m=Ge(t,e.nodeIndex).renderText;t.renderer.setValue(m,g)}return h}(t,e,n,r,i,o,s,a,u,l,c,p);case 16384:return function(t,e,n,r,i,o,s,a,u,l,c,p){var h=Ve(t,e.nodeIndex),f=h.instance,d=!1,g=void 0,m=e.bindings.length;return m>0&&rn(t,e,0,n)&&(d=!0,g=Tr(t,h,e,0,n,g)),m>1&&rn(t,e,1,r)&&(d=!0,g=Tr(t,h,e,1,r,g)),m>2&&rn(t,e,2,i)&&(d=!0,g=Tr(t,h,e,2,i,g)),m>3&&rn(t,e,3,o)&&(d=!0,g=Tr(t,h,e,3,o,g)),m>4&&rn(t,e,4,s)&&(d=!0,g=Tr(t,h,e,4,s,g)),m>5&&rn(t,e,5,a)&&(d=!0,g=Tr(t,h,e,5,a,g)),m>6&&rn(t,e,6,u)&&(d=!0,g=Tr(t,h,e,6,u,g)),m>7&&rn(t,e,7,l)&&(d=!0,g=Tr(t,h,e,7,l,g)),m>8&&rn(t,e,8,c)&&(d=!0,g=Tr(t,h,e,8,c,g)),m>9&&rn(t,e,9,p)&&(d=!0,g=Tr(t,h,e,9,p,g)),g&&f.ngOnChanges(g),65536&e.flags&&ze(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),d}(t,e,n,r,i,o,s,a,u,l,c,p);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,u,l,c,p){var h=e.bindings,f=!1,d=h.length;if(d>0&&on(t,e,0,n)&&(f=!0),d>1&&on(t,e,1,r)&&(f=!0),d>2&&on(t,e,2,i)&&(f=!0),d>3&&on(t,e,3,o)&&(f=!0),d>4&&on(t,e,4,s)&&(f=!0),d>5&&on(t,e,5,a)&&(f=!0),d>6&&on(t,e,6,u)&&(f=!0),d>7&&on(t,e,7,l)&&(f=!0),d>8&&on(t,e,8,c)&&(f=!0),d>9&&on(t,e,9,p)&&(f=!0),f){var g=qe(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(h.length),d>0&&(m[0]=n),d>1&&(m[1]=r),d>2&&(m[2]=i),d>3&&(m[3]=o),d>4&&(m[4]=s),d>5&&(m[5]=a),d>6&&(m[6]=u),d>7&&(m[7]=l),d>8&&(m[8]=c),d>9&&(m[9]=p);break;case 64:m={},d>0&&(m[h[0].name]=n),d>1&&(m[h[1].name]=r),d>2&&(m[h[2].name]=i),d>3&&(m[h[3].name]=o),d>4&&(m[h[4].name]=s),d>5&&(m[h[5].name]=a),d>6&&(m[h[6].name]=u),d>7&&(m[h[7].name]=l),d>8&&(m[h[8].name]=c),d>9&&(m[h[9].name]=p);break;case 128:var v=n;switch(d){case 1:m=v.transform(n);break;case 2:m=v.transform(r);break;case 3:m=v.transform(r,i);break;case 4:m=v.transform(r,i,o);break;case 5:m=v.transform(r,i,o,s);break;case 6:m=v.transform(r,i,o,s,a);break;case 7:m=v.transform(r,i,o,s,a,u);break;case 8:m=v.transform(r,i,o,s,a,u,l);break;case 9:m=v.transform(r,i,o,s,a,u,l,c);break;case 10:m=v.transform(r,i,o,s,a,u,l,c,p)}}g.value=m}return f}(t,e,n,r,i,o,s,a,u,l,c,p);default:throw"unreachable"}}(t,e,r,i,o,s,a,u,l,c,p,h):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)In(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)on(t,e,o,n[o])&&(i=!0);if(i){var s="";for(o=0;o<n.length;o++)s+=Lr(n[o],r[o]);s=e.text.prefix+s;var a=Ge(t,e.nodeIndex).renderText;t.renderer.setValue(a,s)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=Ve(t,e.nodeIndex),i=r.instance,o=!1,s=void 0,a=0;a<n.length;a++)rn(t,e,a,n[a])&&(o=!0,s=Tr(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),65536&e.flags&&ze(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)on(t,e,o,n[o])&&(i=!0);if(i){var s=qe(t,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=n;break;case 64:for(a={},o=0;o<n.length;o++)a[r[o].name]=n[o];break;case 128:var u=n[0],l=n.slice(1);a=u.transform.apply(u,l)}s.value=a}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function $r(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Be(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var s=i[o];s.state|=32,un(s,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Kr(t,e,n,r,i,o,s,a,u,l,c,p,h){return 0===n?function(t,e,n,r,i,o,s,a,u,l,c,p){var h=e.bindings.length;h>0&&sn(t,e,0,n),h>1&&sn(t,e,1,r),h>2&&sn(t,e,2,i),h>3&&sn(t,e,3,o),h>4&&sn(t,e,4,s),h>5&&sn(t,e,5,a),h>6&&sn(t,e,6,u),h>7&&sn(t,e,7,l),h>8&&sn(t,e,8,c),h>9&&sn(t,e,9,p)}(t,e,r,i,o,s,a,u,l,c,p,h):function(t,e,n){for(var r=0;r<n.length;r++)sn(t,e,r,n[r])}(t,e,r),!1}function Qr(t,e){if(He(t,e.nodeIndex).dirty)throw Ye(We.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function Jr(t){if(!(128&t.state)){if(ni(t,ti.Destroy),ei(t,ti.Destroy),Cr(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=cn(t);if(e){var n=e.template._projectedViews;n&&(Hn(n,n.indexOf(t)),We.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Be(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Ge(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&He(t,n).destroy()}}(t),fn(t)&&t.renderer.destroy(),t.state|=128}}var ti=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ei(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?ri(Be(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function ni(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Be(t,r).viewContainer._embeddedViews,s=0;s<o.length;s++)ri(o[s],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function ri(t,e){var n=t.state;switch(e){case ti.CheckNoChanges:0==(128&n)&&(12==(12&n)?Yr(t):64&n&&ii(t,ti.CheckNoChangesProjectedViews));break;case ti.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Yr(t):64&n&&ii(t,e));break;case ti.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Xr(t):64&n&&ii(t,ti.CheckAndUpdateProjectedViews));break;case ti.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Xr(t):64&n&&ii(t,e));break;case ti.Destroy:Jr(t);break;case ti.CreateViewNodes:Wr(t)}}function ii(t,e){ni(t,e),ei(t,e)}function oi(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var s=t.def.nodes[o];if(s.flags&e&&s.flags&n)switch(We.setCurrentNode(t,s.nodeIndex),r){case 0:Ar(t,s);break;case 1:Qr(t,s)}s.childFlags&e&&s.childFlags&n||(o+=s.childCount)}}var si=!1;function ai(t,e,n,r,i,o){return Br(li(t,i,i.injector.get(Jt),e,n),r,o)}function ui(t,e,n,r,i,o){var s=i.injector.get(Jt),a=li(t,i,new Bi(s),e,n),u=yi(r);return zi(Ei.create,Br,null,[a,u,o])}function li(t,e,n,r,i){var o=e.injector.get(Ne),s=e.injector.get(J);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:s}}function ci(t,e,n,r){var i=yi(n);return zi(Ei.create,Gr,null,[t,e,i,r])}function pi(t,e,n,r){return n=di.get(e.element.componentProvider.provider.token)||yi(n),zi(Ei.create,Vr,null,[t,e,n,r])}function hi(t,e,n,r){return sr(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===fi.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=fi.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=fi.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=vn(i.deps),r.value=i.value)}}(t=t.factory(function(){return $e})),t):t}(r))}var fi=new Map,di=new Map;function gi(t){fi.set(t.token,t)}function mi(t,e){var n=xn(xn(e.viewDefFactory).nodes[0].element.componentView);di.set(t,n)}function vi(){fi.clear(),di.clear()}function yi(t){if(0===fi.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&fi.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return $e});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=fi.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=vn(o.deps),i.value=o.value)}}}}function _i(t,e,n,r,i,o,s,a,u,l,c,p,h){var f=t.def.nodes[e];return Zr(t,f,n,r,i,o,s,a,u,l,c,p,h),224&f.flags?qe(t,e).value:void 0}function xi(t,e,n,r,i,o,s,a,u,l,c,p,h){var f=t.def.nodes[e];return Kr(t,f,n,r,i,o,s,a,u,l,c,p,h),224&f.flags?qe(t,e).value:void 0}function bi(t){return zi(Ei.detectChanges,Xr,null,[t])}function wi(t){return zi(Ei.checkNoChanges,Yr,null,[t])}function Si(t){return zi(Ei.destroy,Jr,null,[t])}var Pi,Ti,Ci,Ei=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function Mi(t,e){Ti=t,Ci=e}function ki(t,e,n,r){return Mi(t,e),zi(Ei.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Oi(t,e){if(128&t.state)throw Ze(Ei[Pi]);return Mi(t,Ri(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?Di(t,s,r,i):Ii(t,s,r,i),16384&s.flags&&Mi(t,Ri(t,n)),224&s.flags?qe(t,s.nodeIndex).value:void 0},t)}function Ai(t,e){if(128&t.state)throw Ze(Ei[Pi]);return Mi(t,Li(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?Di(t,s,r,i):Ii(t,s,r,i),3&s.flags&&Mi(t,Li(t,n)),224&s.flags?qe(t,s.nodeIndex).value:void 0},t)}function Di(t,e,n,r){if(Zr.apply(void 0,[t,e,n].concat(r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],u=i[s];8&a.flags&&(o[(h=a.nonMinifiedName,"ng-reflect-"+(h=h.replace(/[$@]/g,"_").replace(Fi,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=ji(u))}var l=e.parent,c=Be(t,l.nodeIndex).renderElement;if(l.element.name)for(var p in o)null!=(u=o[p])?t.renderer.setAttribute(c,p,u):t.renderer.removeAttribute(c,p);else t.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}var h}function Ii(t,e,n,r){Kr.apply(void 0,[t,e,n].concat(r))}var Fi=/([A-Z])/g;function ji(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function Ri(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Li(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Ni=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=pn(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Be(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return nr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Ui(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Ui(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!fn(t);)t=t.parent;return t.parent?Be(t.parent,pn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?hn(this.view,this.nodeDef):hn(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){return++s===o?(e=t.error).bind.apply(e,[t].concat(r)):$e;var e}),s<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,r))},t}();function Ui(t,e,n){for(var r in e.references)n[r]=Ir(t,e,e.references[r])}function zi(t,e,n,r){var i=Pi,o=Ti,s=Ci;try{Pi=t;var a=e.apply(n,r);return Ti=o,Ci=s,Pi=i,a}catch(t){if($(t)||!Ti)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Xe(t,e),t}(t,Gi())}}function Gi(){return Ti?new Ni(Ti,Ci):null}var Bi=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Vi(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Vi=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){ue.delete(t.nativeNode)}(le(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=Gi();if(r){var i=new oe(n,null,r);i.name=t,ce(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Gi();return n&&ce(new ie(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Gi();return n&&ce(new ie(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=le(t),r=le(e);n&&r&&n instanceof oe&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=le(t),i=le(e),o=le(n);r&&i&&r instanceof oe&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=le(t),r=le(e);n&&r&&n instanceof oe&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Gi();return n&&ce(new oe(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=le(t);i&&i instanceof oe&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=le(t);r&&r instanceof oe&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=le(t);n&&n instanceof oe&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=le(t);n&&n instanceof oe&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=le(t);i&&i instanceof oe&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=le(t);r&&r instanceof oe&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=le(t);r&&r instanceof oe&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=le(t);r&&r.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function qi(t,e,n){return new Wi(t,e,n)}var Hi,Wi=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.b)(e,t),e.prototype.create=function(t){!function(){if(!si){si=!0;var t=Ht()?{setCurrentNode:Mi,createRootView:ui,createEmbeddedView:ci,createComponentView:pi,createNgModuleRef:hi,overrideProvider:gi,overrideComponentView:mi,clearOverrides:vi,checkAndUpdateView:bi,checkNoChangesView:wi,destroyView:Si,createDebugContext:function(t,e){return new Ni(t,e)},handleEvent:ki,updateDirectives:Oi,updateRenderer:Ai}:{setCurrentNode:function(){},createRootView:ai,createEmbeddedView:Gr,createComponentView:Vr,createNgModuleRef:sr,overrideProvider:$e,overrideComponentView:$e,clearOverrides:$e,checkAndUpdateView:Xr,checkNoChangesView:Yr,destroyView:Jr,createDebugContext:function(t,e){return new Ni(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?_i:xi,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?_i:xi,t)}};We.setCurrentNode=t.setCurrentNode,We.createRootView=t.createRootView,We.createEmbeddedView=t.createEmbeddedView,We.createComponentView=t.createComponentView,We.createNgModuleRef=t.createNgModuleRef,We.overrideProvider=t.overrideProvider,We.overrideComponentView=t.overrideComponentView,We.clearOverrides=t.clearOverrides,We.checkAndUpdateView=t.checkAndUpdateView,We.checkNoChangesView=t.checkNoChangesView,We.destroyView=t.destroyView,We.resolveDep=Sr,We.createDebugContext=t.createDebugContext,We.handleEvent=t.handleEvent,We.updateDirectives=t.updateDirectives,We.updateRenderer=t.updateRenderer,We.dirtyParentQueries=Or}}();var e=xn(this._ngModuleDefFactory);return We.createNgModuleRef(this.moduleType,t||I.NULL,this._bootstrapComponents,e)},e}(function(){});"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&(window.ngDevMode=!0),"undefined"!=typeof self&&(self.ngDevMode=!0),"undefined"!=typeof t&&(t.ngDevMode=!0)),Hi=function(t,e,n){return{parent:Hi,id:null,node:null,data:[],ngStaticData:[],cleanup:null,renderer:null,child:null,tail:null,next:null,bindingStartIndex:null,creationMode:!0,viewHookStartIndex:null}}()}).call(e,n("DuR2"))},WY8G:function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},WcO1:function(t,e,n){var r=n("ReGu"),i=n("QKXm").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},WgSQ:function(t,e,n){"use strict";var r=n("RhFG"),i=n("KB1o"),o=n("bN1p"),s=n("PHqh");t.exports=n("uc2A")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},WiIn:function(t,e,n){var r=n("Ds5P");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},WpPb:function(t,e,n){var r=n("UKM+");n("3i66")("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},WpTh:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("LhTa")(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("RhFG")("find")},WxI4:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},"X/Hz":function(t,e,n){"use strict";n("y325")("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},X6NR:function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},X7aK:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("DIVP"),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n("IRJ3")(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},XD8M:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("Lv+K"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="GlobalAveragePooling1D",this.poolingFunc="average"}}},XO1R:function(t,e,n){var r=n("ydD5");t.exports=Array.isArray||function(t){return"Array"==r(t)}},XSOZ:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},XXBo:function(t,e,n){var r=n("wC1N"),i=n("QG7u");t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},Xduv:function(t,e){t.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},XiIy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("Xm/7")),i=c(n("sCNu")),o=c(n("6E9d")),s=n("hgeo"),a=c(n("YUKD")),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n("7a8O")),l=c(n("W/wK"));function c(t){return t&&t.__esModule?t:{default:t}}e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="Concatenate",this.mode="concat";const{axis:e=-1}=t;this.concatAxis=e<=0?e:e-1}_callCPU(t){const e=t[0].tensor.shape.slice(),n=this.concatAxis<0?e.length+this.concatAxis:this.concatAxis;if(t.slice(1,t.length).forEach(t=>{const r=t.tensor.shape.slice()[n];e[n]+=r}),this.output=new o.default([],e),0===n)(0,l.default)(this.output.tensor,t.map(t=>t.tensor));else{let e=[n];for(let r=0;r<t[0].tensor.shape.length;r++)r!==n&&e.push(r);(0,l.default)(this.output.tensor.transpose(...e),t.map(t=>t.tensor.transpose(...e)))}}_callGPU(t){t.forEach(t=>{t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})});const e=t[0].glTextureShape.slice();let n=1;if(t[0].is2DReshaped?-1===this.concatAxis||this.concatAxis===t[0].originalShape.length-1?n=1:this.throwError("specified axis not supported for now."):-1===this.concatAxis||1===this.concatAxis?n=1:-2===this.concatAxis||0===this.concatAxis?n=0:this.throwError("specified axis not supported for now."),e[n]=(0,r.default)(t.map(t=>t.glTextureShape[n])),!this.output)if(this.output=new o.default([],e),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:1===n}),t[0].is1D)this.output.is1D=t[0].is1D;else if(t[0].is2DReshaped){this.output.is2DReshaped=t[0].is2DReshaped,this.output.originalShape=t[0].originalShape.slice();const e=this.concatAxis<0?this.output.originalShape.length+this.concatAxis:this.concatAxis;this.output.originalShape[e]=(0,r.default)(t.map(t=>t.originalShape[e])),this.output.indicesForReshaped=u.createIndicesFor2DReshaped(this.output.originalShape,!1,e)}if(!this.mergeProgram){const e=this.output.glTextureFragments?this.output.glTextureFragmentShape:this.output.glTextureShape,r=(0,a.default)("concatenate",t.length,t.map(t=>t.glTextureShape),e,n);this.mergeProgram=s.webgl2.compileProgram(r)}s.webgl2.runProgram({program:this.mergeProgram,output:this.output,inputs:t.map((t,e)=>({input:t,name:`inputs[${e}]`})),supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}},"Xm/7":function(t,e,n){var r=n("4RiB"),i=n("wSKX");t.exports=function(t){return t&&t.length?r(t,i):0}},XmPp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("Lv+K"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="GlobalMaxPooling1D",this.poolingFunc="max"}}},XtiL:function(t,e,n){var r=n("Ds5P");r(r.S,"Number",{isInteger:n("n982")})},XvUs:function(t,e,n){var r=n("DIVP");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},Y1N3:function(t,e){e.f=Object.getOwnPropertySymbols},Y1S0:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("BbyF"),o=n("kqpo"),s="".endsWith;r(r.P+r.F*n("1ETD")("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),a=void 0===n?r:Math.min(i(n),r),u=String(t);return s?s.call(e,u,a):e.slice(a-u.length,a)===u}})},Y1aA:function(t,e){e.f={}.propertyIsEnumerable},Y4Gl:function(t,e,n){var r=n("jMr4"),i=n("Re3r"),o="undefined"!=typeof Float64Array;function s(t,e){return t[0]-e[0]}function a(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(s);var r=new Array(n.length);for(t=0;t<r.length;++t)r[t]=n[t][1];return r}function u(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var i="generic"===t;if(-1===e){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===e)return o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",new Function("TrivialArray",o)(l[t][0]);o=["'use strict'"];var s=r(e),u=s.map(function(t){return"i"+t}),c="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),p=s.map(function(t){return"b"+t}).join(","),h=s.map(function(t){return"c"+t}).join(",");o.push("function "+n+"(a,"+p+","+h+",d){this.data=a","this.shape=["+p+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+n+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+u.join(",")+",v){"),o.push(i?"return this.data.set("+c+",v)}":"return this.data["+c+"]=v}"),o.push("proto.get=function "+n+"_get("+u.join(",")+"){"),o.push(i?"return this.data.get("+c+")}":"return this.data["+c+"]}"),o.push("proto.index=function "+n+"_index(",u.join(),"){return "+c+"}"),o.push("proto.hi=function "+n+"_hi("+u.join(",")+"){return new "+n+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var f=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),d=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+n+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+f.join(",")+","+d.join(","));for(var g=0;g<e;++g)o.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");for(o.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+u.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),g=0;g<e;++g)o.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");o.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");var m=new Array(e),v=new Array(e);for(g=0;g<e;++g)m[g]="a[i"+g+"]",v[g]="b[i"+g+"]";for(o.push("proto.transpose=function "+n+"_transpose("+u+"){"+u.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+m.join(",")+","+v.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+u+"){var a=[],b=[],c=this.offset"),g=0;g<e;++g)o.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(l[t],a)}var l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(t,e,n,r){if(void 0===t)return(0,l.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===n){n=new Array(s);for(var a=s-1,c=1;a>=0;--a)n[a]=c,c*=e[a]}if(void 0===r)for(r=0,a=0;a<s;++a)n[a]<0&&(r-=(e[a]-1)*n[a]);for(var p=function(t){if(i(t))return"buffer";if(o)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}(t),h=l[p];h.length<=s+1;)h.push(u(p,h.length-1));return(0,h[s+1])(t,e,n,r)}},Y5ex:function(t,e,n){var r=n("UKM+"),i=n("1aA0").onFreeze;n("3i66")("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},Y7Tz:function(t,e,n){"use strict";var r=n("zgIt"),i=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},YDHx:function(t,e,n){var r=n("Uz1a"),i=n("UnEC");t.exports=function t(e,n,o,s,a){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,s,t,a))}},YKc2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(n("t6in")),i=l(n("6E9d")),o=n("hgeo"),s=u(n("Idfp")),a=u(n("ljiA"));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function l(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Activation";const{activation:e="linear"}=t;this.activation=e,this.activationFunc=s[e],this.description=`${this.activation}`,this.gpu&&(this.program=o.webgl2.compileProgram(a[this.activation]))}call(t){return"linear"===this.activation?(this.output=t,this.output):(this.gpu?this._callGPU(t):this._callCPU(t),this.output)}_callCPU(t){this.output=new i.default(new t.arrayType(t.tensor.data),t.tensor.shape),this.activationFunc(this.output)}_callGPU(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new i.default([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}},YUKD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,...e){switch(t){case"add":return(0,r.default)(...e);case"average":return(0,i.default)(...e);case"concatenate":return(0,o.default)(...e);case"maximum":return(0,s.default)(...e);case"minimum":return(0,a.default)(...e);case"multiply":return(0,u.default)(...e);case"subtract":return(0,l.default)(...e);case"conv2d":return(0,c.default)(...e);case"conv2dTranspose":return(0,p.default)(...e);case"cam":return(0,h.default)(...e);default:throw new Error("GLSL program not found")}};var r=f(n("iobG")),i=f(n("EG/4")),o=f(n("DdTu")),s=f(n("+ZKk")),a=f(n("8CkC")),u=f(n("pKX3")),l=f(n("QRBJ")),c=f(n("UfQB")),p=f(n("wCV4")),h=f(n("tIqu"));function f(t){return t&&t.__esModule?t:{default:t}}},YUr7:function(t,e,n){var r=n("WcO1"),i=n("Y1N3"),o=n("DIVP"),s=n("OzIq").Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},"YVn/":function(t,e,n){var r=n("Ds5P"),i=n("lKE8")(!1);r(r.S,"Object",{values:function(t){return i(t)}})},Ya8g:function(t,e){},YaPU:function(t,e,n){"use strict";var r=n("AMGY"),i=n("OVmG"),o=n("tLDX"),s=n("t7NR"),a=n("+CnV");n.d(e,"a",function(){return u});var u=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(r?r.call(a,this.source):a.add(this.source||!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?e=r.a.Rx.config.Promise:r.a.Promise&&(e=r.a.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:((n=t)?1===n.length?n[0]:function(t){return n.reduce(function(t,e){return e(t)},t)}:function(){})(this);var n},t.prototype.toPromise=function(t){var e=this;if(t||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?t=r.a.Rx.config.Promise:r.a.Promise&&(t=r.a.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}()},YeCl:function(t,e,n){var r=n("CW5P"),i=n("A9mX"),o=n("v8Dt"),s=n("agim"),a=n("Dv2r");function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},Ygg6:function(t,e,n){n("iKpr")("Set")},Ymdd:function(t,e,n){var r=n("Ds5P"),i=n("/whu"),o=n("zgIt"),s=n("Xduv"),a="["+s+"]",u=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),c=function(t,e,n){var i={},a=o(function(){return!!s[t]()||"\u200b\x85"!="\u200b\x85"[t]()}),u=i[t]=a?e(p):s[t];n&&(i[n]=u),r(r.P+r.F*a,"String",i)},p=c.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=c},YsVG:function(t,e,n){var r=n("z4hc"),i=n("S7p9"),o=n("Dc0G"),s=o&&o.isTypedArray,a=s?i(s):r;t.exports=a},Yw76:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("PtK0"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="MaxPooling3D",this.poolingFunc="max"}}},Z2pD:function(t,e,n){var r=n("dCZQ");t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},Z7pR:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){i(t.tensor)};const i=(0,((r=n("fjY8"))&&r.__esModule?r:{default:r}).default)({args:["array"],body:function(t){t=Math.tanh(t)}})},ZCE5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("t6in"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="SpatialDropout2D";const{rate:e=.5,data_format:n="channels_last"}=t;this.description=`${e}`,this.rate=Math.min(Math.max(0,e),1),this.dataFormat=n}call(t){return this.output=t,this.output}}},ZD0O:function(t,e,n){var r=n("CHen"),i=n("RfZv");t.exports=function(t,e){return r(t,e,function(e,n){return i(t,n)})}},ZDXm:function(t,e,n){"use strict";var r,i=n("LhTa")(0),o=n("R3AP"),s=n("1aA0"),a=n("oYd7"),u=n("fJSx"),l=n("UKM+"),c=n("zgIt"),p=n("zq/X"),h=s.getWeak,f=Object.isExtensible,d=u.ufstore,g={},m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(l(t)){var e=h(t);return!0===e?d(p(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(p(this,"WeakMap"),t,e)}},y=t.exports=n("0Rih")("WeakMap",m,v,u,!0,!0);c(function(){return 7!=(new y).set((Object.freeze||Object)(g),7).get(g)})&&(a((r=u.getConstructor(m,"WeakMap")).prototype,v),s.NEED=!0,i(["delete","has","get","set"],function(t){var e=y.prototype,n=e[t];o(e,t,function(e,i){if(l(e)&&!f(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},ZGh9:function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},ZRJK:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("zgIt"),o=n("fS0v"),s=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==s.call(1,void 0)})||!i(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},ZT2e:function(t,e,n){var r=n("o2mx");t.exports=function(t){return null==t?"":r(t)}},Zcec:function(t,e,n){"use strict";(function(t){var r=e;function i(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;++i)void 0!==t[r[i]]&&n||(t[r[i]]=e[r[i]]);return t}function o(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=n("o6WA"),r.base64=n("DZR6"),r.EventEmitter=n("DnSo"),r.float=n("6DIh"),r.inquire=n("xH/m"),r.utf8=n("Zze3"),r.pool=n("rJLU"),r.LongBits=n("nTyY"),r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(t.process&&t.process.versions&&t.process.versions.node),r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=t.dcodeIO&&t.dcodeIO.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=i,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(e,n("DuR2"))},Zk5a:function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},Zo2E:function(t,e,n){"use strict";t.exports=n("deHb")},ZtwE:function(t,e,n){"use strict";var r=n("XSOZ"),i=n("UKM+"),o=n("PHCx"),s=[].slice,a={};t.exports=Function.bind||function(t){var e=r(this),n=s.call(arguments,1),u=function(){var r=n.concat(s.call(arguments));return this instanceof u?function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(u.prototype=e.prototype),u}},ZwtP:function(t,e,n){"use strict";var r=n("neHe"),i=n("VFDS"),o=n("UhF3"),s=n("e7Mp"),a=n("+jZj"),u=n("VSk1");function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return l(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},Zze3:function(t,e,n){"use strict";var r=e;r.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},r.read=function(t,e,n){if(n-e<1)return"";for(var r,i=null,o=[],s=0;e<n;)(r=t[e++])<128?o[s++]=r:r>191&&r<224?o[s++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,o[s++]=55296+(r>>10),o[s++]=56320+(1023&r)):o[s++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(t,e,n){for(var r,i,o=n,s=0;s<t.length;++s)(r=t.charCodeAt(s))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=t.charCodeAt(s+1)))?(++s,e[n++]=(r=65536+((1023&r)<<10)+(1023&i))>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-o}},aCM0:function(t,e,n){var r=n("NkRn"),i=n("uLhX"),o=n("+66z"),s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},aJ2J:function(t,e,n){var r=n("Ds5P");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},aM0T:function(t,e,n){var r=n("Ds5P"),i=n("g36u")(),o=n("OzIq").process,s="process"==n("ydD5")(o);r(r.G,{asap:function(t){var e=s&&o.domain;i(e?e.bind(t):t)}})},aQOO:function(t,e){t.exports=function(t){return this.__data__.has(t)}},acX9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.approxEquals=function(t,e,n=1e-4){const s=(0,i.default)((0,o.default)(t)),a=e;if(s.length!==a.length)return!1;for(let i=0;i<s.length;i++){if(!(0,r.default)(s[i]))return!1;if(s[i]<a[i]-n||s[i]>a[i]+n)return!1}return!0};var r=s(n("du7g")),i=s(n("vWu6")),o=s(n("Qvoi"));function s(t){return t&&t.__esModule?t:{default:t}}},agim:function(t,e,n){var r=n("pTUa");t.exports=function(t){return r(this,t).has(t)}},altv:function(t,e,n){var r=n("Ds5P"),i=n("8t38");r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},an1E:function(t,e,n){"use strict";var r=function(t,e){if(0===t&&0===e)return 0;var n=Math.abs(t),r=Math.abs(e),i=Math.min(n,r),o=Math.max(n,r);return i/=o,o*Math.sqrt(1+i*i)};t.exports=function(t){var e,n=t.data,i=t.stride[0],o=t.offset,s=0;for(e=t.shape[0]-1;e>=0;e--,o+=i)s=r(s,n[o]);return s}},arGp:function(t,e,n){var r=n("Ds5P");r(r.P+r.R,"Set",{toJSON:n("XXBo")("Set")})},b6Sr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("t6in")),i=u(n("6E9d")),o=n("hgeo"),s=u(n("4pkP")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n("PCMU"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="TimeDistributed";const{layer:e}=t;e||this.throwError("wrapped layer is undefined.");const n=Object.assign({},e.config,{gpu:t.gpu});this.wrappedLayer=new a[e.class_name](n),this.wrappedLayer.outbound=[null],this.gpu&&(this.copyTextureProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n"),this.mapInputProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"),this.selectSliceProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int t;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n\n  outColor = vec4(texelFetch(x, ivec2(out_x, t), 0).r);\n}\n"),this.copySliceOutputProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D outputCopy;\nuniform sampler2D sliceOutput;\nuniform int t;\nuniform int timesteps;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(sliceOutput, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(timesteps) * outTex.y);\n\n  if (t == out_y) {\n    outColor = vec4(texelFetch(sliceOutput, ivec2(out_x, 0), 0).r);\n  } else {\n    outColor = texelFetch(outputCopy, ivec2(out_x, out_y), 0);\n  }\n}\n"),this.mapSliceOutputProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D outputCopy;\nuniform sampler2D sliceOutput;\nuniform isampler2D indexMap;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(outputCopy, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(textureSize(sliceOutput, 0)[0])));\n    int colIndex = int(mod(float(index), float(textureSize(sliceOutput, 0)[0])));\n    float val = texelFetch(sliceOutput, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = texelFetch(outputCopy, ivec2(out_x, out_y), 0);\n  }\n}\n"))}setWeights(t){this.wrappedLayer.setWeights(t)}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const e=[...t.tensor.shape.slice(1)],n=new i.default([],e);s.default.assign(n.tensor,t.tensor.pick(0,...Array(e.length).fill(null)));let r=this.wrappedLayer.call(n);const o=r.tensor.shape.slice();this.output=new i.default([],[t.tensor.shape[0],...o]),s.default.assign(this.output.tensor.pick(0,...Array(o.length).fill(null)),r.tensor);for(let i=1,a=t.tensor.shape[0];i<a;i++)s.default.assign(n.tensor,t.tensor.pick(i,...Array(e.length).fill(null))),r=this.wrappedLayer.call(n),s.default.assign(this.output.tensor.pick(i,...Array(o.length).fill(null)),r.tensor)}_createIndexMap(t){if(this.indexMaps)return;const e=new i.default(t.data,t.shape,{type:Int32Array});this.indexMaps=[];const n=this.inputShape[0],r=this.inputShape.slice(1);for(let o=0;o<n;o++){const t=new i.default([],r,{type:Int32Array});s.default.assign(t.tensor,e.tensor.pick(o,...Array(r.length).fill(null))),t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"int"}),this.indexMaps.push(t)}}_createOutputIndexMap(t){if(this.outputIndexMaps)return;const e=new i.default(t.data,t.shape,{type:Int32Array});this.outputIndexMaps=[];const n=this.outputShape[0],r=this.outputShape.slice(1);for(let o=0;o<n;o++){const t=new i.default([],this.outputShape,{type:Int32Array});s.default.assigns(t.tensor,-1),s.default.assign(t.tensor.pick(o,...Array(r.length).fill(null)),e.tensor),t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"int"}),this.outputIndexMaps.push(t)}}_callGPU(t){this.inputShape=t.is2DReshaped||t.is2DSquareReshaped?t.originalShape:t.tensor.shape,t.glTexture||(t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float"}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"}))),this.inputShape.length>2&&this._createIndexMap(t.indicesForReshaped);const e=this.inputShape[0],n=this.inputShape.slice(1);this.slice||(this.slice=new i.default([],n),n.length<=2?this.slice.createGLTexture({type:"2d",format:"float"}):(this.slice.reshapeTo2DSquare(),this.slice.createGLTexture({type:"2d",format:"float"}))),o.webgl2.runProgram(this.inputShape.length<=2?{program:this.selectSliceProgram,output:this.slice,inputs:[{input:t,name:"x"}],uniforms:[{value:0,type:"int",name:"t"}]}:{program:this.mapInputProgram,output:this.slice,inputs:[{input:t,name:"x"},{input:this.indexMaps[0],name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),this.wrappedLayer._callGPU(this.slice),this.sliceOutput=this.wrappedLayer.output,this.output||(this.inputShape.length<=2?(this.outputShape=[e,this.sliceOutput.glTextureShape[1]],this.output=new i.default([],this.outputShape),this.outputCopy=new i.default([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"}),this.outputCopy.createGLTexture({type:"2d",format:"float"})):(this.outputShape=[e,...this.sliceOutput.originalShape],this.output=new i.default([],this.outputShape),this.outputCopy=new i.default([],this.outputShape),this.output.reshapeTo2DSquare(),this.outputCopy.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"}),this.outputCopy.createGLTexture({type:"2d",format:"float"}),this._createOutputIndexMap(this.sliceOutput.indicesForReshaped))),o.webgl2.runProgram({program:this.copyTextureProgram,output:this.outputCopy,inputs:[{input:this.output,name:"source"}]}),o.webgl2.runProgram(this.inputShape.length<=2?{program:this.copySliceOutputProgram,output:this.output,inputs:[{input:this.outputCopy,name:"outputCopy"},{input:this.sliceOutput,name:"sliceOutput"}],uniforms:[{value:0,type:"int",name:"t"},{value:e,type:"int",name:"timesteps"}]}:{program:this.mapSliceOutputProgram,output:this.output,inputs:[{input:this.outputCopy,name:"outputCopy"},{input:this.sliceOutput,name:"sliceOutput"},{input:this.outputIndexMaps[0],name:"indexMap"}]});for(let r=1;r<e;r++)o.webgl2.runProgram(this.inputShape.length<=2?{program:this.selectSliceProgram,output:this.slice,inputs:[{input:t,name:"x"}],uniforms:[{value:r,type:"int",name:"t"}]}:{program:this.mapInputProgram,output:this.slice,inputs:[{input:t,name:"x"},{input:this.indexMaps[r],name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),this.wrappedLayer._callGPU(this.slice),this.sliceOutput=this.wrappedLayer.output,o.webgl2.runProgram({program:this.copyTextureProgram,output:this.outputCopy,inputs:[{input:this.output,name:"source"}]}),o.webgl2.runProgram(this.inputShape.length<=2?{program:this.copySliceOutputProgram,output:this.output,inputs:[{input:this.outputCopy,name:"outputCopy"},{input:this.sliceOutput,name:"sliceOutput"}],uniforms:[{value:r,type:"int",name:"t"},{value:e,type:"int",name:"timesteps"}]}:{program:this.mapSliceOutputProgram,output:this.output,inputs:[{input:this.outputCopy,name:"outputCopy"},{input:this.sliceOutput,name:"sliceOutput"},{input:this.outputIndexMaps[r],name:"indexMap"}]});0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}},"bG/2":function(t,e,n){var r=n("PHqh"),i=n("WcO1").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},bGc4:function(t,e,n){var r=n("gGqR"),i=n("Rh28");t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},bIbi:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"WeakMap");t.exports=r},bIjD:function(t,e,n){var r=n("NGEn"),i=n("hIPy"),o=n("UnLw"),s=n("ZT2e");t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(s(t))}},bJWQ:function(t,e,n){var r=n("duB3"),i=n("KmWZ"),o=n("NqZt"),s=n("E4Hj"),a=n("G2xm"),u=n("zpVT");function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=s,l.prototype.has=a,l.prototype.set=u,t.exports=l},bKx7:function(t,e,n){"use strict";t.exports=u;var r,i=n("Zcec"),o=i.LongBits,s=i.utf8;function a(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function u(t){this.buf=t,this.pos=0,this.len=t.length}var l,c="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new u(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new u(t);throw Error("illegal buffer")};function p(){var t=new o(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw a(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw a(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function h(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw a(this,8);return new o(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}u.create=i.Buffer?function(t){return(u.create=function(t){return i.Buffer.isBuffer(t)?new r(t):c(t)})(t)}:c,u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return l}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var t=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},u.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw a(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},u.prototype.string=function(){var t=this.bytes();return s.read(t,0,t.length)},u.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw a(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},u._configure=function(t){r=t;var e=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return p.call(this)[e](!1)},uint64:function(){return p.call(this)[e](!0)},sint64:function(){return p.call(this).zzDecode()[e](!1)},fixed64:function(){return f.call(this)[e](!0)},sfixed64:function(){return f.call(this)[e](!1)}})}},bN1p:function(t,e){t.exports={}},bO0Y:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"Promise");t.exports=r},bSML:function(t,e,n){"use strict";var r=n("lDLk"),i=n("fU25");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},bUY0:function(t,e,n){var r=n("lDLk"),i=n("x9zv"),o=n("KOrd"),s=n("WBcL"),a=n("Ds5P"),u=n("fU25"),l=n("DIVP"),c=n("UKM+");a(a.S,"Reflect",{set:function t(e,n,a){var p,h,f=arguments.length<4?e:arguments[3],d=i.f(l(e),n);if(!d){if(c(h=o(e)))return t(h,n,a,f);d=u(0)}if(s(d,"value")){if(!1===d.writable||!c(f))return!1;if(p=i.f(f,n)){if(p.get||p.set||!1===p.writable)return!1;p.value=a,r.f(f,n,p)}else r.f(f,n,u(0,a));return!0}return void 0!==d.set&&(d.set.call(f,a),!0)}})},bUqO:function(t,e,n){t.exports=!n("zgIt")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},beEN:function(t,e,n){"use strict";var r=n("rFzY"),i=n("Ds5P"),o=n("FryR"),s=n("XvUs"),a=n("9vb1"),u=n("BbyF"),l=n("bSML"),c=n("SHe9");i(i.S+i.F*!n("qkyc")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,p,h=o(t),f="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,m=void 0!==g,v=0,y=c(h);if(m&&(g=r(g,d>2?arguments[2]:void 0,2)),void 0==y||f==Array&&a(y))for(n=new f(e=u(h.length));e>v;v++)l(n,v,m?g(h[v],v):h[v]);else for(p=y.call(h),n=new f;!(i=p.next()).done;v++)l(n,v,m?s(p,g,[i.value,v],!0):i.value);return n.length=v,n}})},bgwm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("t6in"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="SpatialDropout1D";const{p:e=.5}=t;this.description=`${e}`,this.p=Math.min(Math.max(0,e),1)}call(t){return this.output=t,this.output}}},bl2y:function(t,e,n){"use strict";t.exports={}},blYT:function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n("DuR2"))},boo2:function(t,e,n){var r=n("UKM+"),i=n("XO1R"),o=n("kkCw")("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},bqOW:function(t,e,n){var r=n("Ds5P"),i=n("zo/l"),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,s=0;r>s;){if(e=+arguments[s++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},br7k:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(n("Idfp")),i=p(n("6E9d")),o=p(n("t6in")),s=n("hgeo"),a=n("LSkx"),u=p(n("4pkP")),l=p(n("fjY8")),c=h(n("ljiA"));function p(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}e.default=class extends o.default{constructor(t={}){super(t),Object.defineProperty(this,"_combine",{configurable:!0,enumerable:!0,writable:!0,value:(0,l.default)({args:["array","array","array","array"],body:function(t,e,n,r){}})}),Object.defineProperty(this,"_update",{configurable:!0,enumerable:!0,writable:!0,value:(0,l.default)({args:["array","array","array"],body:function(t,e,n){t=t*(1-n)+e*n}})}),this.layerClass="GRU";const{units:e=1,activation:n="tanh",use_bias:i=!0,recurrent_activation:o="hard_sigmoid",return_sequences:a=!1,go_backwards:u=!1,stateful:p=!1}=t;this.units=e,this.activation=n,this.recurrentActivation=o,this.activationFunc=r[n],this.recurrentActivationFunc=r[o],this.use_bias=i,this.returnSequences=a,this.goBackwards=u,this.stateful=p,this.params=this.use_bias?["kernel","recurrent_kernel","bias"]:["kernel","recurrent_kernel"],this.description=`output dimensions: ${this.units}`,this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.description+="linear"!==this.recurrentActivation?`, ${this.recurrentActivation} recurrent activation`:"",this.description+=this.returnSequences?", return sequences":"",this.description+=this.goBackwards?", backward direction":"",this.description+=this.stateful?", stateful":"",this.gpu&&(this.copyTextureProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n"),this.matMulProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n"),this.activationProgram=s.webgl2.compileProgram(c[this.activation]),this.recurrentActivationProgram=s.webgl2.compileProgram(c[this.recurrentActivation]),this.gateSummationProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(bias, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n  float bias_val = texelFetch(bias, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val + t2_val + bias_val);\n}\n"),this.gateProductProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(t1, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val * t2_val);\n}\n"),this.timestepReadProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n\n  outColor = vec4(texelFetch(x, ivec2(out_x, index), 0).r);\n}\n"),this.timestepWriteProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D y;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(y, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (out_y == index) {\n    outColor = vec4(texelFetch(x, ivec2(out_x, 0), 0).r);\n  } else {\n    outColor = vec4(texelFetch(y, ivec2(out_x, out_y), 0).r);\n  }\n}\n"),this.updateProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D h;\nuniform sampler2D htm1;\nuniform sampler2D z;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(h, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float h_val = texelFetch(h, ivec2(out_x, out_y), 0).r;\n  float htm1_val = texelFetch(htm1, ivec2(out_x, out_y), 0).r;\n  float z_val = texelFetch(z, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(h_val * (float(1.0) - z_val) + htm1_val * z_val);\n}\n"))}setWeights(t){super.setWeights(t);const e=this.weights.kernel.tensor.shape;this.weights.W_z=new i.default([],[e[0],this.units]),this.weights.W_r=new i.default([],[e[0],this.units]),this.weights.W_h=new i.default([],[e[0],this.units]),u.default.assign(this.weights.W_z.tensor,this.weights.kernel.tensor.hi(e[0],this.units).lo(0,0)),u.default.assign(this.weights.W_r.tensor,this.weights.kernel.tensor.hi(e[0],2*this.units).lo(0,this.units)),u.default.assign(this.weights.W_h.tensor,this.weights.kernel.tensor.hi(e[0],3*this.units).lo(0,2*this.units));const n=this.weights.recurrent_kernel.tensor.shape;this.weights.U_z=new i.default([],[n[0],this.units]),this.weights.U_r=new i.default([],[n[0],this.units]),this.weights.U_h=new i.default([],[n[0],this.units]),u.default.assign(this.weights.U_z.tensor,this.weights.recurrent_kernel.tensor.hi(n[0],this.units).lo(0,0)),u.default.assign(this.weights.U_r.tensor,this.weights.recurrent_kernel.tensor.hi(n[0],2*this.units).lo(0,this.units)),u.default.assign(this.weights.U_h.tensor,this.weights.recurrent_kernel.tensor.hi(n[0],3*this.units).lo(0,2*this.units)),this.weights.b_z=new i.default([],[this.units]),this.weights.b_r=new i.default([],[this.units]),this.weights.b_h=new i.default([],[this.units]),this.use_bias&&(u.default.assign(this.weights.b_z.tensor,this.weights.bias.tensor.hi(this.units).lo(0)),u.default.assign(this.weights.b_r.tensor,this.weights.bias.tensor.hi(2*this.units).lo(this.units)),u.default.assign(this.weights.b_h.tensor,this.weights.bias.tensor.hi(3*this.units).lo(2*this.units))),this.gpu&&["W_z","W_r","W_h","U_z","U_r","U_h","b_z","b_r","b_h"].forEach(t=>{this.weights[t].createGLTexture({type:"2d",format:"float"})})}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const e=this.weights.b_z.tensor.shape[0],n=this.weights.b_r.tensor.shape[0],r=this.weights.b_h.tensor.shape[0],o=new i.default([],[e]),s=new i.default([],[e]),l=new i.default([],[e]),c=new i.default([],[n]),p=new i.default([],[n]),h=new i.default([],[n]),f=this.stateful&&this.currentHiddenState?this.currentHiddenState:new i.default([],[r]),d=new i.default([],[r]),g=new i.default([],[r]),m=new i.default([],[r]);this.hiddenStateSequence=new i.default([],[t.tensor.shape[0],r]);const v=new i.default([],[t.tensor.shape[1]]),y=()=>{u.default.assign(m.tensor,f.tensor),(0,a.gemv)(1,this.weights.W_z.tensor.transpose(1,0),v.tensor,1,s.tensor),(0,a.gemv)(1,this.weights.U_z.tensor.transpose(1,0),m.tensor,1,l.tensor),this._combine(o.tensor,s.tensor,l.tensor,this.weights.b_z.tensor),this.recurrentActivationFunc(o),(0,a.gemv)(1,this.weights.W_r.tensor.transpose(1,0),v.tensor,1,p.tensor),(0,a.gemv)(1,this.weights.U_r.tensor.transpose(1,0),m.tensor,1,h.tensor),this._combine(c.tensor,p.tensor,h.tensor,this.weights.b_r.tensor),this.recurrentActivationFunc(c),u.default.muleq(c.tensor,m.tensor),(0,a.gemv)(1,this.weights.W_h.tensor.transpose(1,0),v.tensor,1,d.tensor),(0,a.gemv)(1,this.weights.U_h.tensor.transpose(1,0),c.tensor,1,g.tensor),this._combine(f.tensor,d.tensor,g.tensor,this.weights.b_h.tensor),this.activationFunc(f),this._update(f.tensor,m.tensor,o.tensor)};for(let i=0,a=t.tensor.shape[0];i<a;i++)u.default.assign(v.tensor,t.tensor.pick(this.goBackwards?a-i-1:i,null)),[s,l,p,h,d,g].forEach(t=>u.default.assigns(t.tensor,0)),y(),this.returnSequences&&u.default.assign(this.hiddenStateSequence.tensor.pick(i,null),f.tensor);this.output=this.returnSequences?this.hiddenStateSequence:f,this.stateful&&(this.currentHiddenState=f)}_stepGPU(){s.webgl2.runProgram({program:this.copyTextureProgram,output:this.previousHiddenState,inputs:[{input:this.currentHiddenState,name:"source"}]}),s.webgl2.runProgram({program:this.matMulProgram,output:this.tempXZ,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_z,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.matMulProgram,output:this.tempHZ,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.U_z,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentUpdateGateStatePreactiv,inputs:[{input:this.tempXZ,name:"t1"},{input:this.tempHZ,name:"t2"},{input:this.weights.b_z,name:"bias"}]}),"linear"!==this.recurrentActivation?s.webgl2.runProgram({program:this.recurrentActivationProgram,output:this.currentUpdateGateState,inputs:[{input:this.currentUpdateGateStatePreactiv,name:"x"}]}):this.currentUpdateGateState=this.currentUpdateGateStatePreactiv,s.webgl2.runProgram({program:this.matMulProgram,output:this.tempXR,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_r,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.matMulProgram,output:this.tempHR,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.U_r,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentResetGateStatePreactiv,inputs:[{input:this.tempXR,name:"t1"},{input:this.tempHR,name:"t2"},{input:this.weights.b_r,name:"bias"}]}),"linear"!==this.recurrentActivation?s.webgl2.runProgram({program:this.recurrentActivationProgram,output:this.currentResetGateState,inputs:[{input:this.currentResetGateStatePreactiv,name:"x"}]}):this.currentResetGateState=this.currentResetGateStatePreactiv,s.webgl2.runProgram({program:this.copyTextureProgram,output:this.currentResetGateStateCopy,inputs:[{input:this.currentResetGateState,name:"source"}]}),s.webgl2.runProgram({program:this.gateProductProgram,output:this.currentResetGateState,inputs:[{input:this.currentResetGateStateCopy,name:"t1"},{input:this.previousHiddenState,name:"t2"}]}),s.webgl2.runProgram({program:this.matMulProgram,output:this.tempXH,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_h,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.matMulProgram,output:this.tempHH,inputs:[{input:this.currentResetGateState,name:"A"},{input:this.weights.U_h,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentHiddenStatePreactiv,inputs:[{input:this.tempXH,name:"t1"},{input:this.tempHH,name:"t2"},{input:this.weights.b_h,name:"bias"}]}),"linear"!==this.activation?s.webgl2.runProgram({program:this.activationProgram,output:this.currentHiddenState,inputs:[{input:this.currentHiddenStatePreactiv,name:"x"}]}):this.currentHiddenState=this.currentHiddenStatePreactiv,s.webgl2.runProgram({program:this.copyTextureProgram,output:this.currentHiddenStateCopy,inputs:[{input:this.currentHiddenState,name:"source"}]}),s.webgl2.runProgram({program:this.updateProgram,output:this.currentHiddenState,inputs:[{input:this.currentHiddenStateCopy,name:"h"},{input:this.previousHiddenState,name:"htm1"},{input:this.currentUpdateGateState,name:"z"}]})}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"});const e=this.weights.b_z.glTextureShape[1],n=this.weights.b_r.glTextureShape[1],r=this.weights.b_h.glTextureShape[1];this.currentHiddenState&&this.stateful||(this.currentHiddenState=new i.default([],[r]),this.currentHiddenState.createGLTexture({type:"2d",format:"float"})),this.currentHiddenStateCopy||(this.currentHiddenStateCopy=new i.default([],[r]),this.currentHiddenStateCopy.createGLTexture({type:"2d",format:"float"})),this.currentHiddenStatePreactiv||(this.currentHiddenStatePreactiv=new i.default([],[r]),this.currentHiddenStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.currentUpdateGateState||(this.currentUpdateGateState=new i.default([],[e]),this.currentUpdateGateState.createGLTexture({type:"2d",format:"float"})),this.currentUpdateGateStatePreactiv||(this.currentUpdateGateStatePreactiv=new i.default([],[e]),this.currentUpdateGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXZ||(this.tempXZ=new i.default([],[e]),this.tempXZ.createGLTexture({type:"2d",format:"float"})),this.tempHZ||(this.tempHZ=new i.default([],[e]),this.tempHZ.createGLTexture({type:"2d",format:"float"})),this.currentResetGateState||(this.currentResetGateState=new i.default([],[n]),this.currentResetGateState.createGLTexture({type:"2d",format:"float"})),this.currentResetGateStateCopy||(this.currentResetGateStateCopy=new i.default([],[n]),this.currentResetGateStateCopy.createGLTexture({type:"2d",format:"float"})),this.currentResetGateStatePreactiv||(this.currentResetGateStatePreactiv=new i.default([],[n]),this.currentResetGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXR||(this.tempXR=new i.default([],[n]),this.tempXR.createGLTexture({type:"2d",format:"float"})),this.tempHR||(this.tempHR=new i.default([],[n]),this.tempHR.createGLTexture({type:"2d",format:"float"})),this.tempXH||(this.tempXH=new i.default([],[r]),this.tempXH.createGLTexture({type:"2d",format:"float"})),this.tempHH||(this.tempHH=new i.default([],[r]),this.tempHH.createGLTexture({type:"2d",format:"float"})),this.previousHiddenState||(this.previousHiddenState=new i.default([],[r]),this.previousHiddenState.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequence||(this.hiddenStateSequence=new i.default([],[t.glTextureShape[0],r]),this.hiddenStateSequence.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequenceCopy||(this.hiddenStateSequenceCopy=new i.default([],[t.glTextureShape[0],r]),this.hiddenStateSequenceCopy.createGLTexture({type:"2d",format:"float"})),this.currentX||(this.currentX=new i.default([],[t.glTextureShape[1]]),this.currentX.createGLTexture({type:"2d",format:"float"}));for(let i=0,o=t.glTextureShape[0];i<o;i++)s.webgl2.runProgram({program:this.timestepReadProgram,output:this.currentX,inputs:[{input:t,name:"x"}],uniforms:[{value:this.goBackwards?o-i-1:i,type:"int",name:"index"}]}),this._stepGPU(),this.returnSequences&&(s.webgl2.runProgram({program:this.copyTextureProgram,output:this.hiddenStateSequenceCopy,inputs:[{input:this.hiddenStateSequence,name:"source"}]}),s.webgl2.runProgram({program:this.timestepWriteProgram,output:this.hiddenStateSequence,inputs:[{input:this.currentHiddenState,name:"x"},{input:this.hiddenStateSequenceCopy,name:"y"}],uniforms:[{value:i,type:"int",name:"index"}]}));this.output=this.returnSequences?this.hiddenStateSequence:this.currentHiddenState,0===this.outbound.length&&this.output.transferFromGLTexture()}}},bt7C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Cropping1D";const{cropping:e=[0,0]}=t;this.cropping=Array.isArray(e)?e:[e,e],this.description=`${JSON.stringify(this.cropping)}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]-this.cropping[0]-this.cropping[1],this.inputShape[1]],this.output=new i.default([],this.outputShape),s.default.assign(this.output.tensor,t.tensor.hi(this.inputShape[0]-this.cropping[1],this.inputShape[2]).lo(this.cropping[0],0))}_createIndexMap(){if(this.indexMap)return;const t=new i.default([],this.inputShape,{type:Int32Array}),e=new i.default([],this.inputShape,{type:Int32Array}),n=new i.default([],this.inputShape,{type:Int32Array});for(let i=0;i<this.inputShape[0];i++)s.default.assigns(e.tensor.pick(i,null),i);for(let i=0;i<this.inputShape[1];i++)s.default.assigns(n.tensor.pick(null,i),i);s.default.muls(t.tensor,e.tensor,this.inputShape[1]),s.default.addeq(t.tensor,n.tensor),this.indexMap=new i.default([],this.outputShape,{type:Int32Array});const r=[this.cropping[0],0];s.default.assign(this.indexMap.tensor,t.tensor.hi(...[this.inputShape[0]-this.cropping[1],this.inputShape[2]]).lo(...r)),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]-this.cropping[0]-this.cropping[1],this.inputShape[1]],this._createIndexMap(),this.output||(this.output=new i.default([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},c0pI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("PtK0"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="AveragePooling3D",this.poolingFunc="average"}}},c7JH:function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i=e.data,o=n.data,s=e.stride[0],a=n.stride[0],u=e.offset,l=n.offset;for(r=e.shape[0]-1;r>=0;r--,u+=s,l+=a)o[l]=t*i[u]}},cS0u:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("v/Xn"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="AveragePooling1D",this.poolingFunc="average"}}},"cWf/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(1===t.tensor.shape.length){const e=i.default.sup(t.tensor);i.default.subseq(t.tensor,e),i.default.expeq(t.tensor);const n=i.default.sum(t.tensor);i.default.divseq(t.tensor,n)}else{if(2!==t.tensor.shape.length)throw new Error(`[activations.softmax] tensor shape ${t.tensor.shape} not supported.`);for(let e=0;e<t.tensor.shape[0];e++){const n=i.default.sup(t.tensor.pick(e,null));i.default.subseq(t.tensor.pick(e,null),n),i.default.expeq(t.tensor.pick(e,null));const r=i.default.sum(t.tensor.pick(e,null));i.default.divseq(t.tensor.pick(e,null),r)}}};var r,i=(r=n("4pkP"))&&r.__esModule?r:{default:r}},cdCL:function(t,e,n){"use strict";t.exports=function(){console.error("TPSV (triangular packed matrix solver) not yet implemented")}},cdq7:function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},cwmK:function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},"d+aQ":function(t,e,n){var r=n("hbAh"),i=n("16tV"),o=n("sJvV");t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},d075:function(t,e,n){var r=n("OzIq").document;t.exports=r&&r.documentElement},d0R1:function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},d4US:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"DataView");t.exports=r},dCZQ:function(t,e,n){var r=n("ICSD")(Object,"create");t.exports=r},dFpP:function(t,e,n){var r=n("imBK"),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},dSUw:function(t,e,n){"use strict";var r=n("Dgii"),i=n("zq/X");t.exports=n("0Rih")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},dTzs:function(t,e,n){n("77Ug")("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},dULJ:function(t,e,n){var r=n("Ds5P"),i=n("OgTs");r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},daLB:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){i(t.tensor)};const i=(0,((r=n("fjY8"))&&r.__esModule?r:{default:r}).default)({args:["array","scalar"],body:function(t){t=1.0507009873554805*(Math.max(t,0)+1.6732632423543772*(Math.exp(Math.min(t,0))-1))}})},dbYV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Conv1D",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Conv2D",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"SeparableConv2D",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Conv2DTranspose",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Conv3D",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Cropping1D",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Cropping2D",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Cropping3D",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"UpSampling1D",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"UpSampling2D",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"UpSampling3D",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"ZeroPadding1D",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"ZeroPadding2D",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"ZeroPadding3D",{enumerable:!0,get:function(){return m.default}});var r=v(n("n3qr")),i=v(n("tb9c")),o=v(n("olpo")),s=v(n("qrRn")),a=v(n("0Yc3")),u=v(n("bt7C")),l=v(n("kTq6")),c=v(n("HhOO")),p=v(n("rWoT")),h=v(n("xNMC")),f=v(n("N1of")),d=v(n("i33r")),g=v(n("5KHY")),m=v(n("ReX1"));function v(t){return t&&t.__esModule?t:{default:t}}},deHb:function(t,e,n){"use strict";var r=e;function i(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=n("vyo6"),r.BufferWriter=n("BddB"),r.Reader=n("bKx7"),r.BufferReader=n("0Tc2"),r.util=n("Zcec"),r.rpc=n("/Lbh"),r.roots=n("bl2y"),r.configure=i,r.Writer._configure(r.BufferWriter),i()},deUO:function(t,e,n){var r=n("imBK");t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},dgOU:function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},dich:function(t,e,n){var r=n("Ds5P"),i=n("Sejc");r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},"dm+7":function(t,e,n){var r=n("Ds5P");r(r.S,"Reflect",{has:function(t,e){return e in t}})},dm6P:function(t,e,n){"use strict";t.exports=n("V3l/")||!n("zgIt")(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n("OzIq")[t]})},dmQx:function(t,e){t.exports=function(t,e){return t.has(e)}},du7g:function(t,e,n){var r=n("TQ3y").isFinite;t.exports=function(t){return"number"==typeof t&&r(t)}},duB3:function(t,e,n){var r=n("WxI4"),i=n("dFpP"),o=n("JBvZ"),s=n("2Hvv"),a=n("deUO");function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},dxQb:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("FryR"),o=n("XSOZ"),s=n("lDLk");n("bUqO")&&r(r.P+n("dm6P"),"Object",{__defineSetter__:function(t,e){s.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},e7Mp:function(t,e,n){"use strict";(function(e){var r=n("neHe"),i=n("hjL1"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=n("9Jml"):"undefined"!=typeof e&&(a=n("9Jml")),a),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){u.headers[t]={}}),r.forEach(["post","put","patch"],function(t){u.headers[t]=r.merge(o)}),t.exports=u}).call(e,n("W2nU"))},eC2H:function(t,e,n){n("3i66")("getOwnPropertyNames",function(){return n("bG/2").f})},eFps:function(t,e,n){var r,i=n("+gg+"),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},"eG8/":function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},eHwr:function(t,e,n){var r=n("JyYQ"),i=n("bGc4"),o=n("ktak");t.exports=function(t){return function(e,n,s){var a=Object(e);if(!i(e)){var u=r(n,3);e=o(e),n=function(t){return u(a[t],t,a)}}var l=t(e,n,s);return l>-1?a[u?e[l]:l]:void 0}}},eKBv:function(t,e,n){var r=n("YDHx"),i=n("Q7hp"),o=n("RfZv"),s=n("hIPy"),a=n("tO4o"),u=n("sJvV"),l=n("Ubhr");t.exports=function(t,e){return s(t)&&a(e)?u(l(t),e):function(n){var s=i(n,t);return void 0===s&&s===e?o(n,t):r(e,s,3)}}},eMKX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("HKKY"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="MaxPooling2D",this.poolingFunc="max"}}},eVIH:function(t,e,n){"use strict";n("y325")("italics",function(t){return function(){return t(this,"i","","")}})},eVIm:function(t,e,n){var r=n("dCZQ"),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},eWjs:function(t,e,n){"use strict";"use restrict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,1+((t|=t>>>8)|t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},ednR:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){i(t.tensor)};const i=(0,((r=n("fjY8"))&&r.__esModule?r:{default:r}).default)({args:["array"],body:function(t){t=1/(1+Math.exp(-t))}})},f0ZI:function(t,e,n){"use strict";var r=n("QINn");function i(t,e,n){var r,i,o=t.length,s=e.arrayArgs.length,a=e.indexArgs.length>0,u=[],l=[],c=0,p=0;for(r=0;r<o;++r)l.push(["i",r,"=0"].join(""));for(i=0;i<s;++i)for(r=0;r<o;++r)p=c,c=t[r],l.push(0===r?["d",i,"s",r,"=t",i,"p",c].join(""):["d",i,"s",r,"=(t",i,"p",c,"-s",p,"*t",i,"p",p,")"].join(""));for(l.length>0&&u.push("var "+l.join(",")),r=o-1;r>=0;--r)u.push(["for(i",r,"=0;i",r,"<s",c=t[r],";++i",r,"){"].join(""));for(u.push(n),r=0;r<o;++r){for(p=c,c=t[r],i=0;i<s;++i)u.push(["p",i,"+=d",i,"s",r].join(""));a&&(r>0&&u.push(["index[",p,"]-=s",p].join("")),u.push(["++index[",c,"]"].join(""))),u.push("}")}return u.join("\n")}function o(t,e,n){for(var r=t.body,i=[],o=[],s=0;s<t.args.length;++s){var a=t.args[s];if(!(a.count<=0)){var u=new RegExp(a.name,"g"),l="",c=e.arrayArgs.indexOf(s);switch(e.argTypes[s]){case"offset":var p=e.offsetArgIndex.indexOf(s);c=e.offsetArgs[p].array,l="+q"+p;case"array":l="p"+c+l;var h="l"+s,f="a"+c;if(0===e.arrayBlockIndices[c])1===a.count?"generic"===n[c]?a.lvalue?(i.push(["var ",h,"=",f,".get(",l,")"].join("")),r=r.replace(u,h),o.push([f,".set(",l,",",h,")"].join(""))):r=r.replace(u,[f,".get(",l,")"].join("")):r=r.replace(u,[f,"[",l,"]"].join("")):"generic"===n[c]?(i.push(["var ",h,"=",f,".get(",l,")"].join("")),r=r.replace(u,h),a.lvalue&&o.push([f,".set(",l,",",h,")"].join(""))):(i.push(["var ",h,"=",f,"[",l,"]"].join("")),r=r.replace(u,h),a.lvalue&&o.push([f,"[",l,"]=",h].join("")));else{for(var d=[a.name],g=[l],m=0;m<Math.abs(e.arrayBlockIndices[c]);m++)d.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(m+1)+"*t"+c+"b"+m);if(u=new RegExp(d.join(""),"g"),l=g.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(u,[f,"[",l,"]"].join(""))}break;case"scalar":r=r.replace(u,"Y"+e.scalarArgs.indexOf(s));break;case"index":r=r.replace(u,"index");break;case"shape":r=r.replace(u,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}t.exports=function(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,s=new Array(t.arrayArgs.length),a=new Array(t.arrayArgs.length),u=0;u<t.arrayArgs.length;++u)a[u]=e[2*u],s[u]=e[2*u+1];var l=[],c=[],p=[],h=[],f=[];for(u=0;u<t.arrayArgs.length;++u){t.arrayBlockIndices[u]<0?(p.push(0),h.push(n),l.push(n),c.push(n+t.arrayBlockIndices[u])):(p.push(t.arrayBlockIndices[u]),h.push(t.arrayBlockIndices[u]+n),l.push(0),c.push(t.arrayBlockIndices[u]));for(var d=[],g=0;g<s[u].length;g++)p[u]<=s[u][g]&&s[u][g]<h[u]&&d.push(s[u][g]-p[u]);f.push(d)}var m=["SS"],v=["'use strict'"],y=[];for(g=0;g<n;++g)y.push(["s",g,"=SS[",g,"]"].join(""));for(u=0;u<t.arrayArgs.length;++u){for(m.push("a"+u),m.push("t"+u),m.push("p"+u),g=0;g<n;++g)y.push(["t",u,"p",g,"=t",u,"[",p[u]+g,"]"].join(""));for(g=0;g<Math.abs(t.arrayBlockIndices[u]);++g)y.push(["t",u,"b",g,"=t",u,"[",l[u]+g,"]"].join(""))}for(u=0;u<t.scalarArgs.length;++u)m.push("Y"+u);if(t.shapeArgs.length>0&&y.push("shape=SS.slice(0)"),t.indexArgs.length>0){var _=new Array(n);for(u=0;u<n;++u)_[u]="0";y.push(["index=[",_.join(","),"]"].join(""))}for(u=0;u<t.offsetArgs.length;++u){var x=t.offsetArgs[u],b=[];for(g=0;g<x.offset.length;++g)0!==x.offset[g]&&b.push(1===x.offset[g]?["t",x.array,"p",g].join(""):[x.offset[g],"*t",x.array,"p",g].join(""));y.push(0===b.length?"q"+u+"=0":["q",u,"=",b.join("+")].join(""))}var w=r([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((y=y.concat(w)).length>0&&v.push("var "+y.join(",")),u=0;u<t.arrayArgs.length;++u)v.push("p"+u+"|=0");t.pre.body.length>3&&v.push(o(t.pre,t,a));var S=o(t.body,t,a),P=function(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}(f);v.push(P<n?function(t,e,n,r){for(var o=e.length,s=n.arrayArgs.length,a=n.blockSize,u=n.indexArgs.length>0,l=[],c=0;c<s;++c)l.push(["var offset",c,"=p",c].join(""));for(c=t;c<o;++c)l.push(["for(var j"+c+"=SS[",e[c],"]|0;j",c,">0;){"].join("")),l.push(["if(j",c,"<",a,"){"].join("")),l.push(["s",e[c],"=j",c].join("")),l.push(["j",c,"=0"].join("")),l.push(["}else{s",e[c],"=",a].join("")),l.push(["j",c,"-=",a,"}"].join("")),u&&l.push(["index[",e[c],"]=j",c].join(""));for(c=0;c<s;++c){for(var p=["offset"+c],h=t;h<o;++h)p.push(["j",h,"*t",c,"p",e[h]].join(""));l.push(["p",c,"=(",p.join("+"),")"].join(""))}for(l.push(i(e,n,r)),c=t;c<o;++c)l.push("}");return l.join("\n")}(P,f[0],t,S):i(f[0],t,S)),t.post.body.length>3&&v.push(o(t.post,t,a)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+v.join("\n")+"\n----------");var T=[t.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",P,function(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var i=t[r],o=i.match(/\d+/);o=o?o[0]:"",e[r]=0===i.charAt(0)?"u"+i.charAt(1)+o:i.charAt(0)+o,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}(a)].join("");return new Function(["function ",T,"(",m.join(","),"){",v.join("\n"),"} return ",T].join(""))()}},f931:function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},fJSx:function(t,e,n){"use strict";var r=n("A16L"),i=n("1aA0").getWeak,o=n("DIVP"),s=n("UKM+"),a=n("9GpA"),u=n("vmSO"),l=n("LhTa"),c=n("WBcL"),p=n("zq/X"),h=l(5),f=l(6),d=0,g=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},v=function(t,e){return h(t.a,function(t){return t[0]===e})};m.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t(function(t,r){a(t,l,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=r&&u(r,n,t[o],t)});return r(l.prototype,{delete:function(t){if(!s(t))return!1;var n=i(t);return!0===n?g(p(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=i(t);return!0===n?g(p(this,e)).has(t):n&&c(n,this._i)}}),l},def:function(t,e,n){var r=i(o(e),!0);return!0===r?g(t).set(e,n):r[t._i]=n,t},ufstore:g}},fMqj:function(t,e,n){var r=n("zGZ6");t.exports=function(t){var e=r(t,function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}},fOdq:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("LhTa")(2);r(r.P+r.F*!n("NNrz")([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},fS0v:function(t,e,n){var r=n("ydD5");t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},fU25:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},fjY8:function(t,e,n){"use strict";var r=n("2T/g"),i=n("BAkm"),o=["args","body"],s=["pre","post","printCode","funcName","blockSize"];t.exports=function(t){for(var e in t)o.indexOf(e)<0&&s.indexOf(e)<0&&console.warn("cwise: Unknown argument '"+e+"' passed to expression compiler");for(var n=0;n<o.length;++n)if(!t[o[n]])throw new Error("cwise: Missing argument: "+o[n]);return i({args:t.args,pre:r(t.pre||function(){}),body:r(t.body),post:r(t.post||function(){}),debug:!!t.printCode,funcName:t.funcName||t.body.name||"cwise",blockSize:t.blockSize||64})}},fx22:function(t,e,n){for(var r=n("WgSQ"),i=n("Qh14"),o=n("R3AP"),s=n("OzIq"),a=n("2p1q"),u=n("bN1p"),l=n("kkCw"),c=l("iterator"),p=l("toStringTag"),h=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(f),g=0;g<d.length;g++){var m,v=d[g],y=f[v],_=s[v],x=_&&_.prototype;if(x&&(x[c]||a(x,c,h),x[p]||a(x,p,v),u[v]=h,y))for(m in r)x[m]||o(x,m,r[m],!0)}},"g/m8":function(t,e,n){var r=n("cwmK"),i=Math.pow,o=i(2,-52),s=i(2,-23),a=i(2,127)*(2-s),u=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<u?l*(i/u/s+1/o-1/o)*u*s:(n=(e=(1+s/o)*i)-(e-i))>a||n!=n?l*(1/0):l*n}},g36u:function(t,e,n){var r=n("OzIq"),i=n("Sejc").set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n("ydD5")(s);t.exports=function(){var t,e,n,l=function(){var r,i;for(u&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var c=a.resolve();n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var p=!0,h=document.createTextNode("");new o(l).observe(h,{characterData:!0}),n=function(){h.data=p=!p}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},g5jc:function(t,e,n){"use strict";var r=n("TToO"),i=n("YaPU"),o=n("OVmG"),s=n("VwZZ"),a=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return Object(r.b)(e,t),e}(Error),u=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return Object(r.b)(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(s.a),l=n("tLDX");n.d(e,"b",function(){return c}),n.d(e,"a",function(){return p});var c=function(t){function e(e){t.call(this,e),this.destination=e}return Object(r.b)(e,t),e}(o.a),p=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Object(r.b)(e,t),e.prototype[l.a]=function(){return new c(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.a),h=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return Object(r.b)(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.a.EMPTY},e}(p)},g9KF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"TimeDistributed",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Bidirectional",{enumerable:!0,get:function(){return i.default}});var r=o(n("b6Sr")),i=o(n("goOS"));function o(t){return t&&t.__esModule?t:{default:t}}},gGqR:function(t,e,n){var r=n("aCM0"),i=n("yCNF");t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},gHOb:function(t,e,n){var r=n("d4US"),i=n("POb3"),o=n("bO0Y"),s=n("5N57"),a=n("bIbi"),u=n("aCM0"),l=n("Ai/T"),c=l(r),p=l(i),h=l(o),f=l(s),d=l(a),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||s&&"[object Set]"!=g(new s)||a&&"[object WeakMap]"!=g(new a))&&(g=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case p:return"[object Map]";case h:return"[object Promise]";case f:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=g},gPva:function(t,e,n){var r=n("UKM+");n("3i66")("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},gYMc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CAM",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n("lRJ2"))&&r.__esModule?r:{default:r}},gYYG:function(t,e,n){"use strict";var r=n("wC1N"),i={};i[n("kkCw")("toStringTag")]="z",i+""!="[object z]"&&n("R3AP")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},gbyG:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("ot5s")(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("RhFG")("includes")},ggOT:function(t,e,n){(function(t){var r=n("TQ3y"),i=n("gwcX"),o="object"==typeof e&&e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.Buffer:void 0;t.exports=(a?a.isBuffer:void 0)||i}).call(e,n("3IRH")(t))},gjHA:function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,s){for(var a=0,u=0,l=0,c=0,p=0,h=t.shape[0],f=t.shape[1],d=Math.min(e,h-1),g=Math.min(n,f-1),m=void 0===o?1:o,v=void 0===s?0:s;a<=d;){c=0;var y=Math.min(a+g,f-1);for(l=0;l<=y;l++)c+=t.get(a,l)*r.get(l);i.set(a,c*m+v*i.get(a)),a++}if(a<h)for(u=0;a+g<f;){for(c=0,l=0;l<=d+g;l++)c+=t.get(a,p=u+l+1)*r.get(p);if(i.set(a,c*m+v*i.get(a)),u++,++a===h)break}if(a<h)for(u++;a-d<f;){for(c=0,l=u;l<f;l++)c+=t.get(a,l)*r.get(l);if(i.set(a,c*m+v*i.get(a)),u++,++a===h)break}return!0}},goOS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("t6in")),i=u(n("6E9d")),o=n("hgeo"),s=u(n("4pkP")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n("/sk4"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Bidirectional";const{layer:e,merge_mode:n="concat"}=t;e||this.throwError("wrapped layer is undefined."),["SimpleRNN","GRU","LSTM"].includes(e.class_name)||this.throwError(`cannot wrap ${e.class_name} layer.`),["concat","sum","mul","ave"].includes(n)||this.throwError(`merge_mode ${n} not supported.`);const r=Object.assign({},e.config,{gpu:t.gpu}),i=Object.assign({},e.config,{gpu:t.gpu});i.go_backwards=!i.go_backwards,this.forwardLayer=new a[e.class_name](r),this.backwardLayer=new a[e.class_name](i),this.forwardLayer.outbound=[null],this.backwardLayer.outbound=[null],this.mergeMode=n,this.returnSequences=e.config.return_sequences,this.gpu&&(this.copyTextureProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n"),"concat"===this.mergeMode?this.mergeProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D forward;\nuniform sampler2D backward;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(forward, 0);\n  int out_x = int(float(size[0] * 2) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (out_x >= 0 && out_x < size[0]) {\n    outColor = vec4(texelFetch(forward, ivec2(out_x, out_y), 0).r);\n  } else {\n    outColor = vec4(texelFetch(backward, ivec2(out_x - size[0], size[1] - out_y - 1), 0).r);\n  }\n}\n"):"sum"===this.mergeMode?this.mergeProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D forward;\nuniform sampler2D backward;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(forward, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float forward_val = texelFetch(forward, ivec2(out_x, out_y), 0).r;\n  float backward_val = texelFetch(backward, ivec2(out_x, size[1] - out_y - 1), 0).r;\n\n  outColor = vec4(forward_val + backward_val);\n}\n"):"mul"===this.mergeMode?this.mergeProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D forward;\nuniform sampler2D backward;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(forward, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float forward_val = texelFetch(forward, ivec2(out_x, out_y), 0).r;\n  float backward_val = texelFetch(backward, ivec2(out_x, size[1] - out_y - 1), 0).r;\n\n  outColor = vec4(forward_val * backward_val);\n}\n"):"ave"===this.mergeMode&&(this.mergeProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D forward;\nuniform sampler2D backward;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(forward, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float forward_val = texelFetch(forward, ivec2(out_x, out_y), 0).r;\n  float backward_val = texelFetch(backward, ivec2(out_x, size[1] - out_y - 1), 0).r;\n\n  outColor = vec4(0.5 * (forward_val + backward_val));\n}\n")))}setWeights(t){this.forwardLayer.setWeights(t.slice(0,t.length/2)),this.backwardLayer.setWeights(t.slice(t.length/2))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.forwardLayer._callCPU(new i.default(t.tensor.data,t.tensor.shape)),this.backwardLayer._callCPU(new i.default(t.tensor.data,t.tensor.shape));const e=this.forwardLayer.output,n=this.backwardLayer.output;this.returnSequences&&(n.tensor=n.tensor.step(-1));const r=e.tensor.shape.slice();"concat"===this.mergeMode&&(r[r.length-1]+=n.tensor.shape[r.length-1]),this.output=new i.default([],r),"concat"===this.mergeMode?this.returnSequences?(s.default.assign(this.output.tensor.hi(r[0],e.tensor.shape[1]).lo(0,0),e.tensor),s.default.assign(this.output.tensor.hi(r[0],r[1]).lo(0,e.tensor.shape[1]),n.tensor)):(s.default.assign(this.output.tensor.hi(e.tensor.shape[0]).lo(0),e.tensor),s.default.assign(this.output.tensor.hi(r[0]).lo(e.tensor.shape[0]),n.tensor)):"sum"===this.mergeMode?(s.default.addeq(this.output.tensor,e.tensor),s.default.addeq(this.output.tensor,n.tensor)):"mul"===this.mergeMode?(s.default.assigns(this.output.tensor,1),s.default.muleq(this.output.tensor,e.tensor),s.default.muleq(this.output.tensor,n.tensor)):"ave"===this.mergeMode&&(s.default.addeq(this.output.tensor,e.tensor),s.default.addeq(this.output.tensor,n.tensor),s.default.divseq(this.output.tensor,2))}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputCopy||(this.inputCopy=new i.default([],t.glTextureShape),this.inputCopy.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.copyTextureProgram,output:this.inputCopy,inputs:[{input:t,name:"source"}]}),this.forwardLayer._callGPU(t),this.backwardLayer._callGPU(this.inputCopy);const e=this.forwardLayer.output,n=this.backwardLayer.output,r=e.glTextureShape.slice();"concat"===this.mergeMode&&(r[1]+=n.glTextureShape[1]),this.output||(this.output=new i.default([],r),this.output.createGLTexture({type:"2d",format:"float"}),this.returnSequences||(this.output.is1D=!0)),o.webgl2.runProgram({program:this.mergeProgram,output:this.output,inputs:[{input:e,name:"forward"},{input:n,name:"backward"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},gv9v:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="_GlobalPooling2D";const{data_format:e="channels_last"}=t;this.dataFormat=e,this.poolingFunc="max",this.gpu&&(this.poolingProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int channelDataSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (isMaxPooling) {\n    // GlobalMaxPooling\n    float maxval = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      if (j == 0 || val > maxval) {\n        maxval = val;\n      }\n    }\n    outColor = vec4(maxval);\n  } else {\n    // GlobalAveragePooling\n    float sum = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      sum += val;\n    }\n    outColor = vec4(sum / float(channelDataSize));\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0));const[e,n,r]=t.tensor.shape;this.output=new i.default([],[r]);for(let i=0,o=r;i<o;i++)"max"===this.poolingFunc?this.output.tensor.set(i,s.default.sup(t.tensor.pick(null,null,i))):"average"===this.poolingFunc&&this.output.tensor.set(i,s.default.sum(t.tensor.pick(null,null,i))/(e*n))}_callGPU(t){t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:("channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"})),this.output||(this.output=new i.default([],[this.inputShape[2]]),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.inputShape[0]*this.inputShape[1],type:"int",name:"channelDataSize"},{value:+("max"===this.poolingFunc),type:"bool",name:"isMaxPooling"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},gvDt:function(t,e,n){var r=n("UKM+"),i=n("DIVP"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n("rFzY")(Function.call,n("x9zv").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},gwcX:function(t,e){t.exports=function(){return!1}},h7Xi:function(t,e,n){var r=n("Ds5P");r(r.P+r.R,"Map",{toJSON:n("XXBo")("Map")})},hBk9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=_(n("ktak")),i=_(n("hygk")),o=_(n("2247")),s=_(n("Lrp7")),a=_(n("kbi+")),u=_(n("w9Mt")),l=_(n("0Qa9")),c=_(n("qrPo")),p=_(n("kPVM")),h=n("NupP"),f=y(n("PCMU")),d=y(n("gYMc")),g=_(n("6E9d")),m=n("hgeo"),v=_(n("SveS"));function y(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}const x=c.default.CancelToken.source();e.default=class{constructor(t={}){const{filepath:e=null,headers:n={},filesystem:r=!1,gpu:i=!1,transferLayerOutputs:o=!1,pauseAfterLayerCalls:s=!1,visualizations:a=[]}=t;if(!e)throw new Error("[Model] path to protobuf-serialized model definition file is missing.");this.filepath=e,this.headers=n,this.filesystem="undefined"==typeof window&&r,this.events=new h.EventEmitter,this.id=null,this.name=null,this.kerasVersion=null,this.backend=null,this.modelConfig={},this.modelWeights=[],this.gpu=!("undefined"==typeof window||!m.webgl2.isSupported)&&i,this.transferLayerOutputs=o,this.pauseAfterLayerCalls=s,this.modelLayersInfo=[],this.modelLayersMap=new Map,this.inputTensorsMap=new Map,this.inputLayerNames=[],this.outputLayerNames=[],this.finishedLayerNames=[],this.isRunning=!1,this.runningProgress=0,this.predictStats={},this.visMap=new Map,a.forEach(t=>{if(t in d){const e=new d[t]({modelLayersMap:this.modelLayersMap,gpu:this.gpu});this.visMap.set(t,e)}}),this._ready=this._initialize()}checkGPUSupport(){return m.webgl2.isSupported}ready(){return this._ready}_interrupt(){x.cancel()}async _initialize(){this.events.emit("loadingProgress",0);try{const t=this.filesystem?this._dataRequestFS():this._dataRequestHTTP(this.headers);await t}catch(t){console.log(t),this._interrupt()}this.events.emit("loadingProgress",100),this._buildDAG(),this.inputLayerNames.forEach(t=>{const e=this.modelLayersMap.get(t);e.call(this.inputTensorsMap.get(t)),e.hasOutput=!0,e.visited=!0});const t=this.pauseAfterLayerCalls;return this.pauseAfterLayerCalls=!0,this.runningProgress=0,this.events.emit("initProgress",0),await this._traverseDAG(this.inputLayerNames,"initProgress"),this.pauseAfterLayerCalls=t,this.finishedLayerNames=[],this.modelLayersMap.forEach(t=>{t.hasOutput=!1,t.visited=!1}),this.visMap.forEach(t=>{t.initialize()}),this.events.emit("initProgress",100),!0}async _dataRequestHTTP(t={}){try{const e=await c.default.get(this.filepath,{responseType:"arraybuffer",headers:t,onDownloadProgress:t=>{if(t.lengthComputable){const e=Math.round(100*t.loaded/t.total);this.events.emit("loadingProgress",e)}},cancelToken:x.token});this._decodeProtobuf(new Uint8Array(e.data))}catch(t){if(!c.default.isCancel(t))throw t;console.log("[Model] Data request canceled",t.message)}}async _dataRequestFS(){const t=l.default.promisify(n("Ya8g").readFile);try{const e=await t(this.filepath);this._decodeProtobuf(e)}catch(t){throw t}}_decodeProtobuf(t){if(v.default.Model.verify(t))throw new Error("[Model] Invalid model - check protobuf serialization: {err}");const e=v.default.Model.decode(t);this.id=e.id,this.name=e.name,this.kerasVersion=e.kerasVersion,this.backend=e.backend,this.modelConfig=JSON.parse(e.modelConfig),this.modelWeights=e.modelWeights}toggleGPU(t){this.gpu="undefined"==typeof t?!this.gpu:t,this.modelLayersMap.forEach(t=>{t.toggleGPU(this.gpu)}),this.visMap.forEach(t=>{t.gpu=this.gpu}),this.resetInputTensors()}resetInputTensors(){this.inputLayerNames.forEach(t=>{const e=this.modelLayersMap.get(t);this.inputTensorsMap.set(t,new g.default([],e.shape))})}_buildDAG(){const t=this.modelConfig.class_name;let e=[];if("Sequential"===t?e=this.modelConfig.config:"Model"===t&&(e=this.modelConfig.config.layers),!Array.isArray(e)||!e.length)throw new Error("[Model] Model configuration does not contain any layers.");e.forEach((n,r)=>{const i=n.class_name,o=n.config;if("Model"===t&&"Sequential"===i)o.forEach((t,e)=>{const r=t.class_name,i=t.config,s=0===e?n.inbound_nodes[0].map(t=>t[0]):[o[e-1].config.name];this._createLayer(r,i,s)});else{if(!(i in f))throw new Error(`[Model] Layer ${i} specified in model configuration is not implemented!`);{if("Sequential"===t&&0===r){const t="input",e=o.batch_input_shape.slice(1),n=new f.InputLayer({name:t,shape:e,gpu:this.gpu});this.modelLayersMap.set(t,n),this.inputTensorsMap.set(t,new g.default([],e)),this.inputLayerNames.push(t)}else if("Model"===t&&"InputLayer"===i){const t=o.batch_input_shape.slice(1);this.inputTensorsMap.set(o.name,new g.default([],t)),this.inputLayerNames.push(o.name)}let s=[];if("Sequential"===t)s=0===r?["input"]:[e[r-1].config.name];else if("Model"===t){const t=n.inbound_nodes;t&&t.length&&(s=t[0].map(t=>t[0]))}this._createLayer(i,o,s)}}}),this.modelLayersMap.forEach(t=>{this.modelLayersInfo.push((0,u.default)(t,["name","description","layerClass","inbound","outbound"])),0===t.outbound.length&&this.outputLayerNames.push(t.name)}),this.inputLayerNames.sort(),this.outputLayerNames.sort()}_createLayer(t,e,n){const r=new f[t](Object.assign({},e,{gpu:this.gpu}));let i=[];if("Bidirectional"===t){const t=r.forwardLayer.params.map(t=>`${e.name}/forward_${e.layer.config.name}/${t}`),n=r.backwardLayer.params.map(t=>`${e.name}/backward_${e.layer.config.name}/${t}`);i=t.concat(n)}else i="TimeDistributed"===t?r.layer.params.map(t=>`${e.name}/${t}`):r.params.map(t=>`${e.name}/${t}`);if(i&&i.length){const t=i.map(t=>{const e=(0,a.default)(this.modelWeights,e=>new RegExp(`^.*${t}`).test(e.weightName));if(!e)throw new Error("[Model] error loading weights.");const{data:n,shape:r,type:i}=e,o=new ArrayBuffer(n.byteLength),s=new Uint8Array(o);if(s.set(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),"uint8"===i){const{quantizeMin:t,quantizeMax:n}=e,i=new Float32Array(s);for(let e=0,r=i.length;e<r;e++)i[e]*=(n-t)/255,i[e]+=t;return new g.default(i,r)}return new g.default(new Float32Array(o),r)});r.setWeights(t)}this.modelLayersMap.set(e.name,r),n.forEach(t=>{this.modelLayersMap.get(e.name).inbound.push(t),this.modelLayersMap.get(t).outbound.push(e.name)})}async _traverseDAG(t,e){if(0===t.length)return this.runningProgress=100,this.events.emit(e,100),!0;if(1===t.length){const n=t[0],r=this.modelLayersMap.get(n);if("InputLayer"===r.layerClass)this.finishedLayerNames.push(this.modelLayersMap.get(n).name);else{const t=this.modelLayersMap.get(n);if(t.visited)return!1;const e=t.inbound.map(t=>this.modelLayersMap.get(t));if(!(0,s.default)((0,o.default)(e,"hasOutput")))return!1;t.call(t.isMergeLayer?(0,o.default)(e,"output"):e[0].output),t.hasOutput=!0,t.visited=!0,this.finishedLayerNames.push(t.name),this.pauseAfterLayerCalls&&await l.default.delay(0)}this.runningProgress+=100/this.modelLayersMap.size,this.events.emit(e,this.runningProgress),await this._traverseDAG(r.outbound,e)}else await l.default.all(t.map(t=>this._traverseDAG([t],e)))}_maybeTransferIntermediateOutputs(){this.gpu&&this.transferLayerOutputs&&this.modelLayersMap.forEach(t=>{t.output&&t.output.glTexture&&(m.webgl2.bindOutputTexture(t.output.glTexture,t.output.glTextureShape),t.output.transferFromGLTexture(),t.output.is2DReshaped&&t.output.reshapeFrom2D())})}loadData(t){this.inputLayerNames.forEach(e=>{const n=this.modelLayersMap.get(e);this.inputTensorsMap.get(e).replaceTensorData(t[e]),n.call(this.inputTensorsMap.get(e)),n.hasOutput=!0,n.visited=!0})}async predict(t){if(this.isRunning=!0,this.runningProgress=0,this.events.emit("predictProgress",0),!(0,i.default)((0,r.default)(t).sort(),this.inputLayerNames))throw this.isRunning=!1,new Error("[Model] predict() must take an object where the keys are the named inputs of the model: "+JSON.stringify(this.inputLayerNames));if(!(0,s.default)(this.inputLayerNames,e=>t[e]instanceof Float32Array))throw this.isRunning=!1,new Error("[Model] predict() must take an object where the values are the flattened data as Float32Array.");this.finishedLayerNames=[],this.modelLayersMap.forEach(t=>{t.hasOutput=!1,t.visited=!1});let e=(0,p.default)();this.loadData(t),this.predictStats.loadData=(0,p.default)()-e,e=(0,p.default)(),await this._traverseDAG(this.inputLayerNames,"predictProgress"),this.predictStats.forwardPass=(0,p.default)()-e,this._maybeTransferIntermediateOutputs();const n=this.modelConfig.class_name,o={};if("Sequential"===n){const t=this.modelLayersMap.get(this.outputLayerNames[0]);o.output=t.output.tensor.data}else"Model"===n&&this.outputLayerNames.forEach(t=>{const e=this.modelLayersMap.get(t);o[t]=e.output.tensor.data});return e=(0,p.default)(),this.visMap.forEach(t=>{t.update()}),this.predictStats.visualizations=(0,p.default)()-e,this.isRunning=!1,this.events.emit("predictProgress",100),o}layerCall(t,e){if(!this.modelLayersMap.has(t))return;let n;return n=e instanceof g.default?e:new g.default(e.data,e.shape),this.modelLayersMap.get(t).call(n)}cleanup(){m.webgl2.clearRefs(),this.modelLayersMap.clear(),this.inputTensorsMap.clear(),this.visMap.clear(),delete this.modelWeights}}},hIPy:function(t,e,n){var r=n("NGEn"),i=n("6MiT"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},hbAh:function(t,e,n){var r=n("bJWQ"),i=n("YDHx");t.exports=function(t,e,n,o){var s=n.length,a=s,u=!o;if(null==t)return!a;for(t=Object(t);s--;){var l=n[s];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){var c=(l=n[s])[0],p=t[c],h=l[1];if(u&&l[2]){if(void 0===p&&!(c in t))return!1}else{var f=new r;if(o)var d=o(p,h,c,t,e,f);if(!(void 0===d?i(h,p,3,o,f):d))return!1}}return!0}},hgeo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_TEXTURE_IMAGE_UNITS=e.MAX_TEXTURE_SIZE=e.webgl2=void 0;const r=new class{constructor(){if(this.isSupported=!1,this.vertexShader=null,"undefined"!=typeof window){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("webgl2");const t=this.context;t?(this.isSupported=!0,t.getExtension("EXT_color_buffer_float"),this.MAX_TEXTURE_SIZE=t.getParameter(t.MAX_TEXTURE_SIZE),this.MAX_TEXTURE_IMAGE_UNITS=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.init()):console.log("Unable to initialize WebGL2 -- your browser may not support it.")}this._refs={textures:[],buffers:[]}}init(){this.createCommonVertexShader()}createCommonVertexShader(){const t=this.context,e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,"#version 300 es\nprecision highp float;\n\nin vec3 position;\nin vec2 texcoord;\nout vec2 outTex;\n\nvoid main () {\n  gl_Position = vec4(position, 1.0);\n\toutTex = texcoord;\n}\n"),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)||(console.error(t.getShaderInfoLog(e)),t.deleteShader(e),this.isSupported=!1),this.vertexShader=e}compileProgram(t){const e=this.context,n=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(n,t),e.compileShader(n);let r=e.getShaderParameter(n,e.COMPILE_STATUS);r||(console.error(e.getShaderInfoLog(n)),e.deleteShader(n),this.isSupported=!1);const i=e.createProgram();return e.attachShader(i,this.vertexShader),e.attachShader(i,n),e.linkProgram(i),(r=e.getProgramParameter(i,e.LINK_STATUS))||(console.error(e.getProgramInfoLog(i)),this.isSupported=!1),this.setupVertices(i),i}setupVertices(t){const e=this.context,n=e.getAttribLocation(t,"position"),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),this.storeRef("buffer",r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0]),e.STATIC_DRAW),e.vertexAttribPointer(n,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(n);const i=e.getAttribLocation(t,"texcoord"),o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),e.STATIC_DRAW),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(i),this.storeRef("buffer",o);const s=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,s),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),e.STATIC_DRAW),this.storeRef("buffer",s)}selectProgram(t){this.context.useProgram(t)}bindUniforms(t,e){const n=this.context;e.forEach(({value:e,type:r,name:i})=>{const o=n.getUniformLocation(t,i);"float"===r?n.uniform1f(o,e):"int"!==r&&"bool"!==r||n.uniform1i(o,e)})}bindInputTextures(t,e,n){const r=this.context;e.forEach(({input:e,name:i},o)=>{if(r.activeTexture(r.TEXTURE0+o),e.glTextureFragments)if(e.glTextureFragmentsAsColStack){const{textureTarget:t}=this.getWebGLTextureOptions(e.glTextureType,e.glTextureFormat);r.bindTexture(t,e.glTextureFragmentsAsColStack)}else{const{textureTarget:t}=this.getWebGLTextureOptions(e.glTextureType,e.glTextureFormat);r.bindTexture(t,e.glTextureFragments[n])}else{const{textureTarget:t}=this.getWebGLTextureOptions(e.glTextureType,e.glTextureFormat);r.bindTexture(t,e.glTexture)}r.uniform1i(r.getUniformLocation(t,i),o)})}bindOutputTexture(t,e){const n=this.context;n.viewport(0,0,e[1],e[0]),this.framebuffer=this.framebuffer||n.createFramebuffer(),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0)}runProgram({program:t,output:e,inputs:n,uniforms:r,supportsTextureFragments:i=!1}){if(!t)throw new Error("[WebGL2] missing program");if(!e)throw new Error("[WebGL2] missing output");if(!n)throw new Error("[WebGL2] missing inputs");const o=this.context;if(this.selectProgram(t),r&&Array.isArray(r)&&this.bindUniforms(t,r),e.glTextureFragments){if(!i)throw new Error("[WebGL2] program does not support texture fragments");const r=n.filter(t=>t.input.glTextureFragments&&!t.input.glTextureFragmentsAsColStack),s=e.glTextureFragments.length;if(r.some(t=>t.input.glTextureFragments.length!==s))throw new Error("[WebGL2] number of texture fragments in inputs and output do not match");for(let i=0;i<s;i++)this.bindOutputTexture(e.glTextureFragments[i],e.glTextureFragmentShape),this.bindInputTextures(t,n,i),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0)}else this.bindOutputTexture(e.glTexture,e.glTextureShape),this.bindInputTextures(t,n),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0)}readData(t){const e=this.context,n=new ArrayBuffer(t[0]*t[1]*4*4),r=new Float32Array(n);e.readPixels(0,0,t[1],t[0],e.RGBA,e.FLOAT,r);const i=[];for(let o=0;o<r.length;o+=4)i.push(r[o]);return new Float32Array(i)}getWebGLTextureOptions(t,e){const n=this.context;return{textureTarget:{"2d":n.TEXTURE_2D,"2d_array":n.TEXTURE_2D_ARRAY,"3d":n.TEXTURE_3D}[t],textureInternalFormat:{float:n.R32F,int:n.R32I}[e],textureFormat:{float:n.RED,int:n.RED_INTEGER}[e],textureType:{float:n.FLOAT,int:n.INT}[e]}}storeRef(t,e){"texture"===t?this._refs.textures.push(e):"buffer"===t&&this._refs.buffers.push(e)}clearRefs(){const t=this.context;this._refs.textures.forEach(e=>t.deleteTexture(e)),this._refs.buffers.forEach(e=>t.deleteBuffer(e)),this._refs={textures:[],buffers:[]}}};e.webgl2=r,e.MAX_TEXTURE_SIZE=r.MAX_TEXTURE_SIZE,e.MAX_TEXTURE_IMAGE_UNITS=r.MAX_TEXTURE_IMAGE_UNITS},hjL1:function(t,e,n){"use strict";var r=n("neHe");t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},hygk:function(t,e,n){var r=n("YDHx");t.exports=function(t,e){return r(t,e)}},i039:function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,s=n>>>16,a=r>>>16,u=(s*o>>>0)+(i*o>>>16);return s*a+(u>>>16)+((i*a>>>0)+(65535&u)>>>16)}})},i33r:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="ZeroPadding1D";const{padding:e=[1,1]}=t;this.padding=Array.isArray(e)?e:[e,e],this.description=`${JSON.stringify(this.padding)}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]+this.padding[0]+this.padding[1],this.inputShape[1]],this.output=new i.default([],this.outputShape),s.default.assign(this.output.tensor.hi(this.inputShape[0]+this.padding[0],this.inputShape[1]).lo(this.padding[0],0),t.tensor)}_createIndexMap(){if(this.indexMap)return;const t=new i.default([],this.inputShape,{type:Int32Array}),e=new i.default([],this.inputShape,{type:Int32Array}),n=new i.default([],this.inputShape,{type:Int32Array});for(let i=0;i<this.inputShape[0];i++)s.default.assigns(e.tensor.pick(i,null),i);for(let i=0;i<this.inputShape[1];i++)s.default.assigns(n.tensor.pick(null,i),i);s.default.muls(t.tensor,e.tensor,this.inputShape[1]),s.default.addeq(t.tensor,n.tensor),this.indexMap=new i.default([],this.outputShape,{type:Int32Array});const r=[this.padding[0],0],o=[this.inputShape[0]+this.padding[0],this.inputShape[1]];s.default.assigns(this.indexMap.tensor,-1),s.default.assign(this.indexMap.tensor.hi(...o).lo(...r),t.tensor),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]+this.padding[0]+this.padding[1],this.inputShape[1]],this._createIndexMap(),this.output||(this.output=new i.default([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},i4ON:function(t,e,n){var r=n("nw3t"),i=n("22B7"),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];o.call(t,e)&&i(s,n)&&(void 0!==n||e in t)||r(t,e,n)}},i68Q:function(t,e,n){var r=n("Ds5P");r(r.S,"Object",{create:n("7ylX")})},"iH+F":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(n("Idfp")),i=p(n("6E9d")),o=p(n("t6in")),s=n("hgeo"),a=n("LSkx"),u=p(n("4pkP")),l=p(n("fjY8")),c=h(n("ljiA"));function p(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}e.default=class extends o.default{constructor(t={}){super(t),Object.defineProperty(this,"_combine",{configurable:!0,enumerable:!0,writable:!0,value:(0,l.default)({args:["array","array","array","array"],body:function(t,e,n,r){}})}),Object.defineProperty(this,"_update",{configurable:!0,enumerable:!0,writable:!0,value:(0,l.default)({args:["array","array","array","array"],body:function(t,e,n,r){t=t*n+e*r}})}),this.layerClass="LSTM";const{units:e=1,activation:n="tanh",use_bias:i=!0,recurrent_activation:o="hard_sigmoid",return_sequences:a=!1,go_backwards:u=!1,stateful:p=!1}=t;this.units=e,this.activation=n,this.recurrentActivation=o,this.activationFunc=r[n],this.recurrentActivationFunc=r[o],this.use_bias=i,this.returnSequences=a,this.goBackwards=u,this.stateful=p,this.params=this.use_bias?["kernel","recurrent_kernel","bias"]:["kernel","recurrent_kernel"],this.description=`output dimensions: ${this.units}`,this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.description+="linear"!==this.recurrentActivation?`, ${this.recurrentActivation} recurrent activation`:"",this.description+=this.returnSequences?", return sequences":"",this.description+=this.goBackwards?", backward direction":"",this.description+=this.stateful?", stateful":"",this.gpu&&(this.copyTextureProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n"),this.matMulProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n"),this.activationProgram=s.webgl2.compileProgram(c[this.activation]),this.recurrentActivationProgram=s.webgl2.compileProgram(c[this.recurrentActivation]),this.gateSummationProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(bias, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n  float bias_val = texelFetch(bias, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val + t2_val + bias_val);\n}\n"),this.gateProductProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(t1, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val * t2_val);\n}\n"),this.timestepReadProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n\n  outColor = vec4(texelFetch(x, ivec2(out_x, index), 0).r);\n}\n"),this.timestepWriteProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D y;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(y, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (out_y == index) {\n    outColor = vec4(texelFetch(x, ivec2(out_x, 0), 0).r);\n  } else {\n    outColor = vec4(texelFetch(y, ivec2(out_x, out_y), 0).r);\n  }\n}\n"),this.updateProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D c;\nuniform sampler2D ctm1;\nuniform sampler2D i;\nuniform sampler2D f;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(c, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float c_val = texelFetch(c, ivec2(out_x, out_y), 0).r;\n  float ctm1_val = texelFetch(ctm1, ivec2(out_x, out_y), 0).r;\n  float i_val = texelFetch(i, ivec2(out_x, out_y), 0).r;\n  float f_val = texelFetch(f, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(c_val * i_val + ctm1_val * f_val);\n}\n"))}setWeights(t){super.setWeights(t);const e=this.weights.kernel.tensor.shape;this.weights.W_i=new i.default([],[e[0],this.units]),this.weights.W_f=new i.default([],[e[0],this.units]),this.weights.W_c=new i.default([],[e[0],this.units]),this.weights.W_o=new i.default([],[e[0],this.units]),u.default.assign(this.weights.W_i.tensor,this.weights.kernel.tensor.hi(e[0],this.units).lo(0,0)),u.default.assign(this.weights.W_f.tensor,this.weights.kernel.tensor.hi(e[0],2*this.units).lo(0,this.units)),u.default.assign(this.weights.W_c.tensor,this.weights.kernel.tensor.hi(e[0],3*this.units).lo(0,2*this.units)),u.default.assign(this.weights.W_o.tensor,this.weights.kernel.tensor.hi(e[0],4*this.units).lo(0,3*this.units));const n=this.weights.recurrent_kernel.tensor.shape;this.weights.U_i=new i.default([],[n[0],this.units]),this.weights.U_f=new i.default([],[n[0],this.units]),this.weights.U_c=new i.default([],[n[0],this.units]),this.weights.U_o=new i.default([],[n[0],this.units]),u.default.assign(this.weights.U_i.tensor,this.weights.recurrent_kernel.tensor.hi(n[0],this.units).lo(0,0)),u.default.assign(this.weights.U_f.tensor,this.weights.recurrent_kernel.tensor.hi(n[0],2*this.units).lo(0,this.units)),u.default.assign(this.weights.U_c.tensor,this.weights.recurrent_kernel.tensor.hi(n[0],3*this.units).lo(0,2*this.units)),u.default.assign(this.weights.U_o.tensor,this.weights.recurrent_kernel.tensor.hi(n[0],4*this.units).lo(0,3*this.units)),this.weights.b_i=new i.default([],[this.units]),this.weights.b_f=new i.default([],[this.units]),this.weights.b_c=new i.default([],[this.units]),this.weights.b_o=new i.default([],[this.units]),this.use_bias&&(u.default.assign(this.weights.b_i.tensor,this.weights.bias.tensor.hi(this.units).lo(0)),u.default.assign(this.weights.b_f.tensor,this.weights.bias.tensor.hi(2*this.units).lo(this.units)),u.default.assign(this.weights.b_c.tensor,this.weights.bias.tensor.hi(3*this.units).lo(2*this.units)),u.default.assign(this.weights.b_o.tensor,this.weights.bias.tensor.hi(4*this.units).lo(3*this.units))),this.gpu&&["W_i","W_f","W_c","W_o","U_i","U_f","U_c","U_o","b_i","b_f","b_c","b_o"].forEach(t=>{this.weights[t].createGLTexture({type:"2d",format:"float"})})}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const e=this.weights.b_i.tensor.shape[0],n=this.weights.b_c.tensor.shape[0],r=this.weights.b_f.tensor.shape[0],o=this.weights.b_o.tensor.shape[0],s=new i.default([],[e]),l=new i.default([],[e]),c=new i.default([],[e]),p=new i.default([],[r]),h=new i.default([],[r]),f=new i.default([],[r]),d=new i.default([],[o]),g=new i.default([],[o]),m=new i.default([],[o]),v=new i.default([],[n]),y=new i.default([],[n]),_=new i.default([],[n]),x=this.stateful&&this.previousCandidate?this.previousCandidate:new i.default([],[n]),b=this.stateful&&this.currentHiddenState?this.currentHiddenState:new i.default([],[n]),w=new i.default([],[n]);this.hiddenStateSequence=new i.default([],[t.tensor.shape[0],n]);const S=new i.default([],[t.tensor.shape[1]]),P=()=>{u.default.assign(w.tensor,b.tensor),(0,a.gemv)(1,this.weights.W_i.tensor.transpose(1,0),S.tensor,1,l.tensor),(0,a.gemv)(1,this.weights.U_i.tensor.transpose(1,0),w.tensor,1,c.tensor),this._combine(s.tensor,l.tensor,c.tensor,this.weights.b_i.tensor),this.recurrentActivationFunc(s),(0,a.gemv)(1,this.weights.W_f.tensor.transpose(1,0),S.tensor,1,h.tensor),(0,a.gemv)(1,this.weights.U_f.tensor.transpose(1,0),w.tensor,1,f.tensor),this._combine(p.tensor,h.tensor,f.tensor,this.weights.b_f.tensor),this.recurrentActivationFunc(p),(0,a.gemv)(1,this.weights.W_o.tensor.transpose(1,0),S.tensor,1,g.tensor),(0,a.gemv)(1,this.weights.U_o.tensor.transpose(1,0),w.tensor,1,m.tensor),this._combine(d.tensor,g.tensor,m.tensor,this.weights.b_o.tensor),this.recurrentActivationFunc(d),(0,a.gemv)(1,this.weights.W_c.tensor.transpose(1,0),S.tensor,1,y.tensor),(0,a.gemv)(1,this.weights.U_c.tensor.transpose(1,0),w.tensor,1,_.tensor),this._combine(v.tensor,y.tensor,_.tensor,this.weights.b_c.tensor),this.activationFunc(v),this._update(v.tensor,x.tensor,s.tensor,p.tensor),u.default.assign(x.tensor,v.tensor),this.activationFunc(v),u.default.mul(b.tensor,d.tensor,v.tensor)};for(let i=0,a=t.tensor.shape[0];i<a;i++)u.default.assign(S.tensor,t.tensor.pick(this.goBackwards?a-i-1:i,null)),[l,c,h,f,g,m,y,_].forEach(t=>u.default.assigns(t.tensor,0)),P(),u.default.assign(this.hiddenStateSequence.tensor.pick(i,null),b.tensor);this.output=this.returnSequences?this.hiddenStateSequence:b,this.stateful&&(this.previousCandidate=x,this.currentHiddenState=b)}_stepGPU(){s.webgl2.runProgram({program:this.copyTextureProgram,output:this.previousHiddenState,inputs:[{input:this.currentHiddenState,name:"source"}]}),s.webgl2.runProgram({program:this.matMulProgram,output:this.tempXI,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_i,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.matMulProgram,output:this.tempHI,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.U_i,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentInputGateStatePreactiv,inputs:[{input:this.tempXI,name:"t1"},{input:this.tempHI,name:"t2"},{input:this.weights.b_i,name:"bias"}]}),"linear"!==this.recurrentActivation?s.webgl2.runProgram({program:this.recurrentActivationProgram,output:this.currentInputGateState,inputs:[{input:this.currentInputGateStatePreactiv,name:"x"}]}):this.currentInputGateState=this.currentInputGateStatePreactiv,s.webgl2.runProgram({program:this.matMulProgram,output:this.tempXF,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_f,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.matMulProgram,output:this.tempHF,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.U_f,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentForgetGateStatePreactiv,inputs:[{input:this.tempXF,name:"t1"},{input:this.tempHF,name:"t2"},{input:this.weights.b_f,name:"bias"}]}),"linear"!==this.recurrentActivation?s.webgl2.runProgram({program:this.recurrentActivationProgram,output:this.currentForgetGateState,inputs:[{input:this.currentForgetGateStatePreactiv,name:"x"}]}):this.currentForgetGateState=this.currentForgetGateStatePreactiv,s.webgl2.runProgram({program:this.matMulProgram,output:this.tempXO,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_o,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.matMulProgram,output:this.tempHO,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.U_o,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentOutputGateStatePreactiv,inputs:[{input:this.tempXO,name:"t1"},{input:this.tempHO,name:"t2"},{input:this.weights.b_o,name:"bias"}]}),"linear"!==this.recurrentActivation?s.webgl2.runProgram({program:this.recurrentActivationProgram,output:this.currentOutputGateState,inputs:[{input:this.currentOutputGateStatePreactiv,name:"x"}]}):this.currentOutputGateState=this.currentOutputGateStatePreactiv,s.webgl2.runProgram({program:this.matMulProgram,output:this.tempXC,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_c,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.matMulProgram,output:this.tempHC,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.U_c,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),s.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentCandidatePreactiv,inputs:[{input:this.tempXC,name:"t1"},{input:this.tempHC,name:"t2"},{input:this.weights.b_c,name:"bias"}]}),"linear"!==this.activation?s.webgl2.runProgram({program:this.activationProgram,output:this.currentCandidate,inputs:[{input:this.currentCandidatePreactiv,name:"x"}]}):this.currentCandidate=this.currentCandidatePreactiv,s.webgl2.runProgram({program:this.copyTextureProgram,output:this.currentCandidateCopy,inputs:[{input:this.currentCandidate,name:"source"}]}),s.webgl2.runProgram({program:this.updateProgram,output:this.currentCandidate,inputs:[{input:this.currentCandidateCopy,name:"c"},{input:this.previousCandidate,name:"ctm1"},{input:this.currentInputGateState,name:"i"},{input:this.currentForgetGateState,name:"f"}]}),s.webgl2.runProgram({program:this.copyTextureProgram,output:this.previousCandidate,inputs:[{input:this.currentCandidate,name:"source"}]}),s.webgl2.runProgram({program:this.copyTextureProgram,output:this.currentCandidatePreactiv,inputs:[{input:this.currentCandidate,name:"source"}]}),"linear"!==this.activation?s.webgl2.runProgram({program:this.activationProgram,output:this.currentCandidate,inputs:[{input:this.currentCandidatePreactiv,name:"x"}]}):this.currentCandidate=this.currentCandidatePreactiv,s.webgl2.runProgram({program:this.gateProductProgram,output:this.currentHiddenState,inputs:[{input:this.currentOutputGateState,name:"t1"},{input:this.currentCandidate,name:"t2"}]})}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"});const e=this.weights.b_i.glTextureShape[1],n=this.weights.b_c.glTextureShape[1],r=this.weights.b_f.glTextureShape[1],o=this.weights.b_o.glTextureShape[1];this.currentInputGateState||(this.currentInputGateState=new i.default([],[e]),this.currentInputGateState.createGLTexture({type:"2d",format:"float"})),this.currentInputGateStatePreactiv||(this.currentInputGateStatePreactiv=new i.default([],[e]),this.currentInputGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXI||(this.tempXI=new i.default([],[e]),this.tempXI.createGLTexture({type:"2d",format:"float"})),this.tempHI||(this.tempHI=new i.default([],[e]),this.tempHI.createGLTexture({type:"2d",format:"float"})),this.currentForgetGateState||(this.currentForgetGateState=new i.default([],[r]),this.currentForgetGateState.createGLTexture({type:"2d",format:"float"})),this.currentForgetGateStatePreactiv||(this.currentForgetGateStatePreactiv=new i.default([],[r]),this.currentForgetGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXF||(this.tempXF=new i.default([],[r]),this.tempXF.createGLTexture({type:"2d",format:"float"})),this.tempHF||(this.tempHF=new i.default([],[r]),this.tempHF.createGLTexture({type:"2d",format:"float"})),this.currentOutputGateState||(this.currentOutputGateState=new i.default([],[o]),this.currentOutputGateState.createGLTexture({type:"2d",format:"float"})),this.currentOutputGateStatePreactiv||(this.currentOutputGateStatePreactiv=new i.default([],[o]),this.currentOutputGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXO||(this.tempXO=new i.default([],[o]),this.tempXO.createGLTexture({type:"2d",format:"float"})),this.tempHO||(this.tempHO=new i.default([],[o]),this.tempHO.createGLTexture({type:"2d",format:"float"})),this.currentCandidate||(this.currentCandidate=new i.default([],[n]),this.currentCandidate.createGLTexture({type:"2d",format:"float"})),this.currentCandidateCopy||(this.currentCandidateCopy=new i.default([],[n]),this.currentCandidateCopy.createGLTexture({type:"2d",format:"float"})),this.currentCandidatePreactiv||(this.currentCandidatePreactiv=new i.default([],[n]),this.currentCandidatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXC||(this.tempXC=new i.default([],[n]),this.tempXC.createGLTexture({type:"2d",format:"float"})),this.tempHC||(this.tempHC=new i.default([],[n]),this.tempHC.createGLTexture({type:"2d",format:"float"})),this.previousCandidate&&this.stateful||(this.previousCandidate=new i.default([],[n]),this.previousCandidate.createGLTexture({type:"2d",format:"float"})),this.currentHiddenState&&this.stateful||(this.currentHiddenState=new i.default([],[n]),this.currentHiddenState.createGLTexture({type:"2d",format:"float"})),this.previousHiddenState||(this.previousHiddenState=new i.default([],[n]),this.previousHiddenState.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequence||(this.hiddenStateSequence=new i.default([],[t.glTextureShape[0],n]),this.hiddenStateSequence.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequenceCopy||(this.hiddenStateSequenceCopy=new i.default([],[t.glTextureShape[0],n]),this.hiddenStateSequenceCopy.createGLTexture({type:"2d",format:"float"})),this.currentX||(this.currentX=new i.default([],[t.glTextureShape[1]]),this.currentX.createGLTexture({type:"2d",format:"float"}));for(let i=0,a=t.glTextureShape[0];i<a;i++)s.webgl2.runProgram({program:this.timestepReadProgram,output:this.currentX,inputs:[{input:t,name:"x"}],uniforms:[{value:this.goBackwards?a-i-1:i,type:"int",name:"index"}]}),this._stepGPU(),this.returnSequences&&(s.webgl2.runProgram({program:this.copyTextureProgram,output:this.hiddenStateSequenceCopy,inputs:[{input:this.hiddenStateSequence,name:"source"}]}),s.webgl2.runProgram({program:this.timestepWriteProgram,output:this.hiddenStateSequence,inputs:[{input:this.currentHiddenState,name:"x"},{input:this.hiddenStateSequenceCopy,name:"y"}],uniforms:[{value:i,type:"int",name:"index"}]}));this.output=this.returnSequences?this.hiddenStateSequence:this.currentHiddenState,0===this.outbound.length&&this.output.transferFromGLTexture()}}},iKpr:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("XSOZ"),o=n("rFzY"),s=n("vmSO");t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,a,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),void 0==t?new this:(n=[],e?(r=0,a=o(u,arguments[2],2),s(t,!1,function(t){n.push(a(t,r++))})):s(t,!1,n.push,n),new this(n))}})}},iL3P:function(t,e,n){var r=n("eG8/"),i=n("3Did"),o=n("hIPy"),s=n("Ubhr");t.exports=function(t){return o(t)?r(s(t)):i(t)}},iM2X:function(t,e,n){"use strict";n("y325")("bold",function(t){return function(){return t(this,"b","","")}})},imBK:function(t,e,n){var r=n("22B7");t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},inZD:function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},iobG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[${t}];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${e[0]}) * outTex.y);\n  int out_x = int(float(${e[1]}) * outTex.x);\n  \n  outColor = vec4(${(0,i.default)(t).map(t=>`texelFetch(inputs[${t}], ivec2(out_x, out_y), 0).r`).join(" + ")});\n}\n`};var r,i=(r=n("tVBY"))&&r.__esModule?r:{default:r}},"j/Lv":function(t,e,n){var r=n("Ds5P");r(r.S,"System",{global:n("OzIq")})},j42X:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("PHqh"),o=[].join;r(r.P+r.F*(n("Q6Nf")!=Object||!n("NNrz")(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},jB26:function(t,e,n){"use strict";var r=n("DIVP"),i=n("s4j0");t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},jMr4:function(t,e,n){"use strict";t.exports=function(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}},jR9D:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("sCNu")),i=u(n("6E9d")),o=n("hgeo"),s=u(n("YUKD")),a=u(n("4pkP"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Multiply",this.mode="mul"}_callCPU(t){const e=t[0].tensor.shape.slice();this.output=new i.default([],e),a.default.assigns(this.output.tensor,1);for(let n=0;n<t.length;n++)a.default.muleq(this.output.tensor,t[n].tensor)}_callGPU(t){if(!this.mergeProgram){const e=(0,s.default)("multiply",t.length,t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape);this.mergeProgram=o.webgl2.compileProgram(e)}super._callGPU(t)}}},jhxf:function(t,e,n){var r=n("UKM+"),i=n("OzIq").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},jrHM:function(t,e,n){var r=n("Ds5P");r(r.S,"Object",{setPrototypeOf:n("gvDt").set})},kBOG:function(t,e,n){var r=n("Ds5P"),i=n("cwmK");r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},kPVM:function(t,e,n){(function(e){(function(){var n,r,i,o,s,a;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-s)/1e6},r=e.hrtime,o=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})(),a=1e9*e.uptime(),s=o-a):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(e,n("W2nU"))},kTq6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Cropping2D";const{cropping:e=[[0,0],[0,0]],data_format:n="channels_last"}=t;this.cropping=Array.isArray(e)?Array.isArray(e[0])?e:[[e[0],e[0]],[e[1],e[1]]]:[[e,e],[e,e]],this.dataFormat=n,this.description=`${JSON.stringify(this.cropping)}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[2]],this.output=new i.default([],this.outputShape),s.default.assign(this.output.tensor,t.tensor.hi(this.inputShape[0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][1],this.inputShape[2]).lo(this.cropping[0][0],this.cropping[1][0],0)),"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(2,0,1),this.output.tensor=this.output.tensor.transpose(2,0,1))}_createIndexMap(t,e){if(this.indexMap)return;const n=new i.default(t.data,t.shape,{type:Int32Array});this.indexMap=new i.default([],this.outputShape,{type:Int32Array});const r="channels_first"===this.dataFormat?[0,this.cropping[0][0],this.cropping[1][0]]:[this.cropping[0][0],this.cropping[1][0],0];s.default.assign(this.indexMap.tensor,n.tensor.hi(..."channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]-this.cropping[0][1],this.inputShape[2]-this.cropping[1][1]]:[this.inputShape[0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][1],this.inputShape[2]]).lo(...r)),e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[2]-this.cropping[1][0]-this.cropping[1][1]]:[this.inputShape[0]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[2]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new i.default([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}},"kbi+":function(t,e,n){var r=n("eHwr")(n("KgVm"));t.exports=r},keZT:function(t,e,n){"use strict";t.exports=function(t){var e,n=t.data,r=t.stride[0],i=t.offset,o=0;for(e=t.shape[0]-1;e>=0;e--,i+=r)o+=Math.abs(n[i]);return o}},kic5:function(t,e,n){var r=n("UKM+"),i=n("gvDt").set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},kkCw:function(t,e,n){var r=n("VWgF")("wks"),i=n("ulTY"),o=n("OzIq").Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},kqpo:function(t,e,n){var r=n("u0PK"),i=n("/whu");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},ktak:function(t,e,n){var r=n("7e4z"),i=n("/GnY"),o=n("bGc4");t.exports=function(t){return o(t)?r(t):i(t)}},kxzG:function(t,e,n){var r=n("yCNF"),i=n("6MiT"),o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=a.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):s.test(t)?NaN:+t}},l0r7:function(t,e,n){"use strict";t.exports=function(){console.error("SYR (symmetric rank 1 operation A := alpha*x*y' + A) not yet implemented")}},l9Lx:function(t,e,n){var r=n("lb6C"),i=n("C0hh"),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols;t.exports=s?function(t){return null==t?[]:(t=Object(t),r(s(t),function(e){return o.call(t,e)}))}:i},lDLk:function(t,e,n){var r=n("DIVP"),i=n("xZa+"),o=n("s4j0"),s=Object.defineProperty;e.f=n("bUqO")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},lKE8:function(t,e,n){var r=n("Qh14"),i=n("PHqh"),o=n("Y1aA").f;t.exports=function(t){return function(e){for(var n,s=i(e),a=r(s),u=a.length,l=0,c=[];u>l;)o.call(s,n=a[l++])&&c.push(t?[n,s[n]]:s[n]);return c}}},lRJ2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(n("6E9d")),i=n("hgeo"),o=l(n("4pkP")),s=n("LSkx"),a=l(n("wm4K")),u=l(n("YUKD"));function l(t){return t&&t.__esModule?t:{default:t}}e.default=class{constructor(t={}){if(this.modelLayersMap=t.modelLayersMap,this.gpu=t.gpu,!this.modelLayersMap)throw new Error("[CAM] modelLayersMap is required")}initialize(){if(this.modelLayersMap.forEach(t=>{"GlobalAveragePooling2D"===t.layerClass&&(this.enabled=!0,this.poolLayer=t)}),this.enabled&&!this.data){this.featureMaps=this.modelLayersMap.get(this.poolLayer.inbound[0]).output;let t=this.poolLayer;for(t.outbound.length||(this.weights=this.poolLayer.output);t.outbound.length;)t=this.modelLayersMap.get(t.outbound[0]),this.weights=t.weights.kernel?t.weights.kernel:this.poolLayer.output;this.inputShape=this.featureMaps.is2DReshaped?this.featureMaps.originalShape.slice(0,2):this.featureMaps.tensor.shape.slice(0,2),this.shape=1===this.weights.tensor.shape.length?this.inputShape:[...this.inputShape,this.weights.tensor.shape[1]],this.data=new Float32Array(this.shape.reduce((t,e)=>t*e,1))}}update(){if(!this.enabled)return;this.featureMaps=this.modelLayersMap.get(this.poolLayer.inbound[0]).output,this.gpu?this._updateGPU():this._updateCPU();const t=o.default.inf(this.output.tensor),e=o.default.sup(this.output.tensor);o.default.divseq(o.default.subseq(this.output.tensor,t),e-t),this.data=this.output.tensor.data}_updateCPU(){if(this.featureMaps.is2DReshaped||this.featureMaps.reshapeTo2D(),1===this.weights.tensor.shape.length){this.output||(this.output=new r.default([],this.shape));const t=new r.default([],[this.shape[0]*this.shape[1]]);(0,s.gemv)(1,this.featureMaps.tensor,this.weights.tensor,1,t.tensor),this.output.replaceTensorData(t.tensor.data)}else this.output||(this.output=new r.default([],this.shape)),this.output.reshapeTo2D(),(0,a.default)(this.output.tensor,this.featureMaps.tensor,this.weights.tensor,1,1),this.output.reshapeFrom2D();o.default.maxseq(this.output.tensor,0),this.featureMaps.is2DReshaped&&this.featureMaps.reshapeFrom2D()}_updateGPU(){this.output||(this.output=new r.default([],this.shape));const t=this.weights.is1D;if(!this.output.glTexture&&t?this.output.createGLTexture({type:"2d",format:"float"}):(this.output.reshapeTo2D(),this.output.createGLTexture({type:"2d",format:"float"})),!this.program){const e=(0,u.default)("cam",this.output.glTextureShape,t?this.weights.glTextureShape[1]:this.weights.glTextureShape[0],t);this.program=i.webgl2.compileProgram(e)}i.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:this.featureMaps,name:"featureMaps"},{input:this.weights,name:"weights"}]}),this.output.transferFromGLTexture(),this.output.is2DReshaped&&this.output.reshapeFrom2D()}}},lb6C:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}},ljiA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linear=e.hard_sigmoid=e.sigmoid=e.tanh=e.relu=e.softsign=e.softplus=e.selu=e.elu=e.softmax=void 0,e.softmax="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float maxval = 0.0;\n  for (int i = 0; i < int(size[0]); ++i) {\n    float val = texelFetch(x, ivec2(i, out_y), 0).r;\n    if (i == 0 || val > maxval) {\n      maxval = val;\n    }\n  }\n\n  float sum = 0.0;\n  for (int i = 0; i < int(size[0]); ++i) {\n    float val = texelFetch(x, ivec2(i, out_y), 0).r;\n    sum += exp(val - maxval);\n  }\n\n  outColor = exp(texture(x, vec2(outTex.x, outTex.y)) - maxval) / sum;\n}\n",e.elu="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  float alpha = 1.0;\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0) + alpha * (exp(min(v, 0.0)) - 1.0);\n}\n",e.selu="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  float alpha = 1.6732632423543772848170429916717;\n  float scale = 1.0507009873554804934193349852946;\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = scale * (max(v, 0.0) + alpha * (exp(min(v, 0.0)) - 1.0));\n}\n",e.softplus="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  outColor = log(1.0 + exp(texture(x, vec2(outTex.x, outTex.y))));\n}\n",e.softsign="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  v /= 1.0 + abs(v);\n  outColor = v;\n}\n",e.relu="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0);\n}\n",e.tanh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = tanh(v);\n}\n",e.sigmoid="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  outColor = 1.0 / (1.0 + exp(-1.0 * texture(x, vec2(outTex.x, outTex.y))));\n}\n",e.hard_sigmoid="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  v = v * 0.2 + 0.5;\n  v = max(v, 0.0);\n  v = min(v, 1.0);\n  outColor = v;\n}\n",e.linear="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  outColor = texture(x, vec2(outTex.x, outTex.y));\n}\n"},lkT3:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("FkIZ");r(r.P+r.F*!n("NNrz")([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},lnZN:function(t,e,n){var r=n("OzIq"),i=n("kic5"),o=n("lDLk").f,s=n("WcO1").f,a=n("u0PK"),u=n("0pGU"),l=r.RegExp,c=l,p=l.prototype,h=/a/g,f=/a/g,d=new l(h)!==h;if(n("bUqO")&&(!d||n("zgIt")(function(){return f[n("kkCw")("match")]=!1,l(h)!=h||l(f)==f||"/a/i"!=l(h,"i")}))){l=function(t,e){var n=this instanceof l,r=a(t),o=void 0===e;return!n&&r&&t.constructor===l&&o?t:i(d?new c(r&&!o?t.source:t,e):c((r=t instanceof l)?t.source:t,r&&o?u.call(t):e),n?this:p,l)};for(var g=function(t){t in l||o(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},m=s(c),v=0;m.length>v;)g(m[v++]);p.constructor=l,l.prototype=p,n("R3AP")(r,"RegExp",l)}n("CEne")("RegExp")},lyhN:function(t,e,n){var r=n("Ds5P"),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},m4tL:function(t,e,n){var r=n("M1c9"),i=n("5Zxu");t.exports=function(t,e,n){return t&&t.length?(e=n||void 0===e?1:i(e),r(t,0,e<0?0:e)):[]}},m6Yj:function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{fround:n("g/m8")})},m8F4:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("2VSL"),o=n("41xE");r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},mJx5:function(t,e,n){n("Vg1y")("split",2,function(t,e,r){"use strict";var i=n("u0PK"),o=r,s=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var a=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return o.call(n,t,e);var r,u,l,c,p,h=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,g=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,f+"g");for(a||(r=new RegExp("^"+m.source+"$(?!\\s)",f));(u=m.exec(n))&&!((l=u.index+u[0].length)>d&&(h.push(n.slice(d,u.index)),!a&&u.length>1&&u[0].replace(r,function(){for(p=1;p<arguments.length-2;p++)void 0===arguments[p]&&(u[p]=void 0)}),u.length>1&&u.index<n.length&&s.apply(h,u.slice(1)),c=u[0].length,d=l,h.length>=g));)m.lastIndex===u.index&&m.lastIndex++;return d===n.length?!c&&m.test("")||h.push(""):h.push(n.slice(d)),h.length>g?h.slice(0,g):h}}else"0".split(void 0,0).length&&(r=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,i){var o=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,o,i):r.call(String(o),n,i)},r]})},mNzn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GaussianDropout",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"GaussianNoise",{enumerable:!0,get:function(){return i.default}});var r=o(n("Spd1")),i=o(n("9ELn"));function o(t){return t&&t.__esModule?t:{default:t}}},mTAn:function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},mTp7:function(t,e,n){var r=n("Ds5P"),i=n("gvDt");i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},mZON:function(t,e,n){var r=n("VWgF")("keys"),i=n("ulTY");t.exports=function(t){return r[t]||(r[t]=i(t))}},mgnk:function(t,e,n){var r=n("aCM0"),i=n("UnEC");t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},mhn7:function(t,e,n){"use strict";n("Ymdd")("trim",function(t){return function(){return t(this,3)}})},n12u:function(t,e,n){var r=n("Ds5P");r(r.S+r.F,"Object",{assign:n("oYd7")})},n3qr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("t6in")),i=c(n("6E9d")),o=c(n("tb9c")),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n("7a8O")),a=c(n("4pkP")),u=c(n("nMS8")),l=c(n("CvWx"));function c(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Conv1D";const{filters:e=1,kernel_size:n=1,strides:r=1,padding:i="valid",dilation_rate:s=1,activation:a="linear",use_bias:u=!0}=t;this.description=`${e} filters of size ${n}, striding ${r}`,this.description+="valid"===i?", no border padding":", pad to same borders",this.description+=s>1?`, dilation rate ${s}`:"",this.description+="linear"!==a?`, ${a} activation`:"","valid"!==i&&"same"!==i&&this.throwError("Invalid padding."),1!==s&&1!==r&&this.throwError("Incompatible combination of dilation_rate with strides."),this.use_bias=u,this.params=this.use_bias?["kernel","bias"]:["kernel"];const l={filters:e,kernel_size:[n,1],strides:[r,1],padding:i,data_format:"channels_first",dilation_rate:s,activation:a,use_bias:u};this._conv2dAttrs=l,this._conv2d=new o.default(Object.assign(l,{gpu:t.gpu}))}setWeights(t){t[0].tensor=(0,l.default)(t[0].tensor).transpose(2,1,0,3),this._conv2d.setWeights(t)}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const e=new i.default(t.tensor.data,t.tensor.shape);e.tensor=(0,l.default)(e.tensor).transpose(0,2,1);const n=this._conv2d.call(e);this.outputShape=[0,2].map(t=>this._conv2d.outputShape[t]),this.output=new i.default([],this.outputShape),a.default.assign(this.output.tensor,(0,u.default)(n.tensor).transpose(1,0,2))}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"});const e=t.tensor.shape,n=new i.default([],e);Object.assign(n,t),n.glTextureShape=e,n.is2DReshaped=!0,n.originalShape=[e[0],1,e[1]],n.indicesForReshaped=s.createIndicesFor2DReshaped(n.originalShape,!1,-1),this.output=this._conv2d.call(n),0===this.outbound.length&&this.output.transferFromGLTexture()}}},n982:function(t,e,n){var r=n("UKM+"),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},nMS8:function(t,e,n){"use strict";var r=n("Y4Gl");t.exports=function(t,e){var n,i=[],o=[];if(void 0!==e&&!Array.isArray(e))throw new Error("axes must be an Array list of dimensions to squeeze");for(n=0;n<t.shape.length;n++)(1!==t.shape[n]||void 0!==e&&-1===e.indexOf(n))&&(i.push(t.shape[n]),o.push(t.stride[n]));return r(t.data,i,o,t.offset)}},nRs1:function(t,e,n){var r=n("Ds5P");r(r.S,"Object",{is:n("4IZP")})},nTyY:function(t,e,n){"use strict";t.exports=i;var r=n("Zcec");function i(t,e){this.lo=t>>>0,this.hi=e>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(t){if(0===t)return o;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(t){if("number"==typeof t)return i.fromNumber(t);if(r.isString(t)){if(!r.Long)return i.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new i(t.low>>>0,t.high>>>0):o},i.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var a=String.prototype.charCodeAt;i.fromHash=function(t){return t===s?o:new i((a.call(t,0)|a.call(t,1)<<8|a.call(t,2)<<16|a.call(t,3)<<24)>>>0,(a.call(t,4)|a.call(t,5)<<8|a.call(t,6)<<16|a.call(t,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},i.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},i.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},nYKr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("sCNu")),i=u(n("6E9d")),o=n("hgeo"),s=u(n("wm4K")),a=u(n("4pkP"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Dot",this.mode="dot";const{axes:e=-1,normalize:n=!1}=t;this.dotAxes=Array.isArray(e)?[e[0]<=0?e[0]:e[0]-1,e[1]<=0?e[1]:e[1]-1]:[e<=0?e:e-1,e<=0?e:e-1],this.normalize=n,this.gpu&&(this.mergeProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D input1;\nuniform sampler2D input2;\nuniform int rows;\nuniform int cols;\nuniform int dotAxis1;\nuniform int dotAxis2;\nuniform int commonDim;\nuniform bool normalize;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(cols) * outTex.x);\n  int out_y = int(float(rows) * outTex.y);\n\n  float sum = 0.;\n  float a = 0.;\n  float b = 0.;\n  float norm1 = 0.;\n  float norm2 = 0.;\n\n  for (int i = 0; i < commonDim; ++i) {\n    if (dotAxis1 == 0 && dotAxis2 == 0) {\n      a = texelFetch(input1, ivec2(out_y, i), 0).r;\n      b = texelFetch(input2, ivec2(out_x, i), 0).r;\n    } else if (dotAxis1 == 1 && dotAxis2 == 1) {\n      a = texelFetch(input1, ivec2(i, out_y), 0).r;\n      b = texelFetch(input2, ivec2(i, out_x), 0).r;\n    }\n\n    sum += a * b;\n\n    if (normalize) {\n      norm1 += a * a;\n      norm2 += b * b;\n    }\n  }\n\n  if (normalize) {\n    sum /= sqrt(norm1) * sqrt(norm2);\n  }\n\n  outColor = vec4(sum);\n}\n"))}_calcOutputShape(t){let e=t[0].slice(),n=t[1].slice();e.splice(this.dotAxes[0],1),n.splice(this.dotAxes[1],1),this.outputShape=e.concat(n),1===this.outputShape.length&&this.outputShape.push(1)}_callCPU(t){if(this._calcOutputShape([t[0].tensor.shape,t[1].tensor.shape]),this.output=new i.default([],this.outputShape),2===t[0].tensor.shape.length&&2===t[1].tensor.shape.length){if(0===this.dotAxes[0]&&0===this.dotAxes[1]){if(this.normalize){for(let e=0;e<t[0].tensor.shape[1];e++)a.default.divseq(t[0].tensor.pick(null,e),a.default.norm2(t[0].tensor.pick(null,e)));for(let e=0;e<t[1].tensor.shape[1];e++)a.default.divseq(t[1].tensor.pick(null,e),a.default.norm2(t[1].tensor.pick(null,e)))}(0,s.default)(this.output.tensor,t[0].tensor.transpose(1,0),t[1].tensor)}else if(1===this.dotAxes[0]&&1===this.dotAxes[1]){if(this.normalize){for(let e=0;e<t[0].tensor.shape[0];e++)a.default.divseq(t[0].tensor.pick(e,null),a.default.norm2(t[0].tensor.pick(e,null)));for(let e=0;e<t[1].tensor.shape[0];e++)a.default.divseq(t[1].tensor.pick(e,null),a.default.norm2(t[1].tensor.pick(e,null)))}(0,s.default)(this.output.tensor,t[0].tensor,t[1].tensor.transpose(1,0))}}else this.throwError("dot mode for 3+ dim tensors not yet implemented.")}_callGPU(t){t.forEach(t=>{t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float"})}),this._calcOutputShape([t[0].glTextureShape,t[1].glTextureShape]),this.output||(this.output=new i.default([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mergeProgram,output:this.output,inputs:[{input:t[0],name:"input1"},{input:t[1],name:"input2"}],uniforms:[{value:this.output.glTextureShape[0],type:"int",name:"rows"},{value:this.output.glTextureShape[1],type:"int",name:"cols"},{value:this.dotAxes[0],type:"int",name:"dotAxis1"},{value:this.dotAxes[1],type:"int",name:"dotAxis2"},{value:t[0].glTextureShape[this.dotAxes[0]],type:"int",name:"commonDim"},{value:+this.normalize,type:"bool",name:"normalize"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},neHe:function(t,e,n){"use strict";var r=n("inZD"),i=n("Re3r"),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function l(t,e){if(null!==t&&"undefined"!=typeof t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return"undefined"==typeof t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function n(n,r){e[r]="object"==typeof e[r]&&"object"==typeof n?t(e[r],n):n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},nh2o:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("OzIq"),o=n("7gX0"),s=n("g36u")(),a=n("kkCw")("observable"),u=n("XSOZ"),l=n("DIVP"),c=n("9GpA"),p=n("A16L"),h=n("2p1q"),f=n("vmSO"),d=f.RETURN,g=function(t){return null==t?void 0:u(t)},m=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},y=function(t){v(t)||(t._o=void 0,m(t))},_=function(t,e){l(t),this._c=void 0,this._o=t,t=new x(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(e){return void t.error(e)}v(this)&&m(this)};_.prototype=p({},{unsubscribe:function(){y(this)}});var x=function(t){this._s=t};x.prototype=p({},{next:function(t){var e=this._s;if(!v(e)){var n=e._o;try{var r=g(n.next);if(r)return r.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var n=e._o;e._o=void 0;try{var r=g(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{m(e)}finally{throw t}}return m(e),t},complete:function(t){var e=this._s;if(!v(e)){var n=e._o;e._o=void 0;try{var r=g(n.complete);t=r?r.call(n,t):void 0}catch(t){try{m(e)}finally{throw t}}return m(e),t}}});var b=function(t){c(this,b,"Observable","_f")._f=u(t)};p(b.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(n,r){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})})}}),p(b,{from:function(t){var e="function"==typeof this?this:b,n=g(l(t)[a]);if(n){var r=l(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return s(function(){if(!n){try{if(f(t,!1,function(t){if(e.next(t),n)return d})===d)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:b)(function(t){var e=!1;return s(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),h(b.prototype,a,function(){return this}),r(r.G,{Observable:b}),n("CEne")("Observable")},nphH:function(t,e,n){var r=n("DIVP"),i=n("UKM+"),o=n("w6Dh");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},nw3t:function(t,e,n){var r=n("p0bc");t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},o0cy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"MaxPooling1D",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"MaxPooling2D",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"MaxPooling3D",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"AveragePooling1D",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"AveragePooling2D",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"AveragePooling3D",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"GlobalMaxPooling1D",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"GlobalMaxPooling2D",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"GlobalMaxPooling3D",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"GlobalAveragePooling1D",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"GlobalAveragePooling2D",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"GlobalAveragePooling3D",{enumerable:!0,get:function(){return d.default}});var r=g(n("8CH+")),i=g(n("eMKX")),o=g(n("Yw76")),s=g(n("cS0u")),a=g(n("Rmdu")),u=g(n("c0pI")),l=g(n("XmPp")),c=g(n("HtHO")),p=g(n("6Jln")),h=g(n("XD8M")),f=g(n("LVmJ")),d=g(n("vrxF"));function g(t){return t&&t.__esModule?t:{default:t}}},o2mx:function(t,e,n){var r=n("NkRn"),i=n("Hxdr"),o=n("NGEn"),s=n("6MiT"),a=r?r.prototype:void 0,u=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},o6WA:function(t,e,n){"use strict";t.exports=function(t,e){for(var n=new Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(i,s){n[r]=function(t){if(o)if(o=!1,t)s(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];i.apply(null,e)}};try{t.apply(e||null,n)}catch(t){o&&(o=!1,s(t))}})}},oF0V:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("IFpc"),o=n("FryR"),s=n("BbyF"),a=n("XSOZ"),u=n("plSV");r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return a(t),e=s(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n("RhFG")("flatMap")},oHKp:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("PHqh"),o=n("oeih"),s=n("BbyF"),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n("NNrz")(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var e=i(this),n=s(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},oIxm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("sCNu")),i=u(n("6E9d")),o=n("hgeo"),s=u(n("YUKD")),a=u(n("4pkP"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Add",this.mode="sum"}_callCPU(t){const e=t[0].tensor.shape.slice();this.output=new i.default([],e);for(let n=0;n<t.length;n++)a.default.addeq(this.output.tensor,t[n].tensor)}_callGPU(t){if(!this.mergeProgram){const e=(0,s.default)("add",t.length,t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape);this.mergeProgram=o.webgl2.compileProgram(e)}super._callGPU(t)}}},oWVC:function(t,e,n){"use strict";var r=n("neHe"),i=n("inZD"),o=n("DQVJ"),s=n("e7Mp");function a(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=a(s);u.Axios=o,u.create=function(t){return a(r.merge(s,t))},u.Cancel=n("Kwd2"),u.CancelToken=n("SEjm"),u.isCancel=n("UhF3"),u.all=function(t){return Promise.all(t)},u.spread=n("onnb"),t.exports=u,t.exports.default=u},oYd7:function(t,e,n){"use strict";var r=n("Qh14"),i=n("Y1N3"),o=n("Y1aA"),s=n("FryR"),a=n("Q6Nf"),u=Object.assign;t.exports=!u||n("zgIt")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=s(t),u=arguments.length,l=1,c=i.f,p=o.f;u>l;)for(var h,f=a(arguments[l++]),d=c?r(f).concat(c(f)):r(f),g=d.length,m=0;g>m;)p.call(f,h=d[m++])&&(n[h]=f[h]);return n}:u},oYp4:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("FryR"),o=n("XSOZ"),s=n("lDLk");n("bUqO")&&r(r.P+n("dm6P"),"Object",{__defineGetter__:function(t,e){s.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},octw:function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},oeih:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},olpo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=f(n("t6in")),i=f(n("6E9d")),o=h(n("Idfp")),s=n("hgeo"),a=h(n("7a8O")),u=f(n("4pkP")),l=f(n("wm4K")),c=f(n("tb9c")),p=h(n("ljiA"));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="SeparableConv2D";const{filters:e=1,kernel_size:n=[1,1],strides:r=[1,1],padding:i="valid",data_format:a="channels_last",depth_multiplier:u=1,activation:l="linear",use_bias:c=!0}=t;this.kernelShape=Array.isArray(n)?[e,...n]:[e,n,n],this.strides=Array.isArray(r)?r:[r,r],"valid"===i||"same"===i?this.padding=i:this.throwError("Invalid padding."),"channels_last"===a||"channels_first"===a?this.dataFormat=a:this.throwError("Only channels_last and channels_first data formats are allowed."),this.activation=l,this.activationFunc=o[l],"valid"===i||"same"===i?this.padding=i:this.throwError("Invalid padding."),this.useBias=c,this.params=this.useBias?["depthwise_kernel","pointwise_kernel","bias"]:["depthwise_kernel","pointwise_kernel"],this.depthwiseConvAttrs={filters:u,kernel_size:[this.kernelShape[1],this.kernelShape[2]],strides:this.strides,padding:i,data_format:a,activation:"linear",use_bias:!1,gpu:t.gpu},this.pointwiseConvAttrs={filters:e,kernel_size:[1,1],strides:[1,1],padding:i,data_format:a,activation:"linear",use_bias:c,gpu:t.gpu},this.description=`${this.kernelShape[0]} ${this.kernelShape.slice(1).join("x")} filters`,this.description+=this.strides.some(t=>t>1)?`, ${this.strides.join("x")} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.description+=u>1?`, depth multiplier: ${u}`:"",this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.gpu&&(this.activationProgram=s.webgl2.compileProgram(p[this.activation]))}setWeights(t){this._depthwiseConv=new class extends c.default{constructor(t={}){super(t)}_calcOutputShape(t){super._calcOutputShape(t),this.outputShape[2]=this.kernelShape[0]*t[2]}_im2col(t){const[e,n,r]=t.tensor.shape,o=this.kernelShape[1],s=this.kernelShape[2],a=o*s;this.imColsMat||(this.imColsMat=new i.default([],[this.outputShape[0]*this.outputShape[1]*r,a]));let l=new i.default([],[o,s,1]),c=0;for(let i=0;i<r;i++)for(let r=0,p=e-o;r<=p;r+=this.strides[0])for(let e=0,h=n-s;e<=h;e+=this.strides[1])u.default.assign(l.tensor,t.tensor.hi(r+o,e+s,i+1).lo(r,e,i)),this.imColsMat.tensor.data.set(l.tensor.data,c),c+=a;return this.imColsMat}_w2row(){const t=this.weights.kernel.tensor.shape[2],[e,n,r]=this.kernelShape,o=n*r;this.wRowsMat=new i.default([],[o,e*t]);let s=new i.default([],[n,r]),a=new i.default([],[o]),l=0;for(let i=0;i<t;i++)for(let t=0;t<e;t++)u.default.assign(s.tensor,this.weights.kernel.tensor.pick(null,null,i,t)),a.replaceTensorData(s.tensor.data),u.default.assign(this.wRowsMat.tensor.pick(null,l),a.tensor),l+=1;return this.wRowsMat}_callCPU(t){this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._im2col(t);const e=this.kernelShape[0],n=this.outputShape[0],r=this.outputShape[1],o=this.inputShape[2],s=new i.default([],[n*r*o,e*o]);(0,l.default)(s.tensor,this.imColsMat.tensor,this.wRowsMat.tensor,1,1),this.output=new i.default([],this.outputShape);const a=n*r*e*o;let u=new Float32Array(a);for(let i=0;i<o;i++)for(let t=i*a+i*e;t<(i+1)*a;t+=e*o)for(let n=0;n<e;n++)u[t+n-i*a]=s.tensor.data[t+n];this.output.replaceTensorData(u)}_createIndexMap(t){if(this.indexMap)return;let[e,n,r]=this.inputShape,o=new i.default(t.data,t.shape,{type:Int32Array});if("same"===this.padding){const[t,r,i,s]=this.inputPadding;e=e+t+r,n=n+i+s,o=this._padInput(o,-1)}const s=this.kernelShape[1],a=this.kernelShape[2],l=s*a;this.indexMap=new i.default([],[this.outputShape[0]*this.outputShape[1]*r,l],{type:Int32Array});const c=new i.default([],[s,a,1]);let p=0;for(let i=0;i<r;i++)for(let t=0,r=e-s;t<=r;t+=this.strides[0])for(let e=0,h=n-a;e<=h;e+=this.strides[1])u.default.assign(c.tensor,o.tensor.hi(t+s,e+a,i+1).lo(t,e,i)),this.indexMap.tensor.data.set(c.tensor.data,p),p+=l;this.indexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_createOutputReshapeIndexMap(){if(this.reshapeIndexMap)return;const t=this.kernelShape[0],e=[this.outputShape[0]*this.outputShape[1],this.outputShape[2]],n=new i.default([],e,{type:Int32Array}),r=new i.default([],e,{type:Int32Array});this.reshapeIndexMap=new i.default([],e,{type:Int32Array});for(let i=0;i<e[1];i++)for(let r=0;r<e[0];r++)u.default.assigns(n.tensor.pick(r,i),r+Math.floor(i/t)*e[0]);for(let i=0;i<e[1];i++)u.default.assigns(r.tensor.pick(null,i),i);u.default.muls(this.reshapeIndexMap.tensor,n.tensor,e[1]),u.default.addeq(this.reshapeIndexMap.tensor,r.tensor),this.reshapeIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){super._callGPU(t),this._createOutputReshapeIndexMap(),this.outputReshaped||(this.outputReshaped=new i.default([],[this.outputShape[0]*this.outputShape[1],this.outputShape[2]]),this.outputReshaped.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.outputReshaped.is2DReshaped=!0,this.outputReshaped.originalShape=this.outputShape,this.outputReshaped.indicesForReshaped=a.createIndicesFor2DReshaped(this.outputShape,!1,-1)),this.output.glTextureFragments&&this.output.convert2DRowFragmentedGLTextureToColStack(),s.webgl2.runProgram({program:this.output.glTextureFragments?this.mapInputFragmentsProgram:this.mapInputProgram,output:this.outputReshaped,inputs:[{input:this.output,name:"x"},{input:this.reshapeIndexMap,name:"indexMap"}],uniforms:[{value:this.output.glTextureShape[1],type:"int",name:"inputCols"}],supportsTextureFragments:!0}),this.output.glTextureFragments&&this.output.removeGLTextureFragmentsAsColStack()}}(this.depthwiseConvAttrs),this._depthwiseConv.setWeights(t.slice(0,1)),this._pointwiseConv=new c.default(this.pointwiseConvAttrs),this._pointwiseConv.setWeights(t.slice(1,3))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this._depthwiseConv._callCPU(t),this._pointwiseConv._callCPU(this._depthwiseConv.output),this.output=this._pointwiseConv.output,this.activationFunc(this.output)}_callGPU(t){this._depthwiseConv.outbound=[null],this._pointwiseConv.outbound=[null],this._depthwiseConv._callGPU(t),this._pointwiseConv._callGPU(this._depthwiseConv.outputReshaped),"linear"===this.activation?this.output=this._pointwiseConv.output:(this.output||(this.output=new i.default([],this._pointwiseConv.output.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this._pointwiseConv.output.originalShape,this.output.indicesForReshaped=a.createIndicesFor2DReshaped(this._pointwiseConv.output.originalShape,!1,-1)),this.outputPreactiv=this._pointwiseConv.output,s.webgl2.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}],supportsTextureFragments:!0})),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1)))}}},onnb:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},oo8B:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("sCNu")),i=u(n("6E9d")),o=n("hgeo"),s=u(n("YUKD")),a=u(n("4pkP"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Minimum",this.mode="min"}_callCPU(t){const e=t[0].tensor.shape.slice();this.output=new i.default([],e),a.default.assign(this.output.tensor,t[0].tensor);for(let n=1;n<t.length;n++)a.default.mineq(this.output.tensor,t[n].tensor)}_callGPU(t){if(!this.mergeProgram){const e=(0,s.default)("minimum",t.length,t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape);this.mergeProgram=o.webgl2.compileProgram(e)}super._callGPU(t)}}},oqL2:function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},ot5s:function(t,e,n){var r=n("PHqh"),i=n("BbyF"),o=n("zo/l");t.exports=function(t){return function(e,n,s){var a,u=r(e),l=i(u.length),c=o(s,l);if(t&&n!=n){for(;l>c;)if((a=u[c++])!=a)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},p0bc:function(t,e,n){var r=n("ICSD"),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},p8g3:function(t,e,n){"use strict";var r=n("Y4Gl"),i=n("4pkP"),o=n("1TIj");e.clone=function(t){var e=t.dtype;"generic"!==e&&"array"!==e||(e="double");var n=o.malloc(t.size,e),s=r(n,t.shape);return i.assign(s,t),s},e.malloc=function(t,e){e||(e="double");for(var n=1,i=new Array(t.length),s=t.length-1;s>=0;--s)i[s]=n,n*=t[s];return r(o.malloc(n,e),t,i,0)},e.free=function(t){"generic"!==t.dtype&&"array"!==t.dtype&&o.free(t.data)},e.zeros=function(t,e){e||(e="double");for(var n=1,i=new Array(t.length),s=t.length-1;s>=0;--s)i[s]=n,n*=t[s];var a=o.malloc(n,e);for(s=0;s<n;++s)a[s]=0;return r(a,t,i,0)},e.ones=function(t,e){e||(e="double");for(var n=1,i=new Array(t.length),s=t.length-1;s>=0;--s)i[s]=n,n*=t[s];var a=o.malloc(n,e);for(s=0;s<n;++s)a[s]=1;return r(a,t,i,0)},e.eye=function(t,e){var n,i;e||(e="double");var s=1,a=new Array(t.length);for(n=t.length-1;n>=0;--n)a[n]=s,s*=t[n];var u=o.malloc(s,e);for(n=0;n<s;++n)u[n]=0;var l=1/0,c=0;for(n=t.length-1;n>=0;n--)c+=a[n],l=Math.min(l,t[n]);for(n=0,i=0;n<l;n++,i+=c)u[i]=1;return r(u,t,a,0)}},pKX3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[${t}];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${e[0]}) * outTex.y);\n  int out_x = int(float(${e[1]}) * outTex.x);\n\n  outColor = vec4(${(0,i.default)(t).map(t=>`texelFetch(inputs[${t}], ivec2(out_x, out_y), 0).r`).join(" * ")});\n}\n`};var r,i=(r=n("tVBY"))&&r.__esModule?r:{default:r}},pOJ5:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e={}){const{alpha:n=1}=e;i(t.tensor,n)};const i=(0,((r=n("fjY8"))&&r.__esModule?r:{default:r}).default)({args:["array","scalar"],body:function(t,e){t=Math.max(t,0)+e*(Math.exp(Math.min(t,0))-1)}})},pQJ6:function(t,e,n){var r=n("bGc4");t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,s=e?o:-1,a=Object(n);(e?s--:++s<o)&&!1!==i(a[s],s,a););return n}}},pTUa:function(t,e,n){var r=n("/I3N");t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},pWGb:function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{log1p:n("Rz2z")})},"pZ/T":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("sCNu")),i=u(n("6E9d")),o=n("hgeo"),s=u(n("YUKD")),a=u(n("4pkP"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Subtract",this.mode="diff"}_callCPU(t){2!==t.length&&this.throwError("Inputs should be an array of 2 Tensors.");const e=t[0].tensor.shape.slice();this.output=new i.default([],e),a.default.sub(this.output.tensor,t[0].tensor,t[1].tensor)}_callGPU(t){if(!this.mergeProgram){const e=(0,s.default)("subtract",t.length,t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape);this.mergeProgram=o.webgl2.compileProgram(e)}super._callGPU(t)}}},"pd+2":function(t,e,n){n("bUqO")&&"g"!=/./g.flags&&n("lDLk").f(RegExp.prototype,"flags",{configurable:!0,get:n("0pGU")})},plSV:function(t,e,n){var r=n("boo2");t.exports=function(t,e){return new(r(t))(e)}},qMY2:function(t,e,n){"use strict";var r=n("0NNb");t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},"qZb+":function(t,e,n){n("0j1G")("Set")},qdHU:function(t,e,n){n("iKpr")("WeakSet")},qkyc:function(t,e,n){var r=n("kkCw")("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},qr4O:function(t,e,n){"use strict";t.exports=i;var r=n("Zcec");function i(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function t(e,n,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return r.asPromise(t,a,e,n,i,o);if(a.rpcImpl)try{return a.rpcImpl(e,n[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(t,n){if(t)return a.emit("error",t,e),s(t);if(null!==n){if(!(n instanceof i))try{n=i[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return a.emit("error",t,e),s(t)}return a.emit("data",n,e),s(null,n)}a.end(!0)})}catch(t){return a.emit("error",t,e),void setTimeout(function(){s(t)},0)}else setTimeout(function(){s(Error("already ended"))},0)},i.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},qrPo:function(t,e,n){t.exports=n("oWVC")},qrRn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=d(n("t6in")),i=d(n("6E9d")),o=f(n("Idfp")),s=n("hgeo"),a=d(n("YUKD")),u=f(n("7a8O")),l=d(n("fjY8")),c=d(n("4pkP")),p=d(n("wm4K")),h=f(n("ljiA"));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}const g=(0,l.default)({args:[{blockIndices:-1},"scalar","scalar"],body:function(t,e,n){for(let r=0;r<n;r++)if(-1===t[r]){t[r]=e;break}}}),m=(0,l.default)({args:[{blockIndices:-1},"array","scalar"],body:function(t,e,n){for(let r=0;r<n;r++)if(-1===t[r]){t[r]=e;break}}});e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Conv2DTranspose";const{filters:e=1,kernel_size:n=[3,3],strides:r=[1,1],padding:i="valid",data_format:a="channels_last",activation:u="linear",use_bias:l=!0}=t;this.kernelShape=Array.isArray(n)?[e,...n]:[e,n,n],this.strides=Array.isArray(r)?r:[r,r],"valid"===i||"same"===i?this.padding=i:this.throwError("Invalid padding."),"channels_last"===a||"channels_first"===a?this.dataFormat=a:this.throwError("Only channels_last and channels_first data formats are allowed."),this.activation=u,this.activationFunc=o[u],this.useBias=l,this.params=this.useBias?["kernel","bias"]:["kernel"],this.description=`${this.kernelShape[0]} ${this.kernelShape.slice(1).join("x")} filters`,this.description+=this.strides.some(t=>t>1)?`, ${this.strides.join("x")} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.gpu&&(this.matMulProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n"),this.activationProgram=s.webgl2.compileProgram(h[this.activation]))}setWeights(t){"channels_first"===this.dataFormat&&(t[0].tensor=t[0].tensor.transpose(2,3,1,0)),super.setWeights(t,!1),this._w2row(),this.gpu&&(this.weights.kernel=this.wRowsMat,this.weights.kernel.createGLTexture({type:"2d",format:"float"}),this.useBias&&this.weights.bias.createGLTexture({type:"2d",format:"float"}))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_calcOutputShape(t){if(this.outputShape&&this.outputPadding)return;const e=t[0],n=t[1],[r,i,o]=this.kernelShape,s="same"===this.padding?e*this.strides[0]:e*this.strides[0]+Math.max(i-this.strides[0],0),a="same"===this.padding?n*this.strides[1]:n*this.strides[1]+Math.max(o-this.strides[1],0),u=r,l="same"===this.padding?Math.max(0,Math.floor((e-1)*this.strides[0]+i-s)):0,c="same"===this.padding?Math.max(0,Math.floor((n-1)*this.strides[1]+o-a)):0,p=Math.floor(l/2),h=l-p,f=Math.floor(c/2),d=c-f;this.outputShape=[s,a,u],this.outputPadding=[p,h,f,d]}_im2col(t){const[e,n,r]=t.tensor.shape;this.imColsMat||(this.imColsMat=new i.default([],[e*n,r]));const o=new i.default([],[e*n]),s=new i.default([],[e,n]);for(let i=0;i<r;i++)c.default.assign(s.tensor,t.tensor.pick(null,null,i)),o.replaceTensorData(s.tensor.data),c.default.assign(this.imColsMat.tensor.pick(null,i),o.tensor);return this.imColsMat}_w2row(){const[t,e,n,r]=this.weights.kernel.tensor.shape;this.wRowsMat=new i.default([],[r,t*e*n]);const o=new i.default([],[t*e*n]),s=new i.default([],[t,e,n]);for(let i=0;i<r;i++)c.default.assign(s.tensor,this.weights.kernel.tensor.pick(null,null,null,i)),o.replaceTensorData(s.tensor.data),c.default.assign(this.wRowsMat.tensor.pick(i,null),o.tensor);return this.wRowsMat}_callCPU(t){this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),this._im2col(t);const e=t.tensor.shape[0],n=t.tensor.shape[1],[r,o,s]=this.kernelShape,a=new i.default([],[e*n,o*s*r]);(0,p.default)(a.tensor,this.imColsMat.tensor,this.wRowsMat.tensor,1,1);const[u,l,h,f]=this.outputPadding;this.output=new i.default([],this.outputShape);let d=new i.default([],[this.outputShape[0]+u+l,this.outputShape[1]+h+f,this.outputShape[2]]),g=new i.default([],[o,s,r]),m=new i.default([],[o*s*r]),v=0;for(let i=0;i<e;i++)for(let t=0;t<n;t++){c.default.assign(m.tensor,a.tensor.pick(v,null)),g.replaceTensorData(m.tensor.data);const e=i*this.strides[0],n=t*this.strides[1];c.default.addeq(d.tensor.hi(e+o,n+s,this.outputShape[2]).lo(e,n,0),g.tensor),v+=1}if(c.default.assign(this.output.tensor,d.tensor.hi(this.outputShape[0]+u,this.outputShape[1]+h,this.outputShape[2]).lo(u,h,0)),this.useBias)for(let i=0;i<r;i++)c.default.addseq(this.output.tensor.pick(null,null,i),this.weights.bias.tensor.get(i));this.activationFunc(this.output),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1))}_createIndexMap(){if(this.indexMap)return;const t=this.inputShape[0],e=this.inputShape[1],[n,r,o]=this.kernelShape,[s,a,u,l]=this.outputPadding,p=(r-this.strides[0]+1)*(o-this.strides[1]+1),h=[this.outputShape[0],this.outputShape[1],p],f=[this.outputShape[0]+s+a,this.outputShape[1]+u+l,p],d=new i.default([],h,{type:Int32Array}),v=new i.default([],h,{type:Int32Array}),y=new i.default([],f,{type:Int32Array}),_=new i.default([],f,{type:Int32Array});c.default.assigns(d.tensor,-1),c.default.assigns(v.tensor,-1),c.default.assigns(y.tensor,-1),c.default.assigns(_.tensor,-1);const x=new i.default([],[r,o,n],{type:Int32Array});for(let i=0;i<r*o*n;i++)x.tensor.data[i]=i;for(let i=0;i<t;i++)for(let t=0;t<e;t++){const n=i*e+t,s=i*this.strides[0],a=t*this.strides[1];g(y.tensor.hi(s+r,a+o,p).lo(s,a,0),n,p),m(_.tensor.hi(s+r,a+o,p).lo(s,a,0),x.tensor.pick(null,null,0),p)}c.default.assign(d.tensor,y.tensor.hi(this.outputShape[0]+s,this.outputShape[1]+u,p).lo(s,u,0)),c.default.assign(v.tensor,_.tensor.hi(this.outputShape[0]+s,this.outputShape[1]+u,p).lo(s,u,0)),this.indexMap=new i.default([],[this.outputShape[0]*this.outputShape[1],p],{type:Int32Array});const b=new i.default([],[p],{type:Int32Array});for(let i=0;i<this.outputShape[0];i++)for(let t=0;t<this.outputShape[1];t++){for(let e=0;e<p;e++){const n=d.tensor.get(i,t,e),r=v.tensor.get(i,t,e);b.tensor.set(e,-1!==n&&-1!==r?n*this.weights.kernel.glTextureShape[1]+r:-1)}c.default.assign(this.indexMap.tensor.pick(i*this.outputShape[1]+t,null),b.tensor)}this.indexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){t.is2DReshaped||t.is2DSquareReshaped?(this.inputShape=t.originalShape,this._calcOutputShape(this.inputShape)):(this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),this._im2col(t),this.imColsMat.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}));const e=t.is2DReshaped||t.is2DSquareReshaped?t:this.imColsMat;this.matMulResult||(this.matMulResult=new i.default([],[e.glTextureShape[0],this.weights.kernel.glTextureShape[1]]),this.matMulResult.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})),"linear"===this.activation||this.outputPreactiv||(this.outputPreactiv=new i.default([],[this.outputShape[0]*this.outputShape[1],this.outputShape[2]]),this.outputPreactiv.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.outputPreactiv.is2DReshaped=!0,this.outputPreactiv.originalShape=this.outputShape,this.outputPreactiv.indicesForReshaped=u.createIndicesFor2DReshaped(this.outputShape,!1,-1)),this.output||(this.output=new i.default([],[this.outputShape[0]*this.outputShape[1],this.outputShape[2]]),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=u.createIndicesFor2DReshaped(this.outputShape,!1,-1)),s.webgl2.runProgram({program:this.matMulProgram,output:this.matMulResult,inputs:[{input:e,name:"A"},{input:this.weights.kernel,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}],supportsTextureFragments:!0}),this._createIndexMap();const n=Boolean(this.matMulResult.glTextureFragments);if(n&&this.matMulResult.convert2DRowFragmentedGLTextureToColStack(),!this.convTransposeProgram){const t=(0,a.default)("conv2dTranspose",this.output.glTextureFragmentShape?this.output.glTextureFragmentShape:this.output.glTextureShape,this.matMulResult.glTextureFragmentShape?this.matMulResult.glTextureFragmentShape:this.matMulResult.glTextureShape,this.indexMap.glTextureFragmentShape?this.indexMap.glTextureFragmentShape:this.indexMap.glTextureShape,this.useBias,n);this.convTransposeProgram=s.webgl2.compileProgram(t)}s.webgl2.runProgram({program:this.convTransposeProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:[{input:this.matMulResult,name:"matMulResult"},{input:this.indexMap,name:"indexMap"},...this.useBias?[{input:this.weights.bias,name:"bias"}]:[]],supportsTextureFragments:!0}),n&&this.matMulResult.removeGLTextureFragmentsAsColStack(),"linear"!==this.activation&&s.webgl2.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1)))}}},qtRy:function(t,e,n){n("77Ug")("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},qwQ3:function(t,e,n){n("Vg1y")("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},qwTf:function(t,e,n){var r=n("TQ3y");t.exports=r.Uint8Array},rCVp:function(t,e,n){var r=n("1C79");t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},rFzY:function(t,e,n){var r=n("XSOZ");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},rJLU:function(t,e,n){"use strict";t.exports=function(t,e,n){var r=n||8192,i=r>>>1,o=null,s=r;return function(n){if(n<1||n>i)return t(n);s+n>r&&(o=t(r),s=0);var a=e.call(o,s,s+=n);return 7&s&&(s=1+(7|s)),a}}},rWoT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="UpSampling1D";const{size:e=2}=t;this.size=e,this.description=`size ${e}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]*this.size,this.inputShape[1]],this.output=new i.default([],this.outputShape);for(let e=0;e<this.size;e++)s.default.assign(this.output.tensor.lo(e,0).step(this.size,1),t.tensor)}_createIndexMap(){if(this.indexMap)return;const t=new i.default([],this.inputShape,{type:Int32Array}),e=new i.default([],this.inputShape,{type:Int32Array}),n=new i.default([],this.inputShape,{type:Int32Array});for(let r=0;r<this.inputShape[0];r++)s.default.assigns(e.tensor.pick(r,null),r);for(let r=0;r<this.inputShape[1];r++)s.default.assigns(n.tensor.pick(null,r),r);s.default.muls(t.tensor,e.tensor,this.inputShape[1]),s.default.addeq(t.tensor,n.tensor),this.indexMap=new i.default([],this.outputShape,{type:Int32Array});for(let r=0;r<this.size;r++)s.default.assign(this.indexMap.tensor.lo(r,0).step(this.size,1),t.tensor);this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]*this.size,this.inputShape[1]],this._createIndexMap(),this.output||(this.output=new i.default([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},reYS:function(t,e,n){"use strict";var r=n("neHe");t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},rljb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("sCNu")),i=u(n("6E9d")),o=n("hgeo"),s=u(n("YUKD")),a=u(n("4pkP"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Maximum",this.mode="max"}_callCPU(t){const e=t[0].tensor.shape.slice();this.output=new i.default([],e),a.default.assign(this.output.tensor,t[0].tensor);for(let n=1;n<t.length;n++)a.default.maxeq(this.output.tensor,t[n].tensor)}_callGPU(t){if(!this.mergeProgram){const e=(0,s.default)("maximum",t.length,t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape);this.mergeProgram=o.webgl2.compileProgram(e)}super._callGPU(t)}}},rpnb:function(t,e,n){var r=n("tHks")();t.exports=r},s4j0:function(t,e,n){var r=n("UKM+");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},s5QA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=p(n("t6in")),i=p(n("6E9d")),o=c(n("Idfp")),s=n("hgeo"),a=n("LSkx"),u=p(n("4pkP")),l=c(n("ljiA"));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function p(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Dense";const{units:e=1,activation:n="linear",input_dim:r=null,use_bias:i=!0}=t;this.description=`${n} activation, output dimensions: ${e}`,this.activation=n,this.activationFunc=o[this.activation],this.units=e,this.input_dim=r,this.use_bias=i,this.params=this.use_bias?["kernel","bias"]:["kernel"],this.input_dim&&(this.inputShape=[this.input_dim]),this.gpu&&(this.matMulProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n"),this.activationProgram=s.webgl2.compileProgram(l[this.activation]))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.output=new i.default([],[this.units]),this.use_bias&&u.default.assign(this.output.tensor,this.weights.bias.tensor),(0,a.gemv)(1,this.weights.kernel.tensor.transpose(1,0),t.tensor,1,this.output.tensor),this.activationFunc(this.output)}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),"linear"===this.activation||this.outputPreactiv||(this.outputPreactiv=new i.default([],[this.units]),this.outputPreactiv.createGLTexture({type:"2d",format:"float"})),this.output||(this.output=new i.default([],[this.units]),this.output.createGLTexture({type:"2d",format:"float"}));const e=[{input:t,name:"A"},{input:this.weights.kernel,name:"B"}];this.use_bias&&e.push({input:this.weights.bias,name:"C"}),s.webgl2.runProgram({program:this.matMulProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:e,uniforms:[{value:this.use_bias?1:0,type:"bool",name:"addC"}]}),"linear"!==this.activation&&s.webgl2.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},s6M7:function(t,e){t.exports=function(t,e){if(!e||"object"!=typeof e)return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}},sBat:function(t,e,n){var r=n("kxzG");t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?1.7976931348623157e308*(t<0?-1:1):t==t?t:0:0===t?t:0}},sCNu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("tVBY")),i=u(n("hygk")),o=u(n("t6in")),s=u(n("6E9d")),a=n("hgeo");function u(t){return t&&t.__esModule?t:{default:t}}e.default=class extends o.default{constructor(t={}){super(t),this.layerClass="_Merge",this.isMergeLayer=!0}call(t){return this.gpu?this._callGPU(t):(this._validateInputs(t)||this.throwError("Invalid inputs to call method."),this._callCPU(t)),this.output}_validateInputs(t){const e=t.map(t=>t.tensor.shape.slice());if(["sum","diff","mul","ave","max","min"].indexOf(this.mode)>-1&&(e.every(t=>(0,i.default)(t,e[0]))||this.throwError(`All input shapes must be the same for mode ${this.mode}.`)),"dot"===this.mode)2!==t.length&&this.throwError(`Exactly 2 inputs required for mode ${this.mode}.`),this.dotAxes[0]<0&&(this.dotAxes[0]=e[0].length+this.dotAxes[0]),this.dotAxes[1]<0&&(this.dotAxes[1]=e[1].length+this.dotAxes[1]),e[0][this.dotAxes[0]]!==e[1][this.dotAxes[1]]&&this.throwError("Dimensions incompatibility using dot mode.");else if("concat"===this.mode){let t=e.slice(),n=this.concatAxis<0?t[0].length+this.concatAxis:this.concatAxis;0===this.concatAxis&&(n=0),(0,r.default)(t.length).forEach(e=>{t[e].splice(n,1)}),t.every(e=>(0,i.default)(e,t[0]))||this.throwError("In concat mode, all shapes must be the same except along the concat axis.")}return!0}_callCPU(){}_callGPU(t){t.forEach(t=>{t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})}),this.output||(this.output=new s.default([],t[0].glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t[0].is1D?this.output.is1D=t[0].is1D:(t[0].is2DReshaped||t[0].is2DSquareReshaped)&&(t[0].is2DReshaped?this.output.is2DReshaped=t[0].is2DReshaped:t[0].is2DSquareReshaped&&(this.output.is2DSquareReshaped=t[0].is2DSquareReshaped),this.output.originalShape=t[0].originalShape.slice(),this.output.indicesForReshaped=t[0].indicesForReshaped)),a.webgl2.runProgram({program:this.mergeProgram,output:this.output,inputs:t.map((t,e)=>({input:t,name:`inputs[${e}]`})),supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}},sJvV:function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},sOR5:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},sc7i:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("/whu"),o=n("BbyF"),s=n("u0PK"),a=n("0pGU"),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};n("IRJ3")(l,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(i(this),!s(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):a.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new l(r,e)}})},"smQ+":function(t,e,n){"use strict";var r=n("Ds5P"),i=n("2VSL"),o=n("41xE");r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},stqw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("t6in"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="SpatialDropout3D";const{rate:e=.5,data_format:n="channels_last"}=t;this.description=`${e}`,this.rate=Math.min(Math.max(0,e),1),this.dataFormat=n}call(t){return this.output=t,this.output}}},t6in:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("hgeo");e.default=class{constructor(t={}){this.layerClass="Layer",this.name=t.name,this.description="",this.gpu=r.webgl2.isSupported&&t.gpu,this.params=[],this.weights={},this.inbound=[],this.outbound=[]}throwError(t){throw new Error(`[${this.layerClass} layer: ${this.name||""}] ${t}`)}toggleGPU(t){this.gpu=!(!r.webgl2.isSupported||!("undefined"==typeof t?!this.gpu:t))}setWeights(t,e=!0){this.params.forEach((n,r)=>{this.weights[n]=t[r],this.gpu&&e&&this.weights[n].createGLTexture({type:"2d",format:"float"})})}call(t){return this.output=t,this.output}}},t7NR:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},tHks:function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}},tIqu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return n?`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D featureMaps;\nuniform sampler2D weights;\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${t[0]}) * outTex.y);\n  int out_x = int(float(${t[1]}) * outTex.x);\n\n  int featureMapsRow = out_x + ${t[0]} * out_y;\n\n  float sum = 0.;\n  for (int k = 0; k < ${e}; ++k) {\n    float f = texelFetch(featureMaps, ivec2(k, featureMapsRow), 0).r;\n    float w = texelFetch(weights, ivec2(k, 0), 0).r;\n    sum += f * w;\n  }\n\n  outColor = vec4(max(sum, 0.0));\n}  \n`:`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D featureMaps;\nuniform sampler2D weights;\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${t[0]}) * outTex.y);\n  int out_x = int(float(${t[1]}) * outTex.x);\n\n  float sum = 0.;\n  for (int k = 0; k < ${e}; ++k) {\n    float f = texelFetch(featureMaps, ivec2(k, out_y), 0).r;\n    float w = texelFetch(weights, ivec2(out_x, k), 0).r;\n    sum += f * w;\n  }\n\n  outColor = vec4(max(sum, 0.0));\n}  \n`}},tJwI:function(t,e,n){var r=n("FryR"),i=n("Qh14");n("3i66")("keys",function(){return function(t){return i(r(t))}})},tLDX:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("AMGY").a.Symbol,i="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber"},tO4o:function(t,e,n){var r=n("yCNF");t.exports=function(t){return t==t&&!r(t)}},tVBY:function(t,e,n){var r=n("uG0r")();t.exports=r},taNN:function(t,e,n){var r=n("Ds5P"),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},tb9c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=f(n("t6in")),i=f(n("6E9d")),o=h(n("Idfp")),s=n("hgeo"),a=f(n("YUKD")),u=h(n("7a8O")),l=f(n("4pkP")),c=f(n("wm4K")),p=h(n("ljiA"));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Conv2D";const{filters:e=1,kernel_size:n=[3,3],strides:r=[1,1],padding:i="valid",data_format:a="channels_last",dilation_rate:u=[1,1],activation:l="linear",use_bias:c=!0}=t;this.kernelShape=Array.isArray(n)?[e,...n]:[e,n,n],this.strides=Array.isArray(r)?r:[r,r],"valid"===i||"same"===i?this.padding=i:this.throwError("Invalid padding."),"channels_last"===a||"channels_first"===a?this.dataFormat=a:this.throwError("Only channels_last and channels_first data formats are allowed."),this.dilationRate=Array.isArray(u)?u:[u,u],1===this.dilationRate[0]&&1===this.dilationRate[1]||1===this.strides[0]&&1===this.strides[1]||this.throwError("Incompatible combination of dilation_rate with strides."),this.activation=l,this.activationFunc=o[l],this.useBias=c,this.params=this.useBias?["kernel","bias"]:["kernel"],this.description=`${this.kernelShape[0]} ${this.kernelShape.slice(1).join("x")} filters`,this.description+=this.strides.some(t=>t>1)?`, ${this.strides.join("x")} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.description+=this.dilationRate.some(t=>t>1)?`, ${this.dilationRate.join("x")} dilation`:"",this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.gpu&&(this.mapInputProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"),this.mapInputFragmentsProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(indexMap, 0);\n  int out_x = int(float(outputSize[0]) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    int fragmentIndex = int(floor(float(rowIndex) / float(inputSize[1])));\n    rowIndex = int(mod(float(rowIndex), float(inputSize[1])));\n    colIndex = fragmentIndex * inputCols + colIndex;\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"),this.matMulProgram=s.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n"),this.activationProgram=s.webgl2.compileProgram(p[this.activation]))}setWeights(t){"channels_first"===this.dataFormat&&(t[0].tensor=t[0].tensor.transpose(2,3,1,0)),super.setWeights(t,!1),this._w2row(),this.gpu&&(this.weights.kernel=this.wRowsMat,this.weights.kernel.createGLTexture({type:"2d",format:"float"}),this.useBias&&this.weights.bias.createGLTexture({type:"2d",format:"float"}))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_calcOutputShape(t){if(this.outputShape&&this.inputPadding)return;const e=t[0],n=t[1],[r,i,o]=this.kernelShape,s=i+(i-1)*(this.dilationRate[0]-1),a=o+(o-1)*(this.dilationRate[1]-1),u="same"===this.padding?Math.floor((e+this.strides[0]-1)/this.strides[0]):Math.floor((e-s+this.strides[0])/this.strides[0]),l="same"===this.padding?Math.floor((n+this.strides[1]-1)/this.strides[1]):Math.floor((n-a+this.strides[1])/this.strides[1]),c=r,p="same"===this.padding?Math.max(0,Math.floor((u-1)*this.strides[0]+s-e)):0,h="same"===this.padding?Math.max(0,Math.floor((l-1)*this.strides[1]+a-n)):0,f=Math.floor(p/2),d=p-f,g=Math.floor(h/2),m=h-g;this.outputShape=[u,l,c],this.inputPadding=[f,d,g,m]}_padInput(t,e=0){if("same"===this.padding){const[n,r,o]=t.tensor.shape,[s,a,u,c]=this.inputPadding,p=new i.default([],[n+s+a,r+u+c,o]);return 0!==e&&l.default.assigns(p.tensor,e),l.default.assign(p.tensor.hi(n+s,r+u,o).lo(s,u,0),t.tensor),p}return t}_im2col(t){const[e,n,r]=t.tensor.shape,o=this.kernelShape[1],s=this.kernelShape[2],a=o*s*r,u=o+(o-1)*(this.dilationRate[0]-1),c=s+(s-1)*(this.dilationRate[1]-1);if(this.imColsMat||(this.imColsMat=new i.default([],[this.outputShape[0]*this.outputShape[1],a])),1===u&&1===c&&1===this.strides[0]&&1===this.strides[1])return this.imColsMat.replaceTensorData(t.tensor.data),this.imColsMat;const p=new i.default([],[o,s,r]);let h=0;for(let i=0,f=e-u;i<=f;i+=this.strides[0])for(let e=0,o=n-c;e<=o;e+=this.strides[1])l.default.assign(p.tensor,t.tensor.hi(i+u,e+c,r).lo(i,e,0).step(this.dilationRate[0],this.dilationRate[1],1)),this.imColsMat.tensor.data.set(p.tensor.data,h),h+=a;return this.imColsMat}_w2row(){const t=this.weights.kernel.tensor.shape[2],[e,n,r]=this.kernelShape,o=n*r*t;this.wRowsMat=new i.default([],[o,e]);const s=new i.default([],[n,r,t]),a=new i.default([],[o]);for(let i=0;i<e;i++)l.default.assign(s.tensor,this.weights.kernel.tensor.pick(null,null,null,i)),a.replaceTensorData(s.tensor.data),l.default.assign(this.wRowsMat.tensor.pick(null,i),a.tensor);return this.wRowsMat}_callCPU(t){this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._im2col(t);const e=this.kernelShape[0],n=this.outputShape[0],r=this.outputShape[1],o=new i.default([],[n*r,e]);if(this.useBias)for(let i=0;i<e;i++)l.default.assigns(o.tensor.pick(null,i),this.weights.bias.tensor.get(i));(0,c.default)(o.tensor,this.imColsMat.tensor,this.wRowsMat.tensor,1,1),this.output=new i.default([],this.outputShape);let s=new i.default([],[n*r]),a=new i.default([],[n,r]);for(let i=0;i<e;i++)l.default.assign(s.tensor,o.tensor.pick(null,i)),a.replaceTensorData(s.tensor.data),l.default.assign(this.output.tensor.pick(null,null,i),a.tensor);this.activationFunc(this.output),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1))}_createIndexMap(t){if(this.indexMap)return;let[e,n,r]=this.inputShape,o=new i.default(t.data,t.shape,{type:Int32Array});if("same"===this.padding){const[t,r,i,s]=this.inputPadding;e=e+t+r,n=n+i+s,o=this._padInput(o,-1)}const s=this.kernelShape[1],a=this.kernelShape[2],u=s*a*r,c=s+(s-1)*(this.dilationRate[0]-1),p=a+(a-1)*(this.dilationRate[1]-1);this.indexMap=new i.default([],[this.outputShape[0]*this.outputShape[1],u],{type:Int32Array});const h=new i.default([],[s,a,r]);let f=0;for(let i=0,d=e-c;i<=d;i+=this.strides[0])for(let t=0,e=n-p;t<=e;t+=this.strides[1])l.default.assign(h.tensor,o.tensor.hi(i+c,t+p,r).lo(i,t,0).step(this.dilationRate[0],this.dilationRate[1],1)),this.indexMap.tensor.data.set(h.tensor.data,f),f+=u;this.indexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){let e;if(t.is2DReshaped||t.is2DSquareReshaped?(this.inputShape=t.originalShape,this._calcOutputShape(this.inputShape),this._createIndexMap(t.indicesForReshaped),e=[this.indexMap.glTextureShape[0],this.weights.kernel.glTextureShape[1]]):(this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._im2col(t),this.imColsMat.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),e=[this.imColsMat.glTextureShape[0],this.weights.kernel.glTextureShape[1]]),"linear"===this.activation||this.outputPreactiv||(this.outputPreactiv=new i.default([],e),this.outputPreactiv.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.outputPreactiv.is2DReshaped=!0,this.outputPreactiv.originalShape=this.outputShape,this.outputPreactiv.indicesForReshaped=u.createIndicesFor2DReshaped(this.outputShape,!1,-1)),this.output||(this.output=new i.default([],e),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=u.createIndicesFor2DReshaped(this.outputShape,!1,-1)),t.is2DReshaped||t.is2DSquareReshaped){const e=Boolean(t.glTextureFragments);if(e&&t.convert2DRowFragmentedGLTextureToColStack(),!this.convProgram){const n=(0,a.default)("conv2d",this.output.glTextureFragmentShape?this.output.glTextureFragmentShape:this.output.glTextureShape,t.glTextureFragmentShape?t.glTextureFragmentShape:t.glTextureShape,this.indexMap.glTextureFragmentShape?this.indexMap.glTextureFragmentShape:this.indexMap.glTextureShape,this.useBias,e);this.convProgram=s.webgl2.compileProgram(n)}s.webgl2.runProgram({program:this.convProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"},{input:this.weights.kernel,name:"kernel"},...this.useBias?[{input:this.weights.bias,name:"bias"}]:[]],supportsTextureFragments:!0}),e&&t.removeGLTextureFragmentsAsColStack()}else{const t=[{input:this.imColsMat,name:"A"},{input:this.weights.kernel,name:"B"}];this.useBias&&t.push({input:this.weights.bias,name:"C"}),s.webgl2.runProgram({program:this.matMulProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:t,uniforms:[{value:this.useBias?1:0,type:"bool",name:"addC"}],supportsTextureFragments:!0})}"linear"!==this.activation&&s.webgl2.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1)))}}},titw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Embedding",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n("ysOE"))&&r.__esModule?r:{default:r}},tqSY:function(t,e,n){var r=n("Ds5P");r(r.P,"String",{repeat:n("xAdt")})},twxM:function(t,e,n){var r=n("lDLk"),i=n("DIVP"),o=n("Qh14");t.exports=n("bUqO")?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},u0PK:function(t,e,n){var r=n("UKM+"),i=n("ydD5"),o=n("kkCw")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},u7Vc:function(t,e,n){"use strict";(function(t){if(n("4M2W"),n("SldL"),t._babelPolyfill)throw new Error("only one instance of @babel/polyfill is allowed");t._babelPolyfill=!0}).call(e,n("DuR2"))},uCi2:function(t,e,n){var r=n("bIjD"),i=n("Ubhr");t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},uDYd:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("XSOZ"),o=n("FryR"),s=n("zgIt"),a=[].sort,u=[1,2,3];r(r.P+r.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!n("NNrz")(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},uEEG:function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{scale:n("WY8G")})},uG0r:function(t,e,n){var r=n("RJyB"),i=n("zBOP"),o=n("sBat");t.exports=function(t){return function(e,n,s){return s&&"number"!=typeof s&&i(e,n,s)&&(n=s=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),s=void 0===s?e<n?1:-1:o(s),r(e,n,s,t)}}},uIr7:function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},uLhX:function(t,e,n){var r=n("NkRn"),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i}},uQkW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("fjY8"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),Object.defineProperty(this,"_compute",{configurable:!0,enumerable:!0,writable:!0,value:(0,s.default)({args:["array","array"],body:function(t,e){t=Math.max(t,0)+e*Math.min(t,0)}})}),this.layerClass="PReLU",this.params=["alpha"],this.gpu&&(this.program=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D alpha;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  vec4 a = texture(alpha, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0) + a * min(v, 0.0);\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.output=t,this._compute(this.output.tensor,this.weights.alpha.tensor)}_callGPU(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new i.default([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"},{input:this.weights.alpha,name:"alpha"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}},uc2A:function(t,e,n){"use strict";var r=n("V3l/"),i=n("Ds5P"),o=n("R3AP"),s=n("2p1q"),a=n("bN1p"),u=n("IRJ3"),l=n("yYvK"),c=n("KOrd"),p=n("kkCw")("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,d,g,m,v){u(n,e,d);var y,_,x,b=function(t){if(!h&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",S="values"==g,P=!1,T=t.prototype,C=T[p]||T["@@iterator"]||g&&T[g],E=C||b(g),M=g?S?b("entries"):E:void 0,k="Array"==e&&T.entries||C;if(k&&(x=c(k.call(new t)))!==Object.prototype&&x.next&&(l(x,w,!0),r||"function"==typeof x[p]||s(x,p,f)),S&&C&&"values"!==C.name&&(P=!0,E=function(){return C.call(this)}),r&&!v||!h&&!P&&T[p]||s(T,p,E),a[e]=E,a[w]=f,g)if(y={values:S?E:b("values"),keys:m?E:b("keys"),entries:M},v)for(_ in y)_ in T||o(T,_,y[_]);else i(i.P+i.F*(h||P),e,y);return y}},"ue/d":function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},uieL:function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},ujcs:function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,p=n?i-1:0,h=n?-1:1,f=t[e+p];for(p+=h,o=f&(1<<-c)-1,f>>=-c,c+=a;c>0;o=256*o+t[e+p],p+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+t[e+p],p+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=l}return(f?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,p=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+p>=1?h/u:h*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=c?(a=0,s=c):s+p>=1?(a=(e*u-1)*Math.pow(2,i),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+f]=255&s,f+=d,s/=256,l-=8);t[n+f-d]|=128*g}},ujif:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){i(t.tensor)};const i=(0,((r=n("fjY8"))&&r.__esModule?r:{default:r}).default)({args:["array"],body:function(t){t=Math.log(Math.exp(t)+1)}})},ulTY:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"v/Xn":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="_Pooling1D";const{pool_size:e=2,strides:n=null,padding:r="valid"}=t;this.poolSize=e,this.strides=null===n?this.poolSize:n,this.padding=r,this.poolingFunc="max",this.description=`pool size ${this.poolSize}`,this.description+=this.strides>1?`, striding ${this.strides} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.gpu&&(this.poolingProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(textureSize(poolIndexMap, 0)[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    if (poolIndex != -1) {\n      float val2 = texelFetch(x, ivec2(out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n"),this.poolingFragmentsProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(poolIndexMap, 0);\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    int fragmentIndex = int(floor(float(poolIndex) / float(inputSize[1])));\n    if (poolIndex != -1) {\n      poolIndex = int(mod(float(poolIndex), float(inputSize[1])));\n      float val2 = texelFetch(x, ivec2(fragmentIndex * channels + out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const e="valid"===this.padding?Math.floor((t.tensor.shape[0]-this.poolSize+this.strides)/this.strides):Math.floor((t.tensor.shape[0]+this.strides-1)/this.strides);this.output=new i.default([],[e,t.tensor.shape[1]]);const n=new i.default([],[t.tensor.shape[1]]);let r="valid"===this.padding?0:Math.min(0,Math.ceil((t.tensor.shape[0]-(e-1)*this.strides-this.poolSize)/2));for(let i=0;i<e;i++){let e=Math.max(0,r),o=this.poolSize+Math.min(0,r);s.default.assign(n.tensor,t.tensor.pick(e,null));let a=1;for(let r=1;r<o&&!(e+r>t.tensor.shape[0]-1);r++)"max"===this.poolingFunc?s.default.maxeq(n.tensor,t.tensor.pick(e+r,null)):"average"===this.poolingFunc&&s.default.addeq(n.tensor,t.tensor.pick(e+r,null)),a+=1;"average"===this.poolingFunc&&s.default.divseq(n.tensor,a),s.default.assign(this.output.tensor.pick(i,null),n.tensor),r+=this.strides}}_createIndexMap(){if(this.poolIndexMap)return;const t="valid"===this.padding?Math.floor((this.inputShape[0]-this.poolSize+this.strides)/this.strides):Math.floor((this.inputShape[0]+this.strides-1)/this.strides);this.outputShape=[t,this.inputShape[1]],this.poolIndexMap=new i.default([],[t,this.poolSize],{type:Int32Array}),s.default.assigns(this.poolIndexMap.tensor,-1);let e="valid"===this.padding?0:Math.min(0,Math.ceil((this.inputShape[0]-(t-1)*this.strides-this.poolSize)/2));for(let n=0;n<t;n++){let t=Math.max(0,e),r=this.poolSize+Math.min(0,e),i=t;this.poolIndexMap.tensor.set(n,0,i);for(let e=1;e<r&&(i=t+e)<=this.inputShape[0]-1;e++)this.poolIndexMap.tensor.set(n,e,i);e+=this.strides}this.poolIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.inputShape=t.tensor.shape,this._createIndexMap(),this.output||(this.output=new i.default([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}));const e=[{value:this.output.glTextureShape[1],type:"int",name:"channels"},{value:this.poolSize,type:"int",name:"poolSize"},{value:+("max"===this.poolingFunc),type:"bool",name:"isMaxPooling"}];t.glTextureFragments?(t.convert2DRowFragmentedGLTextureToColStack(),o.webgl2.runProgram({program:this.poolingFragmentsProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:e,supportsTextureFragments:!0}),t.removeGLTextureFragmentsAsColStack()):o.webgl2.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:e,supportsTextureFragments:!0}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},v2lb:function(t,e,n){var r=n("Ds5P"),i=n("Rz2z"),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},v3hU:function(t,e,n){var r=n("dSUw"),i=n("QG7u"),o=n("wCso"),s=n("DIVP"),a=n("KOrd"),u=o.keys,l=o.key,c=function(t,e){var n=u(t,e),o=a(t);if(null===o)return n;var s=c(o,e);return s.length?n.length?i(new r(n.concat(s))):s:n};o.exp({getMetadataKeys:function(t){return c(s(t),arguments.length<2?void 0:l(arguments[1]))}})},v8Dt:function(t,e,n){var r=n("pTUa");t.exports=function(t){return r(this,t).get(t)}},v8VU:function(t,e,n){var r=n("OzIq"),i=n("Ds5P"),o=n("41xE"),s=[].slice,a=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&s.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*a,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},v90c:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("IFpc"),o=n("FryR"),s=n("BbyF"),a=n("oeih"),u=n("plSV");r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=s(e.length),r=u(e,0);return i(r,e,e,n,0,void 0===t?1:a(t)),r}}),n("RhFG")("flatten")},v9aJ:function(t,e,n){var r=n("M6Wl"),i=n("pQJ6")(r);t.exports=i},vWu6:function(t,e,n){var r=n("1C79");t.exports=function(t){return null!=t&&t.length?r(t,1/0):[]}},vmSO:function(t,e,n){var r=n("rFzY"),i=n("XvUs"),o=n("9vb1"),s=n("DIVP"),a=n("BbyF"),u=n("SHe9"),l={},c={};(e=t.exports=function(t,e,n,p,h){var f,d,g,m,v=h?function(){return t}:u(t),y=r(n,p,e?2:1),_=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(f=a(t.length);f>_;_++)if((m=e?y(s(d=t[_])[0],d[1]):y(t[_]))===l||m===c)return m}else for(g=v.call(t);!(d=g.next()).done;)if((m=i(g,y,d.value,e))===l||m===c)return m}).BREAK=l,e.RETURN=c},vmSu:function(t,e,n){var r=n("Ds5P"),i=n("7ylX"),o=n("XSOZ"),s=n("DIVP"),a=n("UKM+"),u=n("zgIt"),l=n("ZtwE"),c=(n("OzIq").Reflect||{}).construct,p=u(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),h=!u(function(){c(function(){})});r(r.S+r.F*(p||h),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!p)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var u=n.prototype,f=i(a(u)?u:Object.prototype),d=Function.apply.call(t,f,e);return a(d)?d:f}})},vnWP:function(t,e,n){var r=n("Ds5P"),i=n("WY8G"),o=n("g/m8");r(r.S,"Math",{fscale:function(t,e,n,r,s){return o(i(t,e,n,r,s))}})},vrxF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("CgOR"))&&r.__esModule?r:{default:r};e.default=class extends i.default{constructor(t={}){super(t),this.layerClass="GlobalAveragePooling3D",this.poolingFunc="average"}}},vsh6:function(t,e,n){var r=n("wCso"),i=n("DIVP"),o=r.keys,s=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:s(arguments[1]))}})},"vu/c":function(t,e,n){n("3g/S")("observable")},vyo6:function(t,e,n){"use strict";t.exports=c;var r,i=n("Zcec"),o=i.LongBits,s=i.base64,a=i.utf8;function u(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function l(){}function c(){this.len=0,this.head=new u(l,0,0),this.tail=this.head,this.states=null}function p(t,e,n){e[n]=255&t}function h(t,e){this.len=t,this.next=void 0,this.val=e}function f(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function d(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}c.create=i.Buffer?function(){return(c.create=function(){return new r})()}:function(){return new c},c.alloc=function(t){return new i.Array(t)},i.Array!==Array&&(c.alloc=i.pool(c.alloc,i.Array.prototype.subarray)),c.prototype._push=function(t,e,n){return this.tail=this.tail.next=new u(t,e,n),this.len+=e,this},(h.prototype=Object.create(u.prototype)).fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},c.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new h((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},c.prototype.int32=function(t){return t<0?this._push(f,10,o.fromNumber(t)):this.uint32(t)},c.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},c.prototype.int64=c.prototype.uint64=function(t){var e=o.from(t);return this._push(f,e.length(),e)},c.prototype.sint64=function(t){var e=o.from(t).zzEncode();return this._push(f,e.length(),e)},c.prototype.bool=function(t){return this._push(p,1,t?1:0)},c.prototype.sfixed32=c.prototype.fixed32=function(t){return this._push(d,4,t>>>0)},c.prototype.sfixed64=c.prototype.fixed64=function(t){var e=o.from(t);return this._push(d,4,e.lo)._push(d,4,e.hi)},c.prototype.float=function(t){return this._push(i.float.writeFloatLE,4,t)},c.prototype.double=function(t){return this._push(i.float.writeDoubleLE,8,t)};var g=i.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};c.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(p,1,0);if(i.isString(t)){var n=c.alloc(e=s.length(t));s.decode(t,n,0),t=n}return this.uint32(e)._push(g,e,t)},c.prototype.string=function(t){var e=a.length(t);return e?this.uint32(e)._push(a.write,e,t):this._push(p,1,0)},c.prototype.fork=function(){return this.states=new function(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}(this),this.head=this.tail=new u(l,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(l,0,0),this.len=0),this},c.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},c.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},c._configure=function(t){r=t}},w6Dh:function(t,e,n){"use strict";var r=n("XSOZ");t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},w6W7:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("LhTa")(1);r(r.P+r.F*!n("NNrz")([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},w9Mt:function(t,e,n){var r=n("ZD0O"),i=n("2N6f")(function(t,e){return null==t?{}:r(t,e)});t.exports=i},wC1N:function(t,e,n){var r=n("ydD5"),i=n("kkCw")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},wCV4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,i){return`#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D matMulResult;\nuniform isampler2D indexMap;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${t[0]}) * outTex.y);\n  int out_x = int(float(${t[1]}) * outTex.x);\n\n  float sum = 0.;\n  for (int n = 0; n < ${n[1]}; ++n) {\n    int index = texelFetch(indexMap, ivec2(n, out_y), 0).r;\n    if (index != -1) {\n      int rowIndex = int(floor(float(index) / float(${e[1]})));\n      int colIndex = int(mod(float(index), float(${e[1]})));\n      ${i?`int fragmentIndex = int(floor(float(rowIndex) / float(${e[0]})));\n      rowIndex = int(mod(float(rowIndex), float(${e[0]})));\n      colIndex += fragmentIndex * ${e[1]};`:""}\n      sum += texelFetch(matMulResult, ivec2(colIndex + out_x, rowIndex), 0).r;\n    }\n  }\n\n  ${r?"sum += texelFetch(bias, ivec2(out_x, 0), 0).r;":""}\n  outColor = vec4(sum);\n}  \n`}},wCso:function(t,e,n){var r=n("MsuQ"),i=n("Ds5P"),o=n("VWgF")("metadata"),s=o.store||(o.store=new(n("ZDXm"))),a=function(t,e,n){var i=s.get(t);if(!i){if(!n)return;s.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o};t.exports={store:s,map:a,has:function(t,e,n){var r=a(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=a(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){a(n,r,!0).set(t,e)},keys:function(t,e){var n=a(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},wH60:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Dense",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Activation",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Dropout",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"SpatialDropout1D",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"SpatialDropout2D",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"SpatialDropout3D",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Flatten",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Reshape",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Permute",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"RepeatVector",{enumerable:!0,get:function(){return h.default}});var r=f(n("s5QA")),i=f(n("YKc2")),o=f(n("SEnz")),s=f(n("bgwm")),a=f(n("ZCE5")),u=f(n("stqw")),l=f(n("INfJ")),c=f(n("8dNO")),p=f(n("VnXQ")),h=f(n("O0wF"));function f(t){return t&&t.__esModule?t:{default:t}}},wSKX:function(t,e){t.exports=function(t){return t}},wVdn:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("LhTa")(3);r(r.P+r.F*!n("NNrz")([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},wm4K:function(t,e,n){"use strict";t.exports=function(t,e,n,a,u){void 0===a&&(a=1),void 0===u&&(u=0);var l=1!==a,c=0!==u,p=o(t),h=o(e),f=o(n);!function(t,e,n){var r=i(t),o=i(e),s=i(n);if(r[0]!==o[0]||r[1]!==s[1]||o[1]!==s[0])throw new Error("Mismatched array shapes for matrix product")}(t,e,n);var d=[p,h,f,l,c].join(":"),g=s[d];return g||(g=s[d]=r(p,h,f,l,c)),g(t,e,n,a,u)};var r=n("1jBc");function i(t){return Array.isArray(t)?[t.length,t[0].length]:t.shape}function o(t){if(Array.isArray(t)){if(Array.isArray(t))return["r","native"]}else if(t.shape&&2===t.shape.length)return t.order[0]?["r",t.dtype]:["c",t.dtype];throw new Error("Unrecognized data type")}var s={}},wnRD:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("FkIZ");r(r.P+r.F*!n("NNrz")([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},wrs0:function(t,e,n){var r=n("Ds5P"),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,s=0,a=arguments.length,u=0;s<a;)u<(n=i(arguments[s++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("WT6e"),i=function(){},o=n("1xge"),s=function(){function t(){this.title="app",this.reslt="",this.modelLoading=!0,this.modelInitializing=!0,this.modelInitProgress=0,this.modelLoadingProgress=0,this.medias={audio:!1,video:{facingMode:{exact:"user"}}}}return t.prototype.ngOnInit=function(){this.model=new o.Model({filepath:"/assets/models/model1d3.bin",transferLayerOutputs:!1,filesystem:!0}),this.model.events.on("loadingProgress",this.handleLoadingProgress),this.model.events.on("initProgress",this.handleInitProgress)},t.prototype.ngAfterViewInit=function(){this.startCamera()},t.prototype.handleLoadingProgress=function(t){this.modelInitProgress=20,this.modelLoadingProgress=Math.round(t),100===t&&(this.modelLoading=!1)},t.prototype.handleInitProgress=function(t){this.modelInitProgress=Math.round(t),console.log(this.modelInitProgress),100===t&&(this.modelInitializing=!1,alert("yay"))},t.prototype.onClick=function(){this.captureData=this.draw()},t.prototype.startCamera=function(){var t=this;window.navigator.mediaDevices.getUserMedia(this.medias).then(function(e){return t.videoElm.nativeElement.srcObject=e}).catch(function(t){alert(t)})},t.prototype.draw=function(){var t=this;this.reslt="";var e=this.canvasElm.nativeElement.getContext("2d");e.clearRect(0,0,100,100),this.canvasElm.nativeElement.width=100,this.canvasElm.nativeElement.height=100,e&&(e.drawImage(this.videoElm.nativeElement,0,0,100,100),setTimeout(function(){for(var n=e.getImageData(0,0,100,100),r=[],i=[],o=[],s=[],a=0;a<n.data.length;a+=4)i.push(n.data[a]/255),o.push(n.data[a+1]/255),s.push(n.data[a+2]/255);r=(r=i.concat(o)).concat(s),console.log(r.length),t.model.ready().then(function(){var e={input:new Float32Array(r)};return t.model.predict(e)}).then(function(e){console.log(e),t.reslt=1==e.output[0]?"orange":1==e.output[1]?"apple":"?"}).catch(function(t){console.error(t)})},100))},t}(),a=r.N({encapsulation:0,styles:[[""]],data:{}});function u(t){return r._3(0,[r._0(402653184,1,{canvasElm:0}),r._0(402653184,2,{videoElm:0}),(t()(),r._2(-1,null,["\n"])),(t()(),r.P(3,0,null,null,19,"div",[["style","text-align:center"]],null,null,null,null,null)),(t()(),r._2(-1,null,["\n    "])),(t()(),r.P(5,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),r._2(6,null,["\n        Welcome to ","!\n    "])),(t()(),r._2(-1,null,["\n    "])),(t()(),r.P(8,0,null,null,13,"div",[["style","height:200px;text-align:center"]],null,null,null,null,null)),(t()(),r._2(-1,null,["\n        "])),(t()(),r.P(10,0,[[2,0],["video",1]],null,0,"video",[["autoplay",""],["height","100"],["id","video"],["playsinline",""],["width","100"]],null,null,null,null,null)),(t()(),r._2(-1,null,["\n        "])),(t()(),r.P(12,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r._2(-1,null,["\n        "])),(t()(),r.P(14,0,[[1,0],["myCanvas",1]],null,0,"canvas",[["height","100"],["width","100"]],null,null,null,null,null)),(t()(),r._2(-1,null,["\n        "])),(t()(),r.P(16,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r._2(17,null,["",""])),(t()(),r._2(-1,null,["\n        "])),(t()(),r.P(19,0,null,null,1,"button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onClick()&&r),r},null,null)),(t()(),r._2(-1,null,["\u5199\u771f\u64ae\u308b"])),(t()(),r._2(-1,null,["\n    "])),(t()(),r._2(-1,null,["\n"])),(t()(),r._2(-1,null,["\n"]))],null,function(t,e){var n=e.component;t(e,6,0,n.title),t(e,17,0,n.reslt)})}var l=r.L("app-root",s,function(t){return r._3(0,[(t()(),r.P(0,0,null,null,1,"app-root",[],null,null,null,u,a)),r.O(1,4308992,null,0,s,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),c=n("TToO"),p=function(){},h=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],f={},d=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),g=new r.k("UseV4Plurals"),m=function(){},v=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(c.b)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=f[e];if(n)return n;var r=e.split("-")[0];if(n=f[r])return n;if("en"===r)return h;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[17]}(e||this.locale)(t)){case d.Zero:return"zero";case d.One:return"one";case d.Two:return"two";case d.Few:return"few";case d.Many:return"many";default:return"other"}},e}(m),y=function(){},_=new r.k("DocumentToken"),x=null;function b(){return x}var w,S={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},P={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},T={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};r.Q.Node&&(w=r.Q.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var C,E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.b)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,x||(x=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return S},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return w.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&T.hasOwnProperty(e)&&(e=T[e]))}return P[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=M||(M=document.querySelector("base"))?M.getAttribute("href"):null;return null==n?null:(e=n,C||(C=document.createElement("a")),C.setAttribute("href",e),"/"===C.pathname.charAt(0)?C.pathname:"/"+C.pathname)},e.prototype.resetBaseElement=function(){M=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return function(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),s=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],a=s[1];if(s[0].trim()===e)return decodeURIComponent(a)}return null}(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(c.b)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),M=null,k=_;function O(){return!!window.history.pushState}var A=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(c.b)(e,t),e.prototype._init=function(){this.location=b().getLocation(),this._history=b().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return b().getBaseHref(this._doc)},e.prototype.onPopState=function(t){b().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){b().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){O()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){O()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.j,args:[k]}]}]},e}(p),D=function(){function t(t){this._doc=t,this._dom=b()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t&&this._dom.querySelector(this._doc,"meta["+t+"]")||null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}(),I=new r.k("TRANSITION_ID"),F=[{provide:r.b,useFactory:function(t,e,n){return function(){n.get(r.c).donePromise.then(function(){var n=b();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[I,k,r.l],multi:!0}],j=function(){function t(){}return t.init=function(){Object(r.I)(new t)},t.prototype.addToWindow=function(t){r.Q.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.Q.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.Q.getAllAngularRootElements=function(){return t.getAllRootElements()},r.Q.frameworkStabilizers||(r.Q.frameworkStabilizers=[]),r.Q.frameworkStabilizers.push(function(t){var e=r.Q.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?b().isShadowRoot(e)?this.findTestabilityInTree(t,b().getHost(e),!0):this.findTestabilityInTree(t,b().parentElement(e),!0):null},t}(),R=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return b().getTitle(this._doc)},t.prototype.setTitle=function(t){b().setTitle(this._doc,t)},t}();function L(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r.Q.ng=r.Q.ng||{})[t]=e)}var N={ApplicationRef:r.e,NgZone:r.r};function U(t){return Object(r.F)(t)}var z=new r.k("EventManagerPlugins"),G=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),B=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=b().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),V=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),q=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(c.b)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return b().remove(t)})},e}(V),H={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},W=/%COMP%/g,Y="_nghost-%COMP%",X="_ngcontent-%COMP%";function Z(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Z(t,i,n):(i=i.replace(W,t),n.push(i))}return n}function $(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var K=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new Q(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.B.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new nt(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.B.Native:return new rt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=Z(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Q=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(H[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=H[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=H[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&r.w.DashCase?t.style.setProperty(e,n,i&r.w.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&r.w.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){tt(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return tt(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$(n)):this.eventManager.addEventListener(t,e,$(n))},t}(),J="@".charCodeAt(0);function tt(t,e){if(t.charCodeAt(0)===J)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var et,nt=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=Z(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=X.replace(W,r.id),i.hostAttr=Y.replace(W,r.id),i}return Object(c.b)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(Q),rt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=Z(i.id,i.styles,[]),a=0;a<s.length;a++){var u=document.createElement("style");u.textContent=s[a],o.shadowRoot.appendChild(u)}return o}return Object(c.b)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Q),it="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},ot=it("addEventListener"),st=it("removeEventListener"),at={},ut="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[it("BLACK_LISTED_EVENTS")]&&(et={});var lt=function(t){return!!et&&et.hasOwnProperty(t)},ct=function(t){var e=at[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(s=n[0]).zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[ut];o++){var s;(s=i[o]).zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r)}}}},pt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.ngZone=n,r.patchEvent(),r}return Object(c.b)(e,t),e.prototype.patchEvent=function(){if(Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ut]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var i=this,o=n;if(!t[ot]||r.r.isInAngularZone()&&!lt(e))t.addEventListener(e,o,!1);else{var s=at[e];s||(s=at[e]=it("ANGULAR"+e+"FALSE"));var a=t[s],u=a&&a.length>0;a||(a=t[s]=[]);var l=lt(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:l,handler:o});else{for(var c=!1,p=0;p<a.length;p++)if(a[p].handler===o){c=!0;break}c||a.push({zone:l,handler:o})}u||t[ot](e,ct,!1)}return function(){return i.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var r=t[st];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=at[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var s=!1,a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(t,[e,ct,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(B),ht={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},ft=new r.k("HammerGestureConfig"),dt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),gt=function(t){function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}return Object(c.b)(e,t),e.prototype.supports=function(t){if(!ht.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),s=function(t){i.runGuarded(function(){n(t)})};return o.on(e,s),function(){return o.off(e,s)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(B),mt=["alt","control","meta","shift"],vt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},yt=function(t){function e(e){return t.call(this,e)||this}return Object(c.b)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return b().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(mt.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s},e.getEventFullKey=function(t){var e="",n=b().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),mt.forEach(function(r){r!=n&&(0,vt[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(B),_t=function(){function t(t,e){this.defaultDoc=t,this.DOM=e;var n=this.DOM.createHtmlDocument();if(this.inertBodyElement=n.body,null==this.inertBodyElement){var r=this.DOM.createElement("html",n);this.inertBodyElement=this.DOM.createElement("body",n),this.DOM.appendChild(r,this.inertBodyElement),this.DOM.appendChild(n,r)}this.DOM.setInnerHTML(this.inertBodyElement,'<svg><g onload="this.parentNode.remove()"></g></svg>'),!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.DOM.setInnerHTML(this.inertBodyElement,'<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.DOM.createElement("template");return"content"in e?(this.DOM.setInnerHTML(e,t),e):(this.DOM.setInnerHTML(this.inertBodyElement,t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){var e=this;this.DOM.attributeMap(t).forEach(function(n,r){"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.DOM.removeAttribute(t,r)});for(var n=0,r=this.DOM.childNodesAsList(t);n<r.length;n++){var i=r[n];this.DOM.isElementNode(i)&&this.stripCustomNsAttrs(i)}},t}(),xt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,bt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wt(t){return(t=String(t)).match(xt)||t.match(bt)?t:(Object(r.G)()&&b().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function St(t){for(var e={},n=0,r=t.split(",");n<r.length;n++)e[r[n]]=!0;return e}function Pt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var s in o)o.hasOwnProperty(s)&&(n[s]=!0)}return n}var Tt,Ct=St("area,br,col,hr,img,wbr"),Et=St("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mt=St("rp,rt"),kt=Pt(Mt,Et),Ot=Pt(Ct,Pt(Et,St("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pt(Mt,St("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kt),At=St("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dt=St("srcset"),It=Pt(At,Dt,St("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),Ft=function(){function t(){this.sanitizedSomething=!1,this.buf=[],this.DOM=b()}return t.prototype.sanitizeChildren=function(t){for(var e=this.DOM.firstChild(t);e;)if(this.DOM.isElementNode(e)?this.startElement(e):this.DOM.isTextNode(e)?this.chars(this.DOM.nodeValue(e)):this.sanitizedSomething=!0,this.DOM.firstChild(e))e=this.DOM.firstChild(e);else for(;e;){this.DOM.isElementNode(e)&&this.endElement(e);var n=this.checkClobberedElement(e,this.DOM.nextSibling(e));if(n){e=n;break}e=this.checkClobberedElement(e,this.DOM.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=this.DOM.nodeName(t).toLowerCase();Ot.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),this.DOM.attributeMap(t).forEach(function(t,n){var r,i=n.toLowerCase();It.hasOwnProperty(i)?(At[i]&&(t=wt(t)),Dt[i]&&(r=t,t=(r=String(r)).split(",").map(function(t){return wt(t.trim())}).join(", ")),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(Lt(t)),e.buf.push('"')):e.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=this.DOM.nodeName(t).toLowerCase();Ot.hasOwnProperty(e)&&!Ct.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(Lt(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&this.DOM.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+this.DOM.getOuterHTML(t));return e},t}(),jt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rt=/([^\#-~ |!])/g;function Lt(t){return t.replace(/&/g,"&amp;").replace(jt,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Rt,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Nt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ut=/^url\(([^)]+)\)$/,zt=function(){},Gt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(c.b)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case r.y.NONE:return e;case r.y.HTML:return e instanceof Vt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=b(),i=null;try{Tt=Tt||new _t(t,n);var o=e?String(e):"";i=Tt.getInertBodyElement(o);var s=5,a=o;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,o=a,a=n.getInnerHTML(i),i=Tt.getInertBodyElement(o)}while(o!==a);var u=new Ft,l=u.sanitizeChildren(n.getTemplateContent(i)||i);return Object(r.G)()&&u.sanitizedSomething&&n.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),l}finally{if(i)for(var c=n.getTemplateContent(i)||i,p=0,h=n.childNodesAsList(c);p<h.length;p++)n.removeChild(c,h[p])}}(this._doc,String(e)));case r.y.STYLE:return e instanceof qt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(Ut);return e&&wt(e[1])===e[1]||t.match(Nt)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Object(r.G)()&&b().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case r.y.SCRIPT:if(e instanceof Ht)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.y.URL:return e instanceof Yt||e instanceof Wt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),wt(String(e)));case r.y.RESOURCE_URL:if(e instanceof Yt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Bt)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Vt(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new qt(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Ht(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Wt(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Yt(t)},e}(zt),Bt=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.b)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Bt),qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.b)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Bt),Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.b)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Bt),Wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.b)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Bt),Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.b)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Bt),Xt=[{provide:r.t,useValue:"browser"},{provide:r.u,useValue:function(){E.makeCurrent(),j.init()},multi:!0},{provide:p,useClass:A,deps:[k]},{provide:k,useFactory:function(){return document},deps:[]}],Zt=Object(r.D)(r.H,"browser",Xt);function $t(){return new r.h}var Kt=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:r.a,useValue:e.appId},{provide:I,useExisting:r.a},F]}},t}();"undefined"!=typeof window&&window;var Qt=r.M(i,[s],function(t){return r.V([r.W(512,r.g,r.J,[[8,[l]],[3,r.g],r.p]),r.W(5120,r.o,r.Z,[[3,r.o]]),r.W(4608,m,v,[r.o,[2,g]]),r.W(4608,r.f,r.f,[]),r.W(5120,r.a,r.R,[]),r.W(5120,r.m,r.X,[]),r.W(5120,r.n,r.Y,[]),r.W(4608,zt,Gt,[_]),r.W(6144,r.x,null,[zt]),r.W(4608,ft,dt,[]),r.W(5120,z,function(t,e,n,r,i){return[new pt(t,e),new yt(n),new gt(r,i)]},[_,r.r,_,_,ft]),r.W(4608,G,G,[z,r.r]),r.W(135680,q,q,[_]),r.W(4608,K,K,[G,q]),r.W(6144,r.v,null,[K]),r.W(6144,V,null,[q]),r.W(4608,r.z,r.z,[r.r]),r.W(4608,D,D,[_]),r.W(4608,R,R,[_]),r.W(512,y,y,[]),r.W(1024,r.h,$t,[]),r.W(1024,r.b,function(t){return[(e=t,L("probe",U),L("coreTokens",Object(c.a)({},N,(e||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return U})];var e},[[2,r.q]]),r.W(512,r.c,r.c,[[2,r.b]]),r.W(131584,r.e,r.e,[r.r,r.K,r.l,r.h,r.g,r.c]),r.W(512,r.d,r.d,[r.e]),r.W(512,Kt,Kt,[[3,Kt]]),r.W(512,i,i,[])])});Object(r.E)(),Zt().bootstrapModuleFactory(Qt).catch(function(t){return console.log(t)})},x78i:function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},x9zv:function(t,e,n){var r=n("Y1aA"),i=n("fU25"),o=n("PHqh"),s=n("s4j0"),a=n("WBcL"),u=n("xZa+"),l=Object.getOwnPropertyDescriptor;e.f=n("bUqO")?l:function(t,e){if(t=o(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},xAdt:function(t,e,n){"use strict";var r=n("oeih"),i=n("/whu");t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},xCpI:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("FryR"),o=n("s4j0"),s=n("KOrd"),a=n("x9zv").f;n("bUqO")&&r(r.P+n("dm6P"),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=a(n,r))return e.get}while(n=s(n))}})},"xH/m":function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},xMpm:function(t,e,n){"use strict";var r=n("Ds5P"),i=n("bSML");r(r.S+r.F*n("zgIt")(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},xNMC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="UpSampling2D";const{size:e=[2,2],data_format:n="channels_last"}=t;this.size=Array.isArray(e)?e:[e,e],this.dataFormat=n,this.description=`size ${this.size.join("x")}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]*this.size[0],this.inputShape[1]*this.size[1],this.inputShape[2]],this.output=new i.default([],this.outputShape);for(let e=0;e<this.size[0];e++)for(let n=0;n<this.size[1];n++)s.default.assign(this.output.tensor.lo(e,n,0).step(this.size[0],this.size[1],1),t.tensor);"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(2,0,1),this.output.tensor=this.output.tensor.transpose(2,0,1))}_createIndexMap(t,e){if(this.indexMap)return;const n=new i.default(t.data,t.shape,{type:Int32Array});this.indexMap=new i.default([],this.outputShape,{type:Int32Array});for(let r=0;r<this.size[0];r++)for(let t=0;t<this.size[1];t++){const e="channels_first"===this.dataFormat?[1,this.size[0],this.size[1]]:[this.size[0],this.size[1],1];s.default.assign(this.indexMap.tensor.lo(..."channels_first"===this.dataFormat?[0,r,t]:[r,t,0]).step(...e),n.tensor)}e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]*this.size[0],this.inputShape[2]*this.size[1]]:[this.inputShape[0]*this.size[0],this.inputShape[1]*this.size[1],this.inputShape[2]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new i.default([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}},xONB:function(t,e,n){var r=n("Ds5P");r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},"xZa+":function(t,e,n){t.exports=!n("bUqO")&&!n("zgIt")(function(){return 7!=Object.defineProperty(n("jhxf")("div"),"a",{get:function(){return 7}}).a})},xn9I:function(t,e,n){"use strict";n("Ymdd")("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},y325:function(t,e,n){var r=n("Ds5P"),i=n("zgIt"),o=n("/whu"),s=/"/g,a=function(t,e,n,r){var i=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),a+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},y9m4:function(t,e,n){"use strict";var r,i,o,s,a=n("V3l/"),u=n("OzIq"),l=n("rFzY"),c=n("wC1N"),p=n("Ds5P"),h=n("UKM+"),f=n("XSOZ"),d=n("9GpA"),g=n("vmSO"),m=n("7O1s"),v=n("Sejc").set,y=n("g36u")(),_=n("w6Dh"),x=n("SDXa"),b=n("nphH"),w=u.TypeError,S=u.process,P=u.Promise,T="process"==c(S),C=function(){},E=i=_.f,M=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[n("kkCw")("species")]=function(t){t(C,C)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e}catch(t){}}(),k=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{a?(i||(2==t._h&&I(t),t._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&(c.exit(),s=!0)),n===e.promise?l(w("Promise-chain cycle")):(o=k(n))?o.call(n,u,l):u(n)):l(r)}catch(t){c&&!s&&c.exit(),l(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&A(t)})}},A=function(t){v.call(u,function(){var e,n,r,i=t._v,o=D(t);if(o&&(e=x(function(){T?S.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=T||D(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(t){v.call(u,function(){var e;T?S.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},j=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=k(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,l(j,r,1),l(F,r,1))}catch(t){F.call(r,t)}}):(n._v=t,n._s=1,O(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};M||(P=function(t){d(this,P,"Promise","_h"),f(t),r.call(this);try{t(l(j,this,1),l(F,this,1))}catch(t){F.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n("A16L")(P.prototype,{then:function(t,e){var n=E(m(this,P));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&O(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(j,t,1),this.reject=l(F,t,1)},_.f=E=function(t){return t===P||t===s?new o(t):i(t)}),p(p.G+p.W+p.F*!M,{Promise:P}),n("yYvK")(P,"Promise"),n("CEne")("Promise"),s=n("7gX0").Promise,p(p.S+p.F*!M,"Promise",{reject:function(t){var e=E(this);return(0,e.reject)(t),e.promise}}),p(p.S+p.F*(a||!M),"Promise",{resolve:function(t){return b(a&&this===s?P:this,t)}}),p(p.S+p.F*!(M&&n("qkyc")(function(t){P.all(t).catch(C)})),"Promise",{all:function(t){var e=this,n=E(e),r=n.resolve,i=n.reject,o=x(function(){var n=[],o=0,s=1;g(t,!1,function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--s||r(n))},i)}),--s||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=E(e),r=n.reject,i=x(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},yCNF:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},yJ2x:function(t,e,n){var r=n("wCso"),i=n("DIVP"),o=r.key,s=r.set;r.exp({defineMetadata:function(t,e,n,r){s(t,e,i(n),o(r))}})},yOtE:function(t,e,n){var r=n("wCso"),i=n("DIVP"),o=r.has,s=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},yYvK:function(t,e,n){var r=n("lDLk").f,i=n("WBcL"),o=n("kkCw")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},ydD5:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},ysOE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("t6in")),i=a(n("6E9d")),o=n("hgeo"),s=a(n("4pkP"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=class extends r.default{constructor(t={}){super(t),this.layerClass="Embedding";const{input_dim:e=1,output_dim:n=1,input_length:r=0,mask_zero:i=!1}=t;this.description=`output dimensions: ${n}`,this.inputDim=e,this.outputDim=n,this.inputLength=r,this.maskZero=i,this.params=["embeddings"],this.gpu&&(this.program=o.webgl2.compileProgram("#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D embeddings;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 x_size = textureSize(x, 0);\n  ivec2 embeddings_size = textureSize(embeddings, 0);\n  int out_x = int(float(embeddings_size[0]) * outTex.x);\n  int out_y = int(float(x_size[0]) * outTex.y);\n\n  int index = int(texelFetch(x, ivec2(out_y, 0), 0).r);\n  outColor = texelFetch(embeddings, ivec2(out_x, index), 0);\n}\n"))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.output=new i.default([],[t.tensor.shape[0],this.weights.embeddings.tensor.shape[1]]);for(let e=0,n=t.tensor.shape[0];e<n;e++)s.default.assign(this.output.tensor.pick(e,null),this.weights.embeddings.tensor.pick(t.tensor.get(e),null))}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.output||(this.output=new i.default([],[t.glTextureShape[1],this.weights.embeddings.glTextureShape[1]]),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"},{input:this.weights.embeddings,name:"embeddings"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}},yuXV:function(t,e,n){var r=n("Ds5P"),i=n("OzIq").isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},yx1U:function(t,e,n){var r=n("Ds5P"),i=n("x9zv").f,o=n("DIVP");r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},yzuE:function(t,e,n){var r=n("v9aJ"),i=n("bGc4");t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}},z4hc:function(t,e,n){var r=n("aCM0"),i=n("Rh28"),o=n("UnEC"),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[r(t)]}},zBOP:function(t,e,n){var r=n("22B7"),i=n("bGc4"),o=n("ZGh9"),s=n("yCNF");t.exports=function(t,e,n){if(!s(n))return!1;var a=typeof e;return!!("number"==a?i(n)&&o(e,n.length):"string"==a&&e in n)&&r(n[e],t)}},zCYm:function(t,e,n){"use strict";var r=n("FryR"),i=n("zo/l"),o=n("BbyF");t.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>a;)e[a++]=t;return e}},zGZ6:function(t,e,n){var r=n("YeCl"),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},zZHq:function(t,e,n){var r=n("wCso"),i=n("DIVP"),o=r.get,s=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},zgIt:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},zmx7:function(t,e,n){var r=n("Ds5P"),i=n("YUr7"),o=n("PHqh"),s=n("x9zv"),a=n("bSML");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=s.f,l=i(r),c={},p=0;l.length>p;)void 0!==(n=u(r,e=l[p++]))&&a(c,e,n);return c}})},"zo/l":function(t,e,n){var r=n("oeih"),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},zpVT:function(t,e,n){var r=n("duB3"),i=n("POb3"),o=n("YeCl");t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},"zq/X":function(t,e,n){var r=n("UKM+");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},ztin:function(t,e,n){var r,i;!function(n,o){"use strict";void 0===(i="function"==typeof(r=function(t){var e,n,r,i,o,s,a,u,l,c,p,h,f,d,g,m,v,y;function _(t,e){if(!t)throw new Error("ASSERT: "+e)}function x(t){return t>=48&&t<=57}function b(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function w(t){return"01234567".indexOf(t)>=0}function S(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function P(t){return 10===t||13===t||8232===t||8233===t}function T(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&a.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function C(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&a.NonAsciiIdentifierPart.test(String.fromCharCode(t))}function E(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function M(t){return"eval"===t||"arguments"===t}function k(t,e,n,r,i){var o;_("number"==typeof n,"Comment must have valid position"),v.lastCommentStart>=n||(v.lastCommentStart=n,o={type:t,value:e},y.range&&(o.range=[n,r]),y.loc&&(o.loc=i),y.comments.push(o),y.attachComment&&(y.leadingComments.push(o),y.trailingComments.push(o)))}function O(t){var e,n,r,i;for(e=p-t,n={start:{line:h,column:p-f-t}};p<d;)if(r=l.charCodeAt(p),++p,P(r))return y.comments&&(i=l.slice(e+t,p-1),n.end={line:h,column:p-f-1},k("Line",i,e,p-1,n)),13===r&&10===l.charCodeAt(p)&&++p,++h,void(f=p);y.comments&&(i=l.slice(e+t,p),n.end={line:h,column:p-f},k("Line",i,e,p,n))}function A(){var t,e,n,r;for(y.comments&&(t=p-2,e={start:{line:h,column:p-f-2}});p<d;)if(P(n=l.charCodeAt(p)))13===n&&10===l.charCodeAt(p+1)&&++p,++h,f=++p,p>=d&&H({},s.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===l.charCodeAt(p+1))return++p,++p,void(y.comments&&(r=l.slice(t+2,p-2),e.end={line:h,column:p-f},k("Block",r,t,p,e)));++p}else++p;H({},s.UnexpectedToken,"ILLEGAL")}function D(){var t,e;for(e=0===p;p<d;)if(S(t=l.charCodeAt(p)))++p;else if(P(t))++p,13===t&&10===l.charCodeAt(p)&&++p,++h,f=p,e=!0;else if(47===t)if(47===(t=l.charCodeAt(p+1)))++p,++p,O(2),e=!0;else{if(42!==t)break;++p,++p,A()}else if(e&&45===t){if(45!==l.charCodeAt(p+1)||62!==l.charCodeAt(p+2))break;p+=3,O(3)}else{if(60!==t)break;if("!--"!==l.slice(p+1,p+4))break;++p,++p,++p,++p,O(4)}}function I(t){var e,n,r,i=0;for(n="u"===t?4:2,e=0;e<n;++e){if(!(p<d&&b(l[p])))return"";r=l[p++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(i)}function F(){var t,e;for(t=l.charCodeAt(p++),e=String.fromCharCode(t),92===t&&(117!==l.charCodeAt(p)&&H({},s.UnexpectedToken,"ILLEGAL"),++p,(t=I("u"))&&"\\"!==t&&T(t.charCodeAt(0))||H({},s.UnexpectedToken,"ILLEGAL"),e=t);p<d&&C(t=l.charCodeAt(p));)++p,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==l.charCodeAt(p)&&H({},s.UnexpectedToken,"ILLEGAL"),++p,(t=I("u"))&&"\\"!==t&&C(t.charCodeAt(0))||H({},s.UnexpectedToken,"ILLEGAL"),e+=t);return e}function j(){var t,n,r,i,o=p,a=l.charCodeAt(p),u=l[p];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++p,y.tokenize&&(40===a?y.openParenToken=y.tokens.length:123===a&&(y.openCurlyToken=y.tokens.length)),{type:e.Punctuator,value:String.fromCharCode(a),lineNumber:h,lineStart:f,start:o,end:p};default:if(61===(t=l.charCodeAt(p+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return p+=2,{type:e.Punctuator,value:String.fromCharCode(a)+String.fromCharCode(t),lineNumber:h,lineStart:f,start:o,end:p};case 33:case 61:return 61===l.charCodeAt(p+=2)&&++p,{type:e.Punctuator,value:l.slice(o,p),lineNumber:h,lineStart:f,start:o,end:p}}}return">>>="===(i=l.substr(p,4))?{type:e.Punctuator,value:i,lineNumber:h,lineStart:f,start:o,end:p+=4}:">>>"===(r=i.substr(0,3))||"<<="===r||">>="===r?{type:e.Punctuator,value:r,lineNumber:h,lineStart:f,start:o,end:p+=3}:u===(n=r.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===n?{type:e.Punctuator,value:n,lineNumber:h,lineStart:f,start:o,end:p+=2}:"<>=!+-*%&|^/".indexOf(u)>=0?{type:e.Punctuator,value:u,lineNumber:h,lineStart:f,start:o,end:++p}:void H({},s.UnexpectedToken,"ILLEGAL")}function R(){var t,n,r;if(_(x((r=l[p]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),n=p,t="","."!==r){if(t=l[p++],r=l[p],"0"===t){if("x"===r||"X"===r)return++p,function(t){for(var n="";p<d&&b(l[p]);)n+=l[p++];return 0===n.length&&H({},s.UnexpectedToken,"ILLEGAL"),T(l.charCodeAt(p))&&H({},s.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:h,lineStart:f,start:t,end:p}}(n);if(w(r)&&function(){var t,e;for(t=p+1;t<d;++t){if("8"===(e=l[t])||"9"===e)return!1;if(!w(e))return!0}return!0}())return function(t){for(var n="0"+l[p++];p<d&&w(l[p]);)n+=l[p++];return(T(l.charCodeAt(p))||x(l.charCodeAt(p)))&&H({},s.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:h,lineStart:f,start:t,end:p}}(n)}for(;x(l.charCodeAt(p));)t+=l[p++];r=l[p]}if("."===r){for(t+=l[p++];x(l.charCodeAt(p));)t+=l[p++];r=l[p]}if("e"===r||"E"===r)if(t+=l[p++],"+"!==(r=l[p])&&"-"!==r||(t+=l[p++]),x(l.charCodeAt(p)))for(;x(l.charCodeAt(p));)t+=l[p++];else H({},s.UnexpectedToken,"ILLEGAL");return T(l.charCodeAt(p))&&H({},s.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseFloat(t),lineNumber:h,lineStart:f,start:n,end:p}}function L(){var t,n,r,i;return m=null,D(),t=p,n=function(){var t,e,n,r;for(_("/"===(t=l[p]),"Regular expression literal must start with a slash"),e=l[p++],n=!1,r=!1;p<d;)if(e+=t=l[p++],"\\"===t)P((t=l[p++]).charCodeAt(0))&&H({},s.UnterminatedRegExp),e+=t;else if(P(t.charCodeAt(0)))H({},s.UnterminatedRegExp);else if(n)"]"===t&&(n=!1);else{if("/"===t){r=!0;break}"["===t&&(n=!0)}return r||H({},s.UnterminatedRegExp),{value:e.substr(1,e.length-2),literal:e}}(),r=function(){var t,e,n,r;for(e="",n="";p<d&&C((t=l[p]).charCodeAt(0));)if(++p,"\\"===t&&p<d)if("u"===(t=l[p])){if(r=++p,t=I("u"))for(n+=t,e+="\\u";r<p;++r)e+=l[r];else p=r,n+="u",e+="\\u";W({},s.UnexpectedToken,"ILLEGAL")}else e+="\\",W({},s.UnexpectedToken,"ILLEGAL");else n+=t,e+=t;return{value:n,literal:e}}(),i=function(t,e){var n;try{n=new RegExp(t,e)}catch(t){H({},s.InvalidRegExp)}return n}(n.value,r.value),y.tokenize?{type:e.RegularExpression,value:i,lineNumber:h,lineStart:f,start:t,end:p}:{literal:n.literal+r.literal,value:i,start:t,end:p}}function N(){var t,e,n,r;return D(),t=p,e={start:{line:h,column:p-f}},n=L(),e.end={line:h,column:p-f},y.tokenize||(y.tokens.length>0&&(r=y.tokens[y.tokens.length-1]).range[0]===t&&"Punctuator"===r.type&&("/"!==r.value&&"/="!==r.value||y.tokens.pop()),y.tokens.push({type:"RegularExpression",value:n.literal,range:[t,p],loc:e})),n}function U(){var t,n,i;return D(),p>=d?{type:e.EOF,lineNumber:h,lineStart:f,start:p,end:p}:T(t=l.charCodeAt(p))?(n=p,{type:1===(i=92===l.charCodeAt(p)?F():function(){var t,e;for(t=p++;p<d;){if(92===(e=l.charCodeAt(p)))return p=t,F();if(!C(e))break;++p}return l.slice(t,p)}()).length?e.Identifier:function(t){if(c&&E(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}(i)?e.Keyword:"null"===i?e.NullLiteral:"true"===i||"false"===i?e.BooleanLiteral:e.Identifier,value:i,lineNumber:h,lineStart:f,start:n,end:p}):40===t||41===t||59===t?j():39===t||34===t?function(){var t,n,r,i,o,a,u,c,g="",m=!1;for(u=h,c=f,_("'"===(t=l[p])||'"'===t,"String literal must starts with a quote"),n=p,++p;p<d;){if((r=l[p++])===t){t="";break}if("\\"===r)if((r=l[p++])&&P(r.charCodeAt(0)))++h,"\r"===r&&"\n"===l[p]&&++p,f=p;else switch(r){case"u":case"x":a=p,(o=I(r))?g+=o:(p=a,g+=r);break;case"n":g+="\n";break;case"r":g+="\r";break;case"t":g+="\t";break;case"b":g+="\b";break;case"f":g+="\f";break;case"v":g+="\v";break;default:w(r)?(0!==(i="01234567".indexOf(r))&&(m=!0),p<d&&w(l[p])&&(m=!0,i=8*i+"01234567".indexOf(l[p++]),"0123".indexOf(r)>=0&&p<d&&w(l[p])&&(i=8*i+"01234567".indexOf(l[p++]))),g+=String.fromCharCode(i)):g+=r}else{if(P(r.charCodeAt(0)))break;g+=r}}return""!==t&&H({},s.UnexpectedToken,"ILLEGAL"),{type:e.StringLiteral,value:g,octal:m,startLineNumber:u,startLineStart:c,lineNumber:h,lineStart:f,start:n,end:p}}():46===t?x(l.charCodeAt(p+1))?R():j():x(t)?R():y.tokenize&&47===t?function(){var t,e;if(!(t=y.tokens[y.tokens.length-1]))return N();if("Punctuator"===t.type){if("]"===t.value)return j();if(")"===t.value)return!(e=y.tokens[y.openParenToken-1])||"Keyword"!==e.type||"if"!==e.value&&"while"!==e.value&&"for"!==e.value&&"with"!==e.value?j():N();if("}"===t.value){if(y.tokens[y.openCurlyToken-3]&&"Keyword"===y.tokens[y.openCurlyToken-3].type){if(!(e=y.tokens[y.openCurlyToken-4]))return j()}else{if(!y.tokens[y.openCurlyToken-4]||"Keyword"!==y.tokens[y.openCurlyToken-4].type)return j();if(!(e=y.tokens[y.openCurlyToken-5]))return N()}return r.indexOf(e.value)>=0?j():N()}return N()}return"Keyword"===t.type&&"this"!==t.value?N():j()}():j()}function z(){var t,r,i;return D(),t={start:{line:h,column:p-f}},r=U(),t.end={line:h,column:p-f},r.type!==e.EOF&&(i=l.slice(r.start,r.end),y.tokens.push({type:n[r.type],value:i,range:[r.start,r.end],loc:t})),r}function G(){var t;return p=(t=m).end,h=t.lineNumber,f=t.lineStart,m="undefined"!=typeof y.tokens?z():U(),p=t.end,h=t.lineNumber,f=t.lineStart,t}function B(){var t,e,n;t=p,e=h,n=f,m="undefined"!=typeof y.tokens?z():U(),p=t,h=e,f=n}function V(t,e){this.line=t,this.column=e}function q(){var t,e,n,r;return t=p,e=h,n=f,D(),r=h!==e,p=t,h=e,f=n,r}function H(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,function(t,e){return _(e<r.length,"Message reference must be in range"),r[e]});throw"number"==typeof t.lineNumber?((n=new Error("Line "+t.lineNumber+": "+i)).index=t.start,n.lineNumber=t.lineNumber,n.column=t.start-f+1):((n=new Error("Line "+h+": "+i)).index=p,n.lineNumber=h,n.column=p-f+1),n.description=i,n}function W(){try{H.apply(null,arguments)}catch(t){if(!y.errors)throw t;y.errors.push(t)}}function Y(t){if(t.type===e.EOF&&H(t,s.UnexpectedEOS),t.type===e.NumericLiteral&&H(t,s.UnexpectedNumber),t.type===e.StringLiteral&&H(t,s.UnexpectedString),t.type===e.Identifier&&H(t,s.UnexpectedIdentifier),t.type===e.Keyword){if(function(e){switch(t.value){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}())H(t,s.UnexpectedReserved);else if(c&&E(t.value))return void W(t,s.StrictReservedWord);H(t,s.UnexpectedToken,t.value)}H(t,s.UnexpectedToken,t.value)}function X(t){var n=G();n.type===e.Punctuator&&n.value===t||Y(n)}function Z(t){var n=G();n.type===e.Keyword&&n.value===t||Y(n)}function $(t){return m.type===e.Punctuator&&m.value===t}function K(t){return m.type===e.Keyword&&m.value===t}function Q(){var t,n=p,r=h,i=f,o=m;if(59===l.charCodeAt(p)||$(";"))G();else{if(t=h,D(),h!==t)return p=n,h=r,f=i,void(m=o);m.type===e.EOF||$("}")||Y(m)}}function J(t){return t.type===i.Identifier||t.type===i.MemberExpression}function tt(t,e){var n,r,i;return n=c,i=m,r=yt(),e&&c&&M(t[0].name)&&W(e,s.StrictParamName),c=n,g.markEnd(g.createFunctionExpression(null,t,[],r),i)}function et(){var t,n;return n=m,(t=G()).type===e.StringLiteral||t.type===e.NumericLiteral?(c&&t.octal&&W(t,s.StrictOctalLiteral),g.markEnd(g.createLiteral(t),n)):g.markEnd(g.createIdentifier(t.value),n)}function nt(){var t,n,r,i,o,a;return a=m,(t=m).type===e.Identifier?(r=et(),"get"!==t.value||$(":")?"set"!==t.value||$(":")?(X(":"),i=ct(),g.markEnd(g.createProperty("init",r,i),a)):(n=et(),X("("),(t=m).type!==e.Identifier?(X(")"),W(t,s.UnexpectedToken,t.value),i=tt([])):(o=[ft()],X(")"),i=tt(o,t)),g.markEnd(g.createProperty("set",n,i),a)):(n=et(),X("("),X(")"),i=tt([]),g.markEnd(g.createProperty("get",n,i),a))):t.type!==e.EOF&&t.type!==e.Punctuator?(n=et(),X(":"),i=ct(),g.markEnd(g.createProperty("init",n,i),a)):void Y(t)}function rt(){var t,n,r,a;if($("("))return function(){var t;return X("("),t=pt(),X(")"),t}();if($("["))return function(){var t,e=[];for(t=m,X("[");!$("]");)$(",")?(G(),e.push(null)):(e.push(ct()),$("]")||X(","));return G(),g.markEnd(g.createArrayExpression(e),t)}();if($("{"))return function(){var t,e,n,r,a,u=[],l={},p=String;for(a=m,X("{");!$("}");)e=(t=nt()).key.type===i.Identifier?t.key.name:p(t.key.value),r="init"===t.kind?o.Data:"get"===t.kind?o.Get:o.Set,n="$"+e,Object.prototype.hasOwnProperty.call(l,n)?(l[n]===o.Data?c&&r===o.Data?W({},s.StrictDuplicateProperty):r!==o.Data&&W({},s.AccessorDataProperty):r===o.Data?W({},s.AccessorDataProperty):l[n]&r&&W({},s.AccessorGetSet),l[n]|=r):l[n]=r,u.push(t),$("}")||X(",");return X("}"),g.markEnd(g.createObjectExpression(u),a)}();if(a=m,(t=m.type)===e.Identifier)r=g.createIdentifier(G().value);else if(t===e.StringLiteral||t===e.NumericLiteral)c&&m.octal&&W(m,s.StrictOctalLiteral),r=g.createLiteral(G());else if(t===e.Keyword){if(K("function"))return function(){var t,e,n,r,i,o,a,u,l,p=null;return u=m,Z("function"),$("(")||(t=m,p=ft(),c?M(t.value)&&W(t,s.StrictFunctionName):M(t.value)?(n=t,r=s.StrictFunctionName):E(t.value)&&(n=t,r=s.StrictReservedWord)),l=(i=_t(n)).params,e=i.stricted,n=i.firstRestricted,i.message&&(r=i.message),a=c,o=yt(),c&&n&&H(n,r),c&&e&&W(e,r),c=a,g.markEnd(g.createFunctionExpression(p,l,[],o),u)}();K("this")?(G(),r=g.createThisExpression()):Y(G())}else t===e.BooleanLiteral?((n=G()).value="true"===n.value,r=g.createLiteral(n)):t===e.NullLiteral?((n=G()).value=null,r=g.createLiteral(n)):$("/")||$("/=")?(r=g.createLiteral("undefined"!=typeof y.tokens?N():L()),B()):Y(G());return g.markEnd(r,a)}function it(){var t=[];if(X("("),!$(")"))for(;p<d&&(t.push(ct()),!$(")"));)X(",");return X(")"),t}function ot(){return X("."),n=m,function(t){return t.type===e.Identifier||t.type===e.Keyword||t.type===e.BooleanLiteral||t.type===e.NullLiteral}(t=G())||Y(t),g.markEnd(g.createIdentifier(t.value),n);var t,n}function st(){var t;return X("["),t=pt(),X("]"),t}function at(){var t,n,r=m;return t=function(){var t,e,n,r,i=v.allowIn;for(r=m,v.allowIn=!0,t=K("new")?function t(){var e,n,r;return r=m,Z("new"),e=function(){var e,n,r;for(_(v.allowIn,"callee of new expression always allow in keyword."),r=m,e=K("new")?t():rt();$(".")||$("[");)$("[")?(n=st(),e=g.createMemberExpression("[",e,n)):(n=ot(),e=g.createMemberExpression(".",e,n)),g.markEnd(e,r);return e}(),n=$("(")?it():[],g.markEnd(g.createNewExpression(e,n),r)}():rt();;){if($("."))n=ot(),t=g.createMemberExpression(".",t,n);else if($("("))e=it(),t=g.createCallExpression(t,e);else{if(!$("["))break;n=st(),t=g.createMemberExpression("[",t,n)}g.markEnd(t,r)}return v.allowIn=i,t}(),m.type===e.Punctuator&&(!$("++")&&!$("--")||q()||(c&&t.type===i.Identifier&&M(t.name)&&W({},s.StrictLHSPostfix),J(t)||W({},s.InvalidLHSInAssignment),n=G(),t=g.markEnd(g.createPostfixExpression(n.value,t),r))),t}function ut(){var t,n,r;return m.type!==e.Punctuator&&m.type!==e.Keyword?n=at():$("++")||$("--")?(r=m,t=G(),n=ut(),c&&n.type===i.Identifier&&M(n.name)&&W({},s.StrictLHSPrefix),J(n)||W({},s.InvalidLHSInAssignment),n=g.createUnaryExpression(t.value,n),n=g.markEnd(n,r)):$("+")||$("-")||$("~")||$("!")?(r=m,t=G(),n=ut(),n=g.createUnaryExpression(t.value,n),n=g.markEnd(n,r)):K("delete")||K("void")||K("typeof")?(r=m,t=G(),n=ut(),n=g.createUnaryExpression(t.value,n),n=g.markEnd(n,r),c&&"delete"===n.operator&&n.argument.type===i.Identifier&&W({},s.StrictDelete)):n=at(),n}function lt(t,n){var r=0;if(t.type!==e.Punctuator&&t.type!==e.Keyword)return 0;switch(t.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=n?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function ct(){var t,n,r,o,a,u;return t=m,a=m,o=n=function(){var t,e,n,r,i;return i=m,t=function(){var t,e,n,r,i,o,s,a,u,l;if(t=m,u=ut(),0===(i=lt(r=m,v.allowIn)))return u;for(r.prec=i,G(),e=[t,m],o=[u,r,s=ut()];(i=lt(m,v.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,u=o.pop(),n=g.createBinaryExpression(a,u,s),e.pop(),g.markEnd(n,t=e[e.length-1]),o.push(n);(r=G()).prec=i,o.push(r),e.push(m),n=ut(),o.push(n)}for(n=o[l=o.length-1],e.pop();l>1;)n=g.createBinaryExpression(o[l-1].value,o[l-2],n),l-=2,t=e.pop(),g.markEnd(n,t);return n}(),$("?")&&(G(),e=v.allowIn,v.allowIn=!0,n=ct(),v.allowIn=e,X(":"),r=ct(),t=g.createConditionalExpression(t,n,r),g.markEnd(t,i)),t}(),m.type!==e.Punctuator||"="!==(u=m.value)&&"*="!==u&&"/="!==u&&"%="!==u&&"+="!==u&&"-="!==u&&"<<="!==u&&">>="!==u&&">>>="!==u&&"&="!==u&&"^="!==u&&"|="!==u||(J(n)||W({},s.InvalidLHSInAssignment),c&&n.type===i.Identifier&&M(n.name)&&W(t,s.StrictLHSAssignment),t=G(),r=ct(),o=g.markEnd(g.createAssignmentExpression(t.value,n,r),a)),o}function pt(){var t,e=m;if(t=ct(),$(",")){for(t=g.createSequenceExpression([t]);p<d&&$(",");)G(),t.expressions.push(ct());g.markEnd(t,e)}return t}function ht(){var t,e;return e=m,X("{"),t=function(){for(var t,e=[];p<d&&!$("}")&&"undefined"!=typeof(t=bt());)e.push(t);return e}(),X("}"),g.markEnd(g.createBlockStatement(t),e)}function ft(){var t,n;return n=m,(t=G()).type!==e.Identifier&&Y(t),g.markEnd(g.createIdentifier(t.value),n)}function dt(t){var e,n,r=null;return n=m,e=ft(),c&&M(e.name)&&W({},s.StrictVarName),"const"===t?(X("="),r=ct()):$("=")&&(G(),r=ct()),g.markEnd(g.createVariableDeclarator(e,r),n)}function gt(t){var e=[];do{if(e.push(dt(t)),!$(","))break;G()}while(p<d);return e}function mt(){var t,e,n,r=[];for(n=m,K("default")?(G(),t=null):(Z("case"),t=pt()),X(":");p<d&&!($("}")||K("default")||K("case"));)e=vt(),r.push(e);return g.markEnd(g.createSwitchCase(t,r),n)}function vt(){var t,n,r,o,a,u,h,f,y,_,x=m.type;if(x===e.EOF&&Y(m),x===e.Punctuator&&"{"===m.value)return ht();if(o=m,x===e.Punctuator)switch(m.value){case";":return g.markEnd((X(";"),g.createEmptyStatement()),o);case"(":return g.markEnd(function(){var t=pt();return Q(),g.createExpressionStatement(t)}(),o)}if(x===e.Keyword)switch(m.value){case"break":return g.markEnd((_=null,Z("break"),59===l.charCodeAt(p)?(G(),v.inIteration||v.inSwitch||H({},s.IllegalBreak),g.createBreakStatement(null)):q()?(v.inIteration||v.inSwitch||H({},s.IllegalBreak),g.createBreakStatement(null)):(m.type===e.Identifier&&(_=ft(),Object.prototype.hasOwnProperty.call(v.labelSet,"$"+_.name)||H({},s.UnknownLabel,_.name)),Q(),null!==_||v.inIteration||v.inSwitch||H({},s.IllegalBreak),g.createBreakStatement(_))),o);case"continue":return g.markEnd(function(){var t=null;return Z("continue"),59===l.charCodeAt(p)?(G(),v.inIteration||H({},s.IllegalContinue),g.createContinueStatement(null)):q()?(v.inIteration||H({},s.IllegalContinue),g.createContinueStatement(null)):(m.type===e.Identifier&&(t=ft(),Object.prototype.hasOwnProperty.call(v.labelSet,"$"+t.name)||H({},s.UnknownLabel,t.name)),Q(),null!==t||v.inIteration||H({},s.IllegalContinue),g.createContinueStatement(t))}(),o);case"debugger":return g.markEnd((Z("debugger"),Q(),g.createDebuggerStatement()),o);case"do":return g.markEnd((Z("do"),y=v.inIteration,v.inIteration=!0,h=vt(),v.inIteration=y,Z("while"),X("("),f=pt(),X(")"),$(";")&&G(),g.createDoWhileStatement(h,f)),o);case"for":return g.markEnd(function(){var t,e,n,r,i,o,a,u,l,c,p=v.allowIn;return t=e=n=null,Z("for"),X("("),$(";")?G():(K("var")||K("let")?(v.allowIn=!1,c=m,u=G(),l=gt(),t=g.markEnd(g.createVariableDeclaration(l,u.value),c),v.allowIn=p,1===t.declarations.length&&K("in")&&(G(),r=t,i=pt(),t=null)):(v.allowIn=!1,t=pt(),v.allowIn=p,K("in")&&(J(t)||W({},s.InvalidLHSInForIn),G(),r=t,i=pt(),t=null)),"undefined"==typeof r&&X(";")),"undefined"==typeof r&&($(";")||(e=pt()),X(";"),$(")")||(n=pt())),X(")"),a=v.inIteration,v.inIteration=!0,o=vt(),v.inIteration=a,"undefined"==typeof r?g.createForStatement(t,e,n,o):g.createForInStatement(r,i,o)}(),o);case"function":return g.markEnd(xt(),o);case"if":return g.markEnd(function(){var t,e,n;return Z("if"),X("("),t=pt(),X(")"),e=vt(),K("else")?(G(),n=vt()):n=null,g.createIfStatement(t,e,n)}(),o);case"return":return g.markEnd((u=null,Z("return"),v.inFunctionBody||W({},s.IllegalReturn),32===l.charCodeAt(p)&&T(l.charCodeAt(p+1))?(u=pt(),Q(),g.createReturnStatement(u)):q()?g.createReturnStatement(null):($(";")||$("}")||m.type===e.EOF||(u=pt()),Q(),g.createReturnStatement(u))),o);case"switch":return g.markEnd(function(){var t,e,n,r,i;if(Z("switch"),X("("),t=pt(),X(")"),X("{"),e=[],$("}"))return G(),g.createSwitchStatement(t,e);for(r=v.inSwitch,v.inSwitch=!0,i=!1;p<d&&!$("}");)null===(n=mt()).test&&(i&&H({},s.MultipleDefaultsInSwitch),i=!0),e.push(n);return v.inSwitch=r,X("}"),g.createSwitchStatement(t,e)}(),o);case"throw":return g.markEnd(function(){var t;return Z("throw"),q()&&H({},s.NewlineAfterThrow),t=pt(),Q(),g.createThrowStatement(t)}(),o);case"try":return g.markEnd(function(){var t,e,n,r,i=[],o=null;return Z("try"),t=ht(),K("catch")&&i.push((r=m,Z("catch"),X("("),$(")")&&Y(m),e=ft(),c&&M(e.name)&&W({},s.StrictCatchVariable),X(")"),n=ht(),g.markEnd(g.createCatchClause(e,n),r))),K("finally")&&(G(),o=ht()),0!==i.length||o||H({},s.NoCatchOrFinally),g.createTryStatement(t,[],i,o)}(),o);case"var":return g.markEnd((Z("var"),a=gt(),Q(),g.createVariableDeclaration(a,"var")),o);case"while":return g.markEnd(function(){var t,e,n;return Z("while"),X("("),t=pt(),X(")"),n=v.inIteration,v.inIteration=!0,e=vt(),v.inIteration=n,g.createWhileStatement(t,e)}(),o);case"with":return g.markEnd(function(){var t,e;return c&&(D(),W({},s.StrictModeWith)),Z("with"),X("("),t=pt(),X(")"),e=vt(),g.createWithStatement(t,e)}(),o)}return(t=pt()).type===i.Identifier&&$(":")?(G(),r="$"+t.name,Object.prototype.hasOwnProperty.call(v.labelSet,r)&&H({},s.Redeclaration,"Label",t.name),v.labelSet[r]=!0,n=vt(),delete v.labelSet[r],g.markEnd(g.createLabeledStatement(t,n),o)):(Q(),g.markEnd(g.createExpressionStatement(t),o))}function yt(){var t,n,r,o,a,u,h,f,y=[];for(f=m,X("{");p<d&&m.type===e.StringLiteral&&(n=m,t=bt(),y.push(t),t.expression.type===i.Literal);)"use strict"===l.slice(n.start+1,n.end-1)?(c=!0,r&&W(r,s.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(o=v.labelSet,a=v.inIteration,u=v.inSwitch,h=v.inFunctionBody,v.labelSet={},v.inIteration=!1,v.inSwitch=!1,v.inFunctionBody=!0;p<d&&!$("}")&&"undefined"!=typeof(t=bt());)y.push(t);return X("}"),v.labelSet=o,v.inIteration=a,v.inSwitch=u,v.inFunctionBody=h,g.markEnd(g.createBlockStatement(y),f)}function _t(t){var e,n,r,i,o,a,u=[];if(X("("),!$(")"))for(i={};p<d&&(n=m,e=ft(),o="$"+n.value,c?(M(n.value)&&(r=n,a=s.StrictParamName),Object.prototype.hasOwnProperty.call(i,o)&&(r=n,a=s.StrictParamDupe)):t||(M(n.value)?(t=n,a=s.StrictParamName):E(n.value)?(t=n,a=s.StrictReservedWord):Object.prototype.hasOwnProperty.call(i,o)&&(t=n,a=s.StrictParamDupe)),u.push(e),i[o]=!0,!$(")"));)X(",");return X(")"),{params:u,stricted:r,firstRestricted:t,message:a}}function xt(){var t,e,n,r,i,o,a,u,l,p;return p=m,Z("function"),r=m,t=ft(),c?M(r.value)&&W(r,s.StrictFunctionName):M(r.value)?(a=r,u=s.StrictFunctionName):E(r.value)&&(a=r,u=s.StrictReservedWord),e=(o=_t(a)).params,i=o.stricted,a=o.firstRestricted,o.message&&(u=o.message),l=c,n=yt(),c&&a&&H(a,u),c&&i&&W(i,u),c=l,g.markEnd(g.createFunctionDeclaration(t,e,[],n),p)}function bt(){if(m.type===e.Keyword)switch(m.value){case"const":case"let":return r=m,Z(t=m.value),n=gt(t),Q(),g.markEnd(g.createVariableDeclaration(n,t),r);case"function":return xt();default:return vt()}var t,n,r;if(m.type!==e.EOF)return vt()}function wt(){var t,e,n,r=[];for(t=0;t<y.tokens.length;++t)n={type:(e=y.tokens[t]).type,value:e.value},y.range&&(n.range=e.range),y.loc&&(n.loc=e.loc),r.push(n);y.tokens=r}(n={})[(e={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",n[e.EOF]="<end>",n[e.Identifier]="Identifier",n[e.Keyword]="Keyword",n[e.NullLiteral]="Null",n[e.NumericLiteral]="Numeric",n[e.Punctuator]="Punctuator",n[e.StringLiteral]="String",n[e.RegularExpression]="RegularExpression",r=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},o={Data:1,Get:2,Set:4},s={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},a={NonAsciiIdentifierStart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),NonAsciiIdentifierPart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0\u08a2-\u08ac\u08e4-\u08fe\u0900-\u0963\u0966-\u096f\u0971-\u0977\u0979-\u097f\u0981-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191c\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1d00-\u1de6\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua697\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a\uaa7b\uaa80-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")},u={name:"SyntaxTree",processComment:function(t){var e,n;if(!(t.type===i.Program&&t.body.length>0)){for(y.trailingComments.length>0?y.trailingComments[0].range[0]>=t.range[1]?(n=y.trailingComments,y.trailingComments=[]):y.trailingComments.length=0:y.bottomRightStack.length>0&&y.bottomRightStack[y.bottomRightStack.length-1].trailingComments&&y.bottomRightStack[y.bottomRightStack.length-1].trailingComments[0].range[0]>=t.range[1]&&(n=y.bottomRightStack[y.bottomRightStack.length-1].trailingComments,delete y.bottomRightStack[y.bottomRightStack.length-1].trailingComments);y.bottomRightStack.length>0&&y.bottomRightStack[y.bottomRightStack.length-1].range[0]>=t.range[0];)e=y.bottomRightStack.pop();e?e.leadingComments&&e.leadingComments[e.leadingComments.length-1].range[1]<=t.range[0]&&(t.leadingComments=e.leadingComments,delete e.leadingComments):y.leadingComments.length>0&&y.leadingComments[y.leadingComments.length-1].range[1]<=t.range[0]&&(t.leadingComments=y.leadingComments,y.leadingComments=[]),n&&(t.trailingComments=n),y.bottomRightStack.push(t)}},markEnd:function(t,e){return y.range&&(t.range=[e.start,p]),y.loc&&(t.loc=new function(t,n,r,i){this.start=new V(void 0===e.startLineNumber?e.lineNumber:e.startLineNumber,e.start-(void 0===e.startLineStart?e.lineStart:e.startLineStart)),this.end=new V(r,i)}(0,0,h,p-f),this.postProcess(t)),y.attachComment&&this.processComment(t),t},postProcess:function(t){return y.source&&(t.loc.source=y.source),t},createArrayExpression:function(t){return{type:i.ArrayExpression,elements:t}},createAssignmentExpression:function(t,e,n){return{type:i.AssignmentExpression,operator:t,left:e,right:n}},createBinaryExpression:function(t,e,n){return{type:"||"===t||"&&"===t?i.LogicalExpression:i.BinaryExpression,operator:t,left:e,right:n}},createBlockStatement:function(t){return{type:i.BlockStatement,body:t}},createBreakStatement:function(t){return{type:i.BreakStatement,label:t}},createCallExpression:function(t,e){return{type:i.CallExpression,callee:t,arguments:e}},createCatchClause:function(t,e){return{type:i.CatchClause,param:t,body:e}},createConditionalExpression:function(t,e,n){return{type:i.ConditionalExpression,test:t,consequent:e,alternate:n}},createContinueStatement:function(t){return{type:i.ContinueStatement,label:t}},createDebuggerStatement:function(){return{type:i.DebuggerStatement}},createDoWhileStatement:function(t,e){return{type:i.DoWhileStatement,body:t,test:e}},createEmptyStatement:function(){return{type:i.EmptyStatement}},createExpressionStatement:function(t){return{type:i.ExpressionStatement,expression:t}},createForStatement:function(t,e,n,r){return{type:i.ForStatement,init:t,test:e,update:n,body:r}},createForInStatement:function(t,e,n){return{type:i.ForInStatement,left:t,right:e,body:n,each:!1}},createFunctionDeclaration:function(t,e,n,r){return{type:i.FunctionDeclaration,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(t,e,n,r){return{type:i.FunctionExpression,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createIdentifier:function(t){return{type:i.Identifier,name:t}},createIfStatement:function(t,e,n){return{type:i.IfStatement,test:t,consequent:e,alternate:n}},createLabeledStatement:function(t,e){return{type:i.LabeledStatement,label:t,body:e}},createLiteral:function(t){return{type:i.Literal,value:t.value,raw:l.slice(t.start,t.end)}},createMemberExpression:function(t,e,n){return{type:i.MemberExpression,computed:"["===t,object:e,property:n}},createNewExpression:function(t,e){return{type:i.NewExpression,callee:t,arguments:e}},createObjectExpression:function(t){return{type:i.ObjectExpression,properties:t}},createPostfixExpression:function(t,e){return{type:i.UpdateExpression,operator:t,argument:e,prefix:!1}},createProgram:function(t){return{type:i.Program,body:t}},createProperty:function(t,e,n){return{type:i.Property,key:e,value:n,kind:t}},createReturnStatement:function(t){return{type:i.ReturnStatement,argument:t}},createSequenceExpression:function(t){return{type:i.SequenceExpression,expressions:t}},createSwitchCase:function(t,e){return{type:i.SwitchCase,test:t,consequent:e}},createSwitchStatement:function(t,e){return{type:i.SwitchStatement,discriminant:t,cases:e}},createThisExpression:function(){return{type:i.ThisExpression}},createThrowStatement:function(t){return{type:i.ThrowStatement,argument:t}},createTryStatement:function(t,e,n,r){return{type:i.TryStatement,block:t,guardedHandlers:e,handlers:n,finalizer:r}},createUnaryExpression:function(t,e){return"++"===t||"--"===t?{type:i.UpdateExpression,operator:t,argument:e,prefix:!0}:{type:i.UnaryExpression,operator:t,argument:e,prefix:!0}},createVariableDeclaration:function(t,e){return{type:i.VariableDeclaration,declarations:t,kind:e}},createVariableDeclarator:function(t,e){return{type:i.VariableDeclarator,id:t,init:e}},createWhileStatement:function(t,e){return{type:i.WhileStatement,test:t,body:e}},createWithStatement:function(t,e){return{type:i.WithStatement,object:t,body:e}}},t.version="1.2.5",t.tokenize=function(t,n){var r,i;r=String,"string"==typeof t||t instanceof String||(t=r(t)),g=u,p=0,h=(l=t).length>0?1:0,f=0,d=l.length,m=null,v={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},y={},(n=n||{}).tokens=!0,y.tokens=[],y.tokenize=!0,y.openParenToken=-1,y.openCurlyToken=-1,y.range="boolean"==typeof n.range&&n.range,y.loc="boolean"==typeof n.loc&&n.loc,"boolean"==typeof n.comment&&n.comment&&(y.comments=[]),"boolean"==typeof n.tolerant&&n.tolerant&&(y.errors=[]);try{if(B(),m.type===e.EOF)return y.tokens;for(G();m.type!==e.EOF;)try{G()}catch(t){if(y.errors){y.errors.push(t);break}throw t}wt(),i=y.tokens,"undefined"!=typeof y.comments&&(i.comments=y.comments),"undefined"!=typeof y.errors&&(i.errors=y.errors)}catch(t){throw t}finally{y={}}return i},t.parse=function(t,n){var r,o,a,_;o=String,"string"==typeof t||t instanceof String||(t=o(t)),g=u,p=0,h=(l=t).length>0?1:0,f=0,d=l.length,m=null,v={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},y={},"undefined"!=typeof n&&(y.range="boolean"==typeof n.range&&n.range,y.loc="boolean"==typeof n.loc&&n.loc,y.attachComment="boolean"==typeof n.attachComment&&n.attachComment,y.loc&&null!==n.source&&void 0!==n.source&&(y.source=o(n.source)),"boolean"==typeof n.tokens&&n.tokens&&(y.tokens=[]),"boolean"==typeof n.comment&&n.comment&&(y.comments=[]),"boolean"==typeof n.tolerant&&n.tolerant&&(y.errors=[]),y.attachComment&&(y.range=!0,y.comments=[],y.bottomRightStack=[],y.trailingComments=[],y.leadingComments=[]));try{D(),B(),_=m,c=!1,a=function(){for(var t,n,r,o=[];p<d&&(n=m).type===e.StringLiteral&&(t=bt(),o.push(t),t.expression.type===i.Literal);)"use strict"===l.slice(n.start+1,n.end-1)?(c=!0,r&&W(r,s.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(;p<d&&"undefined"!=typeof(t=bt());)o.push(t);return o}(),r=g.markEnd(g.createProgram(a),_),"undefined"!=typeof y.comments&&(r.comments=y.comments),"undefined"!=typeof y.tokens&&(wt(),r.tokens=y.tokens),"undefined"!=typeof y.errors&&(r.errors=y.errors)}catch(t){throw t}finally{y={}}return r},t.Syntax=function(){var t,e={};for(t in"function"==typeof Object.create&&(e=Object.create(null)),i)i.hasOwnProperty(t)&&(e[t]=i[t]);return"function"==typeof Object.freeze&&Object.freeze(e),e}()})?r.apply(e,[e]):r)||(t.exports=i)}()}},[0]);