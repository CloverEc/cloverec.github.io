
<style>
label { margin: 0 !important; }
</style>

<ion-header>
  <ion-navbar>
    <button ion-button menuToggle icon-only  >
      <ion-icon name='menu'></ion-icon>
    </button>
    <ion-title>イベント上海NEWS 一覧</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="outer-content">
  <div padding>
    <ion-segment [(ngModel)]="category" (ionChange)="categoryChange($event)">
      <ion-segment-button value="0">
        Top
      </ion-segment-button>
      <ion-segment-button value="new">
        News
      </ion-segment-button>
      <ion-segment-button value="2">
        イベント
      </ion-segment-button>
      <ion-segment-button value="1">
        Topics
      </ion-segment-button>
      <ion-segment-button value="3">
        特集
      </ion-segment-button>
    </ion-segment>
    <ion-segment padding *ngIf="category == 'new'" (ionChange)="subCategoryChange($event)" [(ngModel)]="type">
      <ion-segment-button value="2">
        生活
      </ion-segment-button>
      <ion-segment-button value="3">
        ビジネス
      </ion-segment-button>
      <ion-segment-button value="4">
        アジア
      </ion-segment-button>
      <ion-segment-button value="5">
        エンタメ
      </ion-segment-button>
    </ion-segment>
  </div>
  <ion-list no-padding inset *ngIf="isMember == false">
    <button no-padding ion-item *ngFor="let topic of topics" (click)="openTopic(topic.id)">
      <ion-thumbnail item-start>
        <img src="{{topic.s_image}}" style="width:90px;
        height:100%;
        margin-left:4px;
        " />
      </ion-thumbnail>
      <h4> {{topic.title }}<br> </h4>
      <p>{{topic.updated_at}}</p> 
    </button> 
  </ion-list> 
  <ion-list no-padding inset *ngIf="isMember">
    <ion-item-sliding *ngFor="let topic of topics" #slidingItem>
      <ion-item no-padding (click)="openTopic(topic.id)">
        <ion-thumbnail item-start>
          <img src="{{topic.s_image}}" style="width:90px;
          height:100%;
          margin-left:4px;
          " />
        </ion-thumbnail>
        <h4> {{topic.title }}<br> </h4>
        <p>{{topic.updated_at}}</p> 
      </ion-item>
      <ion-item-options side="right">
        <button ion-button color="danger"  (click)="deleteTopic(topic, slidingItem)">
          削除
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list> 
  <ion-infinite-scroll [enabled]="scrollEnable" (ionInfinite)="doInfinite($event)"> 
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
