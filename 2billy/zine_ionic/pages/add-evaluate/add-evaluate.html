<!--
  Generated template for the AddEvaluatePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<style>
  textarea{ height:150px }
</style>
<ion-header>

  <ion-navbar>
    <ion-title>口コミ投稿</ion-title>
  </ion-navbar>

</ion-header>


<ion-content class="outer-content"  padding>
<span *ngIf="!step">
  <ion-list>
    <ion-item>
      <ion-label floating>タイトル</ion-label>
      <ion-input  [(ngModel)]="title" type="text"></ion-input>
    </ion-item>
    <ion-item>
        <ion-textarea [(ngModel)]="content" placeholder="口コミ内容"></ion-textarea>
    </ion-item>
    <div *ngIf="!recommend">
    <ion-item>
      <ion-grid>
        <ion-row  no-padding >
          <ion-col  >
            <p> 料理：</p>
          </ion-col >
          <ion-col no-margin no-padding col-9>
            <rating  [(ngModel)]="star[0]"  readOnly="false" max="5" emptyStarIconName="star-outline" halfStarIconName="star-half" starIconName="star" nullable="false" (ionChange)="onModelChange($event)"> </rating>
          </ion-col>
        </ion-row>
        <ion-row no-padding >
          <ion-col >
            <p> ドリンク:</p>
          </ion-col >
          <ion-col no-margin no-padding col-9>
            <rating  [(ngModel)]="star[1]" readOnly="false" max="5" emptyStarIconName="star-outline" halfStarIconName="star-half" starIconName="star" nullable="false" (ionChange)="onModelChange($event)"> </rating>
          </ion-col>
        </ion-row>
        <ion-row no-padding >
          <ion-col >
            <p> サービス:</p>
          </ion-col >
          <ion-col no-margin no-padding col-9>
            <rating  [(ngModel)]="star[2]" readOnly="false" max="5" emptyStarIconName="star-outline" halfStarIconName="star-half" starIconName="star" nullable="false" (ionChange)="onModelChange($event)"> </rating>
          </ion-col>
        </ion-row>
        <ion-row no-padding >
          <ion-col >
            <p> 清潔度:</p>
          </ion-col >
          <ion-col no-margin no-padding col-9>
            <rating  [(ngModel)]="star[3]"  readOnly="false" max="5" emptyStarIconName="star-outline" halfStarIconName="star-half" starIconName="star" nullable="false" (ionChange)="onModelchange($event)"> </rating>
          </ion-col>
        </ion-row>
        <ion-row no-padding >
          <ion-col >
            <p> 雰囲気:</p>
          </ion-col >
          <ion-col no-margin no-padding col-9>
            <rating   [(ngModel)]="star[4]" readOnly="false" max="5" emptyStarIconName="star-outline" halfStarIconName="star-half" starIconName="star" nullable="false" (ionChange)="onModelChange($event)"> </rating>
          </ion-col>
        </ion-row>
        <ion-row no-padding >
          <ion-col >
            <p> コスパ:</p>
          </ion-col >
          <ion-col no-margin no-padding col-9>
            <rating   [(ngModel)]="star[5]"readOnly="false" max="5" emptyStarIconName="star-outline" halfStarIconName="star-half" starIconName="star" nullable="false" (ionChange)="onModelChange($event)"> </rating>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  <ion-item>
    <ion-label>最終訪問</ion-label>
    <ion-datetime displayFormat="YYYY-MM"  [(ngModel)]="toDay"></ion-datetime>
  </ion-item>
  <ion-item no-padding>
    <pre style="font-size:0.9rem;"> 
      信頼できる健全なコミュニティサイト運営の為、
      以下の書き込みは禁止しております。
      ・最低、最悪、まずい等、不快感を与える不適切な否定表現。
      ・対価を目的とした口コミ。
      ・お店や個人への誹謗中傷。
      ・衛生面、法律違反、トラブル、クレーム的な内容は、
      しかるべき当局へ直接ご連絡ください。
    </pre>
  </ion-item>
    </div>
    <div *ngIf="recommend">
      <ion-list>
        <ion-item>
          <ion-label>投稿者</ion-label>
          <ion-select [(ngModel)]="contributor">
            <ion-option value="0">お店、会社の人</ion-option>
            <ion-option value="1">お客さん、友人</ion-option>
            <ion-option value="2">その他</ion-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label  >種類</ion-label>
          <ion-select [(ngModel)]="category">
            <ion-option value="0">お得情報</ion-option>
            <ion-option value="1">告知</ion-option>
            <ion-option value="2">その他</ion-option>
          </ion-select>
        </ion-item>
      </ion-list>
    </div>
  </ion-list>
  <button ion-button full (click)="sendEevaluate(title,content,star,toDay,contributor,category)" >投稿する</button>
</span>
<span *ngIf="step">
  <div text-center style="width:100%">
    <h1>投稿しました。画像を投稿してください</h1>
  </div>
  <label class="button button-md button-default button-default-md button-full button-full-md button-full"  style="
  padding-top:5px;
    
    " *ngIf="!isApp"  >
    <input type="file"  name="image_file[]" accept="image/*" multiple="multiple"  (change)="handleInputChange($event)"  style="display:none;"/>
    <span class="button-innter">写真を投稿する</span>
    <button ion-button full (click)="send()" >写真なしで投稿する</button>
  </label>
</span>
</ion-content>
