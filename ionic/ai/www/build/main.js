webpackJsonp([0],{162:function(n,l){function a(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}a.keys=function(){return[]},a.resolve=a,n.exports=a,a.id=162},196:function(n,l){function a(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}a.keys=function(){return[]},a.resolve=a,n.exports=a,a.id=196},243:function(n,l,a){"use strict";function t(n){return o._19(0,[(n()(),o.Z(0,0,null,null,2,"ion-nav",[],null,null,null,j.b,j.a)),o._14(6144,null,C.a,null,[Z.a]),o.Y(2,4374528,null,0,Z.a,[[2,P.a],[2,D.a],M.a,S.a,O.a,o.j,o.u,o.z,o.i,Y.l,A.a,[2,T.a],q.a,o.k],{root:[0,"root"]},null),(n()(),o._18(-1,null,["\n"]))],function(n,l){n(l,2,0,l.component.rootPage)},null)}function e(n){return o._19(0,[o._16(402653184,1,{canvasElm:0}),o._16(402653184,2,{videoElm:0}),(n()(),o._18(-1,null,["\n"])),(n()(),o.Z(3,0,null,null,25,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,G.b,G.a)),o.Y(4,4374528,null,0,I.a,[S.a,O.a,q.a,o.j,o.z,M.a,R.a,o.u,[2,P.a],[2,D.a]],null,null),(n()(),o._18(-1,1,["\n  "])),(n()(),o._18(-1,1,["\n  "])),(n()(),o.Z(7,0,null,1,20,"div",[["style","text-align:center"]],null,null,null,null,null)),(n()(),o._18(-1,null,["\n      "])),(n()(),o.Z(9,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o._18(10,null,["\n          Welcome to ","!\n      "])),(n()(),o._18(-1,null,["\n      "])),(n()(),o.Z(12,0,null,null,14,"div",[["style","height:200px;text-align:center"]],null,null,null,null,null)),(n()(),o._18(-1,null,["\n          "])),(n()(),o.Z(14,0,[[2,0],["video",1]],null,0,"video",[["autoplay",""],["height","300"],["id","video"],["playsinline",""],["width","300"]],null,null,null,null,null)),(n()(),o._18(-1,null,["\n          "])),(n()(),o.Z(16,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o._18(-1,null,["\n          "])),(n()(),o.Z(18,0,[[1,0],["myCanvas",1]],null,0,"canvas",[["height","100"],["width","100"]],null,null,null,null,null)),(n()(),o._18(-1,null,["\n          "])),(n()(),o.Z(20,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),o._18(21,null,["",""])),(n()(),o._18(-1,null,["\n          "])),(n()(),o.Z(23,0,null,null,2,"button",[["ion-button",""]],null,[[null,"click"]],function(n,l,a){var t=!0;if("click"===l){t=!1!==n.component.onClick()&&t}return t},V.b,V.a)),o.Y(24,1097728,null,0,W.a,[[8,""],S.a,o.j,o.z],null,null),(n()(),o._18(-1,0,["写真撮る"])),(n()(),o._18(-1,null,["\n      "])),(n()(),o._18(-1,null,["\n  "])),(n()(),o._18(-1,1,["\n"])),(n()(),o._18(-1,null,["\n"]))],null,function(n,l){var a=l.component;n(l,3,0,o._11(l,4).statusbarPadding,o._11(l,4)._hasRefresher);n(l,10,0,a.title);n(l,21,0,a.reslt)})}Object.defineProperty(l,"__esModule",{value:!0});var u=a(48),o=a(0),i=(a(2),a(109),a(97)),r=a(98),c=a(277),s=this&&this.__awaiter||function(n,l,a,t){return new(a||(a=Promise))(function(e,u){function o(n){try{r(t.next(n))}catch(n){u(n)}}function i(n){try{r(t.throw(n))}catch(n){u(n)}}function r(n){n.done?e(n.value):new a(function(l){l(n.value)}).then(o,i)}r((t=t.apply(n,l||[])).next())})},_=this&&this.__generator||function(n,l){function a(a){return function(o){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,e&&(u=e[2&a[0]?"return":a[0]?"throw":"next"])&&!(u=u.call(e,a[1])).done)return u;switch(e=0,u&&(a=[0,u.value]),a[0]){case 0:case 1:u=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,e=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!u||a[1]>u[0]&&a[1]<u[3])){i.label=a[1];break}if(6===a[0]&&i.label<u[1]){i.label=u[1],u=a;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(a);break}u[2]&&i.ops.pop(),i.trys.pop();continue}a=l.call(n,i)}catch(n){a=[6,n],e=0}finally{t=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}var t,e,u,o,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},f=function(){function n(n,l){this.navCtrl=n,this.loadingCtrl=l,this.title="Apps",this.reslt="",this.medias={audio:!1,video:{facingMode:{exact:"environment"}}}}return n.prototype.onClick=function(){this.draw()},n.prototype.ionViewDidLoad=function(){var n=this;/iP(hone|(o|a)d)/.test(navigator.userAgent)||(this.medias.video=!0),this.startCamera();var l=this.loadingCtrl.create({content:"Please wait..."});l.present(),this.model=this.getFromModelAsync(),setTimeout(function(){var a=n.canvasElm.nativeElement.getContext("2d");a.fillStyle="rgb(255, 255, 255)",a.fillRect(0,0,100,100);var t=a.getImageData(0,0,100,100),e=c.fromPixels(t,3);e=(e=(e=c.cast(e,"float32").div(c.scalar(255))).transpose([2,0,1])).expandDims(),n.model.then(function(n){l.dismiss(),n.predict(e).dataSync()})},2e3)},n.prototype.getFromModelAsync=function(){return s(this,void 0,void 0,function(){return _(this,function(n){switch(n.label){case 0:return[4,c.loadModel("assets/model/model.json")];case 1:return[2,n.sent()]}})})},n.prototype.startCamera=function(){var n=this;window.navigator.mediaDevices.getUserMedia(this.medias).then(function(l){return n.videoElm.nativeElement.srcObject=l}).catch(function(n){alert(n)})},n.prototype.firstDraw=function(){},n.prototype.draw=function(){var n=this;this.reslt="";var l=this.canvasElm.nativeElement.getContext("2d");l.clearRect(0,0,100,100),this.canvasElm.nativeElement.width=100,this.canvasElm.nativeElement.height=100,l&&(l.drawImage(this.videoElm.nativeElement,0,0,100,100),setTimeout(function(){var a=l.getImageData(0,0,100,100),t=c.fromPixels(a,3);t=(t=(t=c.cast(t,"float32").div(c.scalar(255))).transpose([2,0,1])).expandDims(),n.model.then(function(l){console.log(l);var a=l.predict(t).dataSync(),e=a.indexOf(Math.max.apply(null,a));console.log(a),0==e?n.reslt="orange":1==e&&(n.reslt="apple")})},200))},n}(),d=function(){return function(n,l,a){this.rootPage=f,n.ready().then(function(){l.styleDefault(),a.hide()})}}(),h=function(){return function(){}}(),p=a(66),m=a(362),v=a(363),b=a(364),g=a(365),y=a(366),w=a(367),k=a(368),x=a(369),E=a(370),j=a(371),C=a(51),Z=a(73),P=a(5),D=a(30),M=a(10),S=a(1),O=a(4),Y=a(9),A=a(42),T=a(23),q=a(11),z=o.X({encapsulation:2,styles:[],data:{}}),F=o.V("ng-component",d,function(n){return o._19(0,[(n()(),o.Z(0,0,null,null,1,"ng-component",[],null,null,null,t,z)),o.Y(1,49152,null,0,d,[O.a,r.a,i.a],null,null)],null,null)},{},{},[]),G=a(372),I=a(33),R=a(44),V=a(64),W=a(31),X=a(89),B=o.X({encapsulation:2,styles:[],data:{}}),J=o.V("page-home",f,function(n){return o._19(0,[(n()(),o.Z(0,0,null,null,1,"page-home",[],null,null,null,e,B)),o.Y(1,49152,null,0,f,[D.a,X.a],null,null)],null,null)},{},{},[]),L=a(27),U=a(142),H=a(28),K=a(113),N=a(115),Q=a(139),$=a(25),nn=a(45),ln=a(223),an=a(68),tn=a(60),en=a(122),un=a(83),on=a(127),rn=a(138),cn=a(134),sn=a(222),_n=a(140),fn=a(40),dn=a(121),hn=a(141),pn=o.W(h,[p.b],function(n){return o._7([o._8(512,o.i,o.S,[[8,[m.a,v.a,b.a,g.a,y.a,w.a,k.a,x.a,E.a,F,J]],[3,o.i],o.s]),o._8(5120,o.r,o._15,[[3,o.r]]),o._8(4608,L.k,L.j,[o.r,[2,L.s]]),o._8(5120,o.b,o._1,[]),o._8(5120,o.p,o._9,[]),o._8(5120,o.q,o._12,[]),o._8(4608,u.c,u.q,[L.c]),o._8(6144,o.D,null,[u.c]),o._8(4608,u.f,U.a,[]),o._8(5120,u.d,function(n,l,a,t,e){return[new u.k(n,l),new u.o(a),new u.n(t,e)]},[L.c,o.u,L.c,L.c,u.f]),o._8(4608,u.e,u.e,[u.d,o.u]),o._8(135680,u.m,u.m,[L.c]),o._8(4608,u.l,u.l,[u.e,u.m]),o._8(6144,o.B,null,[u.l]),o._8(6144,u.p,null,[u.m]),o._8(4608,o.G,o.G,[o.u]),o._8(4608,u.h,u.h,[L.c]),o._8(4608,u.i,u.i,[L.c]),o._8(4608,H.k,H.k,[]),o._8(4608,H.c,H.c,[]),o._8(4608,K.a,K.a,[M.a,S.a]),o._8(4608,N.a,N.a,[M.a,S.a]),o._8(4608,Q.a,Q.a,[]),o._8(4608,$.a,$.a,[]),o._8(4608,nn.a,nn.a,[O.a]),o._8(4608,R.a,R.a,[S.a,O.a,o.u,q.a]),o._8(4608,X.a,X.a,[M.a,S.a]),o._8(5120,L.f,ln.b,[L.q,[2,L.a],S.a]),o._8(4608,L.e,L.e,[L.f]),o._8(5120,an.b,an.d,[M.a,an.a]),o._8(5120,T.a,T.b,[M.a,an.b,L.e,tn.b,o.i]),o._8(4608,en.a,en.a,[M.a,S.a,T.a]),o._8(4608,un.a,un.a,[M.a,S.a]),o._8(4608,on.a,on.a,[M.a,S.a,T.a]),o._8(4608,rn.a,rn.a,[S.a,O.a,q.a,M.a,Y.l]),o._8(4608,cn.a,cn.a,[M.a,S.a]),o._8(4608,A.a,A.a,[O.a,S.a]),o._8(4608,r.a,r.a,[]),o._8(4608,i.a,i.a,[]),o._8(512,L.b,L.b,[]),o._8(512,o.k,sn.a,[]),o._8(256,S.b,{},[]),o._8(1024,_n.a,_n.b,[]),o._8(1024,O.a,O.b,[u.b,_n.a,o.u]),o._8(1024,S.a,S.c,[S.b,O.a]),o._8(512,q.a,q.a,[O.a]),o._8(512,fn.a,fn.a,[]),o._8(512,M.a,M.a,[S.a,O.a,[2,fn.a]]),o._8(512,Y.l,Y.l,[M.a]),o._8(256,an.a,{links:[]},[]),o._8(512,o.h,o.h,[]),o._8(512,dn.a,dn.a,[o.h]),o._8(1024,tn.b,tn.c,[dn.a,o.o]),o._8(1024,o.c,function(n,l,a,t,e,o,i,r,c,s,_,f,d){return[u.s(n),hn.a(l),Q.b(a,t),rn.b(e,o,i,r,c),tn.d(s,_,f,d)]},[[2,o.t],S.a,O.a,q.a,S.a,O.a,q.a,M.a,Y.l,S.a,an.a,tn.b,o.u]),o._8(512,o.d,o.d,[[2,o.c]]),o._8(131584,o.f,o.f,[o.u,o.T,o.o,o.k,o.i,o.d]),o._8(512,o.e,o.e,[o.f]),o._8(512,u.a,u.a,[[3,u.a]]),o._8(512,H.j,H.j,[]),o._8(512,H.d,H.d,[]),o._8(512,H.i,H.i,[]),o._8(512,ln.a,ln.a,[]),o._8(512,h,h,[]),o._8(256,p.a,d,[]),o._8(256,L.a,"/",[])])});Object(o.M)(),Object(u.j)().bootstrapModuleFactory(pn)},290:function(n,l){}},[243]);