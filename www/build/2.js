webpackJsonp([2],{240:function(n,e,t){"use strict";function l(n){!1===n.diseases&&setTimeout(function(){3===n.parent_id?n.translucent=80:(n.translucent=100,n.disabled=!1);var e=!1;if(j.forEach(function(t){t.name===n.name&&(e=!0)}),!e)try{var t=new M.d;t.load("assets/obj/"+n.name+".json",function(e){var l=new M.j(n.material),a=new M.i(e,l);a.geometry.computeVertexNormals(),a.traverse&&a.traverse(function(e){e.material&&(e.material.opacity=n.translucent/100,e.material.transparent=!0,e.material.depthTest=!0,e.material.side=M.f)},I),a.name=n.name,a.position.y=+T,j.push(a),D.add(a),t=null},I)}catch(n){console.log(n)}},10)}function a(n,e){setTimeout(function(){var t=new M.d;t.load(e.Modelurl,function(t){var l=.5,a=.2;["erjianban","zhudongmaiban","sanjianban","feidongmaiban"].indexOf(n.name)>=0&&(l=.3,a=0);var i,s,r;try{i=e.Mapurl&&""!=e.Mapurl?E.load(e.Mapurl):O,s=e.Mapurl_b&&""!=e.Mapurl_b?E.load(e.Mapurl_b):A,r=e.Mapurl_n&&""!=e.Mapurl_n?E.load(e.Mapurl_n):F}catch(n){console.log(n)}["erjianban","zhudongmaiban","sanjianban","feidongmaiban"].indexOf(n.name)>=0&&(l=.3,a=0,s="",r="");try{var o=new M.j({map:i,normalMap:r,roughness:l,roughnessMap:s,metalness:a,color:13684410});i=null,s=null,r=null;var u=new M.i(t,o);u.geometry.computeVertexNormals(),u.traverse&&(u.traverse(function(e){e.material&&(["erjianban","zhudongmaiban","sanjianban","feidongmaiban"].indexOf(n.name)>=0&&(e.material.opacity=.8),e.material.transparent=!0,e.material.depthTest=!0,e.material.side=M.f)},Y,I),setTimeout(function(){u.name=n.name,u.position.y=+T,j.push(u),D.add(u),o=null,u=null},10))}catch(n){console.log(n)}}),t=null},200)}function i(n){return v._22(0,[v._10(null,0)],null,null)}function s(n){return v._22(2,[(n()(),v.Z(0,0,null,null,1,"ion-icon",[["class","fab-close-icon"],["name","close"],["role","img"]],[[2,"hide",null]],null,null,null,null)),v.Y(1,147456,null,0,mn.a,[en.a,v.j,v.z],{name:[0,"name"]},null),(n()(),v.Z(2,0,null,null,1,"span",[["class","button-inner"]],null,null,null,null,null)),v._10(null,0),(n()(),v.Z(4,0,null,null,0,"div",[["class","button-effect"]],null,null,null,null,null))],function(n,e){n(e,1,0,"close")},function(n,e){n(e,0,0,v._11(e,1)._hidden)})}function r(n){return v._22(0,[(n()(),v.Z(0,0,null,null,11,"div",[["style","    position: fixed;color:white; width: 75%; top:20px;right:0;"]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n  "])),(n()(),v.Z(2,0,null,null,8,"h5",[["class","bingyin"],["style","text-overflow: ellipsis;overflow: hidden;font-weight:400;font-size:14px;text-align:right;padding-right:20px;"],["text-nowrap",""]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n      "])),(n()(),v.Z(4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),v._20(5,null,["  ",""])),(n()(),v.Z(6,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),v._20(-1,null,["\n      "])),(n()(),v.Z(8,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),v._20(9,null,["",""])),(n()(),v._20(-1,null,["\n    "])),(n()(),v._20(-1,null,["\n"]))],null,function(n,e){var t=e.component;n(e,5,0,t.disease_name);n(e,9,0,t.surgery_name)})}function o(n){return v._22(0,[(n()(),v.Z(0,0,null,null,37,"div",[],null,null,null,null,null)),(n()(),v._20(-1,null,["\n  "])),(n()(),v.Z(2,0,null,null,1,"div",[["ion-fixed",""],["style","\n  margin:0 auto;\n  width:100%;\n  display: flex;\n  bottom: 200px;\n  "]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n  "])),(n()(),v._20(-1,null,["\n  "])),(n()(),v.Z(5,0,null,null,31,"div",[["class","fixed-div-bottom-center"],["ion-fixed",""],["style","\n  right: 0;\n  display: flex;\n  bottom: 0px; z-index: 1000; width: 100%; background: #242529"]],null,null,null,null,null)),(n()(),v._20(-1,null,[" "])),(n()(),v.Z(7,0,null,null,8,"div",[["class","fab-box"],["style","    width: 33.3%; height: 45px;  margin: 0px;"]],null,null,null,null,null)),(n()(),v._20(-1,null,[" "])),(n()(),v.Z(9,0,null,null,5,"button",[["class","anniu_dark"],["color","primary"],["ion-button",""],["style","width:100%;\n  margin: 0px;\n  border-radius: 0px;\n  "]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;if("click"===e){l=!1!==n.component.playAnimation()&&l}return l},un.b,un.a)),v.Y(10,1097728,null,0,dn.a,[[8,""],en.a,v.j,v.z],{color:[0,"color"]},null),(n()(),v._20(-1,0,["\n      "])),(n()(),v.Z(12,0,null,0,1,"ion-icon",[["class","anniu_ionc"],["name","play"],["role","img"],["style","flex: 1; font-size: 1.6rem; "]],[[2,"hide",null]],null,null,null,null)),v.Y(13,147456,null,0,mn.a,[en.a,v.j,v.z],{name:[0,"name"]},null),(n()(),v._20(-1,0,["\n  "])),(n()(),v._20(-1,null,["\n  "])),(n()(),v._20(-1,null,["\n  "])),(n()(),v.Z(17,0,null,null,8,"div",[["class","fab-box"],["style","width: 33.3%; height: 45px;  margin: 0px;"]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n    "])),(n()(),v.Z(19,0,null,null,5,"button",[["class","anniu_dark"],["color","primary"],["ion-button",""],["style","width:100%;\n    margin: 0px;\n    border-radius: 0px;\n    "]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;if("click"===e){l=!1!==n.component.pauseAnimation()&&l}return l},un.b,un.a)),v.Y(20,1097728,null,0,dn.a,[[8,""],en.a,v.j,v.z],{color:[0,"color"]},null),(n()(),v._20(-1,0,["\n      "])),(n()(),v.Z(22,0,null,0,1,"ion-icon",[["class","anniu_ionc"],["name","pause"],["role","img"],["style","flex: 1; font-size: 1.6rem; "]],[[2,"hide",null]],null,null,null,null)),v.Y(23,147456,null,0,mn.a,[en.a,v.j,v.z],{name:[0,"name"]},null),(n()(),v._20(-1,0,["\n    "])),(n()(),v._20(-1,null,["\n  "])),(n()(),v._20(-1,null,["\n\n  "])),(n()(),v.Z(27,0,null,null,8,"div",[["class","fab-box"],["style","    width: 33.3%; height: 45px; margin: 0px; "]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n    "])),(n()(),v.Z(29,0,null,null,5,"button",[["class","anniu_dark"],["color","primary"],["ion-button",""],["style","width:100%;\n    margin: 0px;\n    border-radius: 0px;\n    "]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;if("click"===e){l=!1!==n.component.changeNormal()&&l}return l},un.b,un.a)),v.Y(30,1097728,null,0,dn.a,[[8,""],en.a,v.j,v.z],{color:[0,"color"]},null),(n()(),v._20(-1,0,["\n      "])),(n()(),v.Z(32,0,null,0,1,"ion-icon",[["class","anniu_ionc"],["name","square"],["role","img"],["style","flex: 1; font-size: 1.6rem;"]],[[2,"hide",null]],null,null,null,null)),v.Y(33,147456,null,0,mn.a,[en.a,v.j,v.z],{name:[0,"name"]},null),(n()(),v._20(-1,0,["\n    "])),(n()(),v._20(-1,null,["\n  "])),(n()(),v._20(-1,null,["\n  "])),(n()(),v._20(-1,null,["\n\n"]))],function(n,e){n(e,10,0,"primary");n(e,13,0,"play");n(e,20,0,"primary");n(e,23,0,"pause");n(e,30,0,"primary");n(e,33,0,"square")},function(n,e){var t=e.component;n(e,9,0,t.myDisabled[7]);n(e,12,0,v._11(e,13)._hidden);n(e,19,0,t.myDisabled[8]);n(e,22,0,v._11(e,23)._hidden);n(e,29,0,t.myDisabled[1]);n(e,32,0,v._11(e,33)._hidden)})}function u(n){return v._22(0,[(n()(),v.Z(0,0,null,null,9,"div",[],null,null,null,null,null)),(n()(),v._20(-1,null,["\n    "])),(n()(),v.Z(2,0,null,null,6,"button",[["clear",""],["color","primary"],["ion-button",""],["large",""]],null,[[null,"click"]],function(n,e,t){var l=!0;if("click"===e){l=!1!==n.component.toggleMenu()&&l}return l},un.b,un.a)),v.Y(3,1097728,null,0,dn.a,[[8,""],en.a,v.j,v.z],{color:[0,"color"],large:[1,"large"],clear:[2,"clear"]},null),(n()(),v._20(-1,0,["\n      "])),(n()(),v.Z(5,0,null,0,2,"ion-icon",[["color","light"],["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),v.Y(6,147456,null,0,mn.a,[en.a,v.j,v.z],{color:[0,"color"],name:[1,"name"]},null),(n()(),v._20(-1,null,[" "])),(n()(),v._20(-1,0,["\n    "])),(n()(),v._20(-1,null,["\n  "]))],function(n,e){n(e,3,0,"primary","","");n(e,6,0,"light","menu")},function(n,e){n(e,5,0,v._11(e,6)._hidden)})}function d(n){return v._22(0,[(n()(),v.Z(0,0,null,null,4,"div",[["text-center",""]],null,null,null,null,null)),(n()(),v._20(-1,null,[" \n    "])),(n()(),v.Z(2,0,null,null,1,"ion-spinner",[["color","primary"],["margin-top",""],["style","margin: auto; position: absolute; top: 0; left: 0; bottom: 0; right: 0;"]],[[2,"spinner-paused",null]],null,null,cn.b,cn.a)),v.Y(3,114688,null,0,hn.a,[en.a,v.j,v.z],{color:[0,"color"]},null),(n()(),v._20(-1,null,["\n  "]))],function(n,e){n(e,3,0,"primary")},function(n,e){n(e,2,0,v._11(e,3)._paused)})}function m(n){return v._22(0,[(n()(),v.Z(0,0,null,null,39,"div",[],null,null,null,null,null)),(n()(),v._20(-1,null,["\n  "])),(n()(),v.Z(2,0,null,null,36,"ion-fab",[["bottom",""],["class","threeOp"],["right",""],["style",""]],null,null,null,i,fn)),v.Y(3,1228800,null,2,pn.a,[tn.a],null,null),v._18(335544320,3,{_mainButton:0}),v._18(603979776,4,{_fabLists:1}),(n()(),v._20(-1,0,["\n    "])),(n()(),v.Z(7,0,null,0,5,"button",[["ion-fab",""],["mini",""]],null,null,null,s,_n)),v.Y(8,49152,[[3,4],["fab",4]],0,gn.a,[en.a,v.j,v.z],null,null),(n()(),v._20(-1,0,["\n      "])),(n()(),v.Z(10,0,null,0,1,"ion-icon",[["name","add"],["role","img"]],[[2,"hide",null]],null,null,null,null)),v.Y(11,147456,null,0,mn.a,[en.a,v.j,v.z],{name:[0,"name"]},null),(n()(),v._20(-1,0,["\n    "])),(n()(),v._20(-1,0,["\n    "])),(n()(),v.Z(14,0,null,0,23,"ion-fab-list",[["side","top"]],null,null,null,null,null)),v.Y(15,16384,[[4,4]],1,yn.a,[v.j,v.z,en.a,tn.a],null,null),v._18(603979776,5,{_setbuttons:1}),(n()(),v._20(-1,null,["\n      "])),(n()(),v.Z(18,0,null,null,1,"div",[["class","button_bottom_text"]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n        回撤\n      "])),(n()(),v._20(-1,null,["\n      "])),(n()(),v.Z(21,0,null,null,5,"button",[["class","remove-bottom"],["fab-bottom",""],["fab-right",""],["ion-fab",""],["style","z-index:19999;"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;if("click"===e){l=!1!==n.component.unDo()&&l}return l},s,_n)),v.Y(22,49152,[[5,4],[3,4]],0,gn.a,[en.a,v.j,v.z],{color:[0,"color"]},null),(n()(),v._20(-1,0,["\n        "])),(n()(),v.Z(24,0,null,0,1,"ion-icon",[["ios","ios-undo"],["md","md-undo"],["role","img"]],[[2,"hide",null]],null,null,null,null)),v.Y(25,147456,null,0,mn.a,[en.a,v.j,v.z],{ios:[0,"ios"],md:[1,"md"]},null),(n()(),v._20(-1,0,["\n      "])),(n()(),v._20(-1,null,["\n\n      "])),(n()(),v.Z(28,0,null,null,1,"div",[["class","button_bottom_text"]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n        移除\n      "])),(n()(),v._20(-1,null,["\n      "])),(n()(),v.Z(31,0,null,null,5,"button",[["class","remove-bottom"],["fab-right",""],["ion-fab",""]],null,[[null,"click"]],function(n,e,t){var l=!0;if("click"===e){l=!1!==n.component.toggleCut()&&l}return l},s,_n)),v.Y(32,49152,[[5,4],[3,4]],0,gn.a,[en.a,v.j,v.z],{color:[0,"color"]},null),(n()(),v._20(-1,0,["\n        "])),(n()(),v.Z(34,0,null,0,1,"ion-icon",[["name","cut"],["role","img"]],[[2,"hide",null]],null,null,null,null)),v.Y(35,147456,null,0,mn.a,[en.a,v.j,v.z],{name:[0,"name"]},null),(n()(),v._20(-1,0,["\n      "])),(n()(),v._20(-1,null,["\n\n    "])),(n()(),v._20(-1,0,["\n  "])),(n()(),v._20(-1,null,["\n\n"]))],function(n,e){var t=e.component;n(e,11,0,"add");n(e,22,0,v._2(1,"",t.myColor[5],""));n(e,25,0,"ios-undo","md-undo");n(e,32,0,v._2(1,"",t.myColor[0],""));n(e,35,0,"cut")},function(n,e){var t=e.component;n(e,10,0,v._11(e,11)._hidden);n(e,21,0,t.myDisabled[9]);n(e,24,0,v._11(e,25)._hidden);n(e,34,0,v._11(e,35)._hidden)})}function c(n){return v._22(0,[(n()(),v.Z(0,0,null,null,41,"div",[["id","fabcen"]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n    "])),(n()(),v.Z(2,0,null,null,8,"div",[["class","fabText"]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n        "])),(n()(),v.Z(4,0,null,null,5,"button",[["color","primary"],["ion-fab",""],["mini",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;if("click"===e){l=!1!==n.component.openModal()&&l}return l},s,_n)),v.Y(5,49152,null,0,gn.a,[en.a,v.j,v.z],{color:[0,"color"]},null),(n()(),v._20(-1,0,["\n            "])),(n()(),v.Z(7,0,null,0,1,"ion-icon",[["ios","ios-address-book"],["md","md-address-book"],["role","img"]],[[2,"hide",null]],null,null,null,null)),v.Y(8,147456,null,0,mn.a,[en.a,v.j,v.z],{ios:[0,"ios"],md:[1,"md"]},null),(n()(),v._20(-1,0,["\n        "])),(n()(),v._20(-1,null,["\n           病历夹\n    "])),(n()(),v._20(-1,null,["\n    "])),(n()(),v.Z(12,0,null,null,8,"div",[["class","fabText"]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n        "])),(n()(),v.Z(14,0,null,null,5,"button",[["color","primary"],["ion-fab",""],["mini",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;if("click"===e){l=!1!==n.component.changeNormal()&&l}return l},s,_n)),v.Y(15,49152,null,0,gn.a,[en.a,v.j,v.z],{color:[0,"color"]},null),(n()(),v._20(-1,0,["\n            "])),(n()(),v.Z(17,0,null,0,1,"ion-icon",[["ios","ios-heart"],["md","md-heart"],["role","img"]],[[2,"hide",null]],null,null,null,null)),v.Y(18,147456,null,0,mn.a,[en.a,v.j,v.z],{ios:[0,"ios"],md:[1,"md"]},null),(n()(),v._20(-1,0,["\n        "])),(n()(),v._20(-1,null,["\n            正常\n    "])),(n()(),v._20(-1,null,["\n    "])),(n()(),v.Z(22,0,null,null,8,"div",[["class","fabText"]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n        "])),(n()(),v.Z(24,0,null,null,5,"button",[["color","primary"],["ion-fab",""],["mini",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0,a=n.component;if("click"===e){l=!1!==a.openDiseases("5af9749dfad2135cfc733f55","室间隔缺损","",a.parent_id)&&l}return l},s,_n)),v.Y(25,49152,null,0,gn.a,[en.a,v.j,v.z],{color:[0,"color"]},null),(n()(),v._20(-1,0,["\n            "])),(n()(),v.Z(27,0,null,0,1,"ion-icon",[["ios","ios-heartbeat"],["md","md-heartbeat"],["role","img"]],[[2,"hide",null]],null,null,null,null)),v.Y(28,147456,null,0,mn.a,[en.a,v.j,v.z],{ios:[0,"ios"],md:[1,"md"]},null),(n()(),v._20(-1,0,["\n        "])),(n()(),v._20(-1,null,["\n            病理\n    "])),(n()(),v._20(-1,null,["\n    "])),(n()(),v.Z(32,0,null,null,8,"div",[["class","fabText"]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n        "])),(n()(),v.Z(34,0,null,null,5,"button",[["color","primary"],["ion-fab",""],["mini",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0,a=n.component;if("click"===e){l=!1!==a.openDiseases("590c5f1ae038e419d0fed8e7","窦性心动过速","",a.parent_id)&&l}return l},s,_n)),v.Y(35,49152,null,0,gn.a,[en.a,v.j,v.z],{color:[0,"color"]},null),(n()(),v._20(-1,0,["\n            "])),(n()(),v.Z(37,0,null,0,1,"ion-icon",[["ios","ios-heartbeat"],["md","md-heartbeat"],["role","img"]],[[2,"hide",null]],null,null,null,null)),v.Y(38,147456,null,0,mn.a,[en.a,v.j,v.z],{ios:[0,"ios"],md:[1,"md"]},null),(n()(),v._20(-1,0,["\n        "])),(n()(),v._20(-1,null,["\n            动画\n    "])),(n()(),v._20(-1,null,["\n"]))],function(n,e){n(e,5,0,"primary");n(e,8,0,"ios-address-book","md-address-book");n(e,15,0,"primary");n(e,18,0,"ios-heart","md-heart");n(e,25,0,"primary");n(e,28,0,"ios-heartbeat","md-heartbeat");n(e,35,0,"primary");n(e,38,0,"ios-heartbeat","md-heartbeat")},function(n,e){var t=e.component;n(e,4,0,t.myDisabled[1]);n(e,7,0,v._11(e,8)._hidden);n(e,14,0,t.myDisabled[1]);n(e,17,0,v._11(e,18)._hidden);n(e,24,0,t.myDisabled[2]);n(e,27,0,v._11(e,28)._hidden);n(e,34,0,t.myDisabled[2]);n(e,37,0,v._11(e,38)._hidden)})}function h(n){return v._22(0,[v._18(402653184,1,{threeContent:0}),v._18(402653184,2,{graphCanvas:0}),(n()(),v.Z(2,0,null,null,16,"div",[],null,null,null,null,null)),v.Y(3,278528,null,0,bn.m,[v.q,v.j,v.A],{ngStyle:[0,"ngStyle"]},null),v._14(4,{bottom:0,position:1,width:2,height:3,display:4,margin:5}),(n()(),v._20(-1,null,["\n  "])),(n()(),v.Z(6,0,null,null,11,"div",[["id","cwrap"],["style","width:400px;margin-bottom:100px;margin:0 auto;overflow:hidden;position:relative"]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n    "])),(n()(),v.Z(8,0,[[2,0],["graphCanvas",1]],null,3,"canvas",[["height","72"],["width","400"]],null,null,null,null,null)),v.Y(9,278528,null,0,bn.m,[v.q,v.j,v.A],{ngStyle:[0,"ngStyle"]},null),v._14(10,{background:0,margin:1,width:2,"margin-top":3,display:4}),(n()(),v._20(-1,null,[" "])),(n()(),v._20(-1,null,["\n    "])),(n()(),v.Z(13,0,null,null,3,"div",[],null,null,null,null,null)),v.Y(14,278528,null,0,bn.m,[v.q,v.j,v.A],{ngStyle:[0,"ngStyle"]},null),v._14(15,{"background-color":0,width:1,height:2,"margin-left":3,"margin-top":4,position:5}),(n()(),v._20(-1,null,[" "])),(n()(),v._20(-1,null,["\n  "])),(n()(),v._20(-1,null,["\n\n"])),(n()(),v._20(-1,null,["\n"])),(n()(),v.U(16777216,null,null,1,null,r)),v.Y(21,16384,null,0,bn.j,[v.I,v.F],{ngIf:[0,"ngIf"]},null),(n()(),v._20(-1,null,["\n"])),(n()(),v.U(16777216,null,null,1,null,o)),v.Y(24,16384,null,0,bn.j,[v.I,v.F],{ngIf:[0,"ngIf"]},null),(n()(),v._20(-1,null,["\n"])),(n()(),v.Z(26,0,null,null,6,"div",[["style","position: fixed; top:0px /*left: -315px; top: 20px;z-index: 999;margin-left: 334px*/"]],null,null,null,null,null)),v.Y(27,278528,null,0,bn.m,[v.q,v.j,v.A],{ngStyle:[0,"ngStyle"]},null),v._14(28,{top:0,"z-index":1}),(n()(),v._20(-1,null,["\n  "])),(n()(),v.U(16777216,null,null,1,null,u)),v.Y(31,16384,null,0,bn.j,[v.I,v.F],{ngIf:[0,"ngIf"]},null),(n()(),v._20(-1,null,["\n"])),(n()(),v._20(-1,null,["\n"])),(n()(),v.Z(34,0,null,null,6,"div",[["style"," background:radial-gradient(#fff, #5d5d5d); height:100%;overflow:hidden "]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n  "])),(n()(),v.U(16777216,null,null,1,null,d)),v.Y(37,16384,null,0,bn.j,[v.I,v.F],{ngIf:[0,"ngIf"]},null),(n()(),v._20(-1,null,["\n  "])),(n()(),v.Z(39,0,[[1,0],["threeContent",1]],null,0,"div",[["id","threeContent"],["style"," margin: 0 auto; text-align:center;"]],null,null,null,null,null)),(n()(),v._20(-1,null,["\n"])),(n()(),v._20(-1,null,["\n"])),(n()(),v._20(-1,null,["\n"])),(n()(),v.U(16777216,null,null,1,null,m)),v.Y(44,16384,null,0,bn.j,[v.I,v.F],{ngIf:[0,"ngIf"]},null),(n()(),v._20(-1,null,["\n\n"])),(n()(),v.U(16777216,null,null,1,null,c)),v.Y(47,16384,null,0,bn.j,[v.I,v.F],{ngIf:[0,"ngIf"]},null),(n()(),v._20(-1,null,["\n\n"]))],function(n,e){var t=e.component;n(e,3,0,n(e,4,0,"100px","fixed","100%","100px",t.myDisplay,"0 auto"));n(e,9,0,n(e,10,0,"#000","0 auto","400px","50px","block"));n(e,14,0,n(e,15,0,"lime","3px","70px",t.moveLine,"-70px","relative"));n(e,21,0,t.disease_name);n(e,24,0,t.animationView);n(e,27,0,n(e,28,0,"5px","999"));n(e,31,0,!t.menuView);n(e,37,0,!t.isLoad);n(e,44,0,!t.animationView);n(e,47,0,!t.animationView)},null)}function p(n){return v._22(0,[v._18(402653184,1,{sceneGraph:0}),(n()(),v.Z(1,0,null,null,5,"ion-content",[["class","no-scroll"],["style","height:100%; background: radial-gradient(#eadbdb, #5a5656); "]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,$.b,$.a)),v.Y(2,4374528,null,0,nn.a,[en.a,tn.a,ln.a,v.j,v.z,an.a,sn.a,v.u,[2,rn.a],[2,on.a]],null,null),(n()(),v._20(-1,1,["\n    "])),(n()(),v.Z(4,0,null,1,1,"scenegraph",[["geometry","box"],["style","height:100%; background: radial-gradient(#eadbdb, #5a5656);"]],null,null,null,h,Tn)),v.Y(5,4243456,[[1,4],["scenegraph",4]],0,V,[on.a,vn.a,wn.a,Mn.a,xn.a,w.a,Dn.a,tn.a],null,null),(n()(),v._20(-1,1,["\n"])),(n()(),v._20(-1,null,["\n"]))],null,function(n,e){n(e,1,0,v._11(e,2).statusbarPadding,v._11(e,2)._hasRefresher)})}Object.defineProperty(e,"__esModule",{value:!0});var f,g,_,y,b,v=t(0),w=(t(5),t(51),t(108)),M=(t(111),t(196)),x=t(245),D=new M.q,T=145,j=[],C=[],S=[],k=window.innerHeight,L=window.innerWidth,z=new M.m(40,L/k,1,2e4),I=function(n){};z.position.set(0,0,3e3),z.lookAt(0,0,0);var Z=function(){g=new M.a(11184810,.8),(_=new M.e(16777215,.9)).position.set(-500,400,1e3),(y=new M.e(16777215,.7)).position.set(5e3,-3e3,-5e3),(b=new M.n(16777215,.8)).position.set(-200,3e3,0),(D=new M.q).add(_),D.add(y),D.add(g),D.add(b)},E=new M.r;E.crossOrigin="";var O=E.load("assets/obj/texture.jpg"),F=E.load("assets/obj/texture-n.jpg"),A=E.load("assets/obj/texture-b.jpg"),Y=function(n){if(n.lengthComputable){var e=n.loaded/n.total*100;console.log(e)}},P=null,U=0,V=function(){function n(n,e,t,l,a,i,s,r){this.navCtrl=n,this.alertCtrl=e,this.modalCtrl=t,this.actionSheetCtrl=l,this.toastCtrl=a,this.apiService=i,this.storage=s,this.platform=r,this.isAnimating=!1,this.first=!1,this.myDisabled=[],this.myDisabled[0]=!1,this.myDisabled[1]=!1,this.myDisabled[2]=!1,this.myDisabled[3]=!1,this.myDisabled[4]=!1,this.myDisabled[5]=!1,this.myDisabled[6]=!1,this.myDisabled[7]=!1,this.myDisabled[8]=!1,this.myDisabled[9]=!1,this.myDisabled[10]=!1,this.myColor=["primary","gray","primary","primary","primary","primary"],this.myColor=["primary","gray","primary","primary","primary","primary"],this.patientData={}}return n.prototype.ngAfterViewInit=function(){var n=this;this.loopAray=null,this.animateFrame=0,this.myDisplay="none",this.isPlay=!1,this.newFile=null,this.totalFrame=0,this.isRecord=!1,this.currentFrame=0,this.isLoad=!1,this.path="",this.recordIcon="microphone",this.recordTitle="录音",this.recordTime=0,this.isUpdate=!1,this.loopAray=null,this.selectedObject=null,this.menuView=!0,this.patient_view=!1,this.showList=!1,this.toggle_cut=!1,this.myMargin="-260px",this.active=!1,this.myHeight="0",this.animationView=!1,this.isFirst=null,this.platform.ready().then(function(e){n.totalFrame=398,n.moveWidth=401}),console.log("ng after"),this.patient=!1,this.renderer=new M.u({alpha:!0,antialias:!0}),(f=new M.l(z,this.renderer.domElement)).enableZoom=!0,f.enableDamping=!0,f.minDistance=800,f.maxDistance=9e3,this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.autoClear=!1,this.renderer.setClearColor(16777215,0),this.renderer.setPixelRatio(1),this.renderer.gammaInput=!0,this.renderer.gammaOutput=!0,this.animate1=function(){if(requestAnimationFrame(n.animate1),n.loopAray&&n.isPlay){if(n.selectedObject){if(n.animateFrame++,P&&(U=P.model),n.totalFrame>n.currentFrame){P=n.loopAray[n.currentFrame],n.moveLine=0+(n.currentFrame+1)+"px",n.currentFrame++,n.selectedObject.morphTargetInfluences[U]=0;try{n.selectedObject.morphTargetInfluences[P.model]=P.percent/P.total}catch(n){console.log(P)}}else n.currentFrame<n.moveWidth&&(n.currentFrame=0,P=null,U=0,n.moveLine="0px");if(n.currentFrame%2==0)return;f.update(),n.render()}}else{if(f.update()){if(n.currentFrame%2==0)return;return void n.render()}if(1==n.isUpdate){if(n.currentFrame%2==0)return;return void n.render()}if(x.update()){if(n.currentFrame%2==0)return;return void n.render()}}},this.render=function(){n.renderer.clear(),n.renderer.render(D,z)},setTimeout(function(){n.threeContent.nativeElement.appendChild(n.renderer.domElement)},500),this.categories=[{id:1,title:"心房",childrentoggle:!1,children:[],icon:"ios-arrow-dropright-circle",height:"0",translucent:100,disabled:!1,destory:!1},{id:2,title:"心室",childrentoggle:!1,children:[],icon:"ios-arrow-dropright-circle",height:"0",translucent:100,disabled:!1,destory:!1},{id:3,title:"瓣膜",childrentoggle:!1,children:[],icon:"ios-arrow-dropright-circle",height:"0",translucent:100,disabled:!1,destory:!1},{id:4,title:"血管",childrentoggle:!1,children:[],icon:"ios-arrow-dropright-circle",height:"0",translucent:100,disabled:!1,destory:!1}],this.dataList=[{id:1,title:"左心房",name:"zuoxinfang",translucent:100,disabled:!1,material:{map:O,normalMap:F,roughness:.3,roughnessMap:A,normalScale:new M.s(1,-1),color:""},parent_id:1,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:2,title:"左心耳",name:"zuoxiner",translucent:100,disabled:!1,material:{map:O,normalMap:F,roughness:.3,roughnessMap:A,normalScale:new M.s(1,-1),color:""},parent_id:1,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:3,title:"右心房",name:"youxinfang",translucent:100,disabled:!1,material:{map:O,normalMap:F,roughness:.3,roughnessMap:A,normalScale:new M.s(1,-1),color:""},parent_id:1,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:4,title:"左心室",name:"zuoxinshi",translucent:100,disabled:!1,material:{map:O,normalMap:F,roughness:.3,roughnessMap:A,normalScale:new M.s(1,-1),color:""},parent_id:2,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:5,title:"右心室",name:"youxinshi",translucent:100,disabled:!1,material:{map:O,normalMap:F,roughness:.3,roughnessMap:A,normalScale:new M.s(1,-1),color:""},parent_id:2,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:6,title:"室间隔",name:"shijiange",translucent:100,disabled:!1,material:{map:O,normalMap:F,roughness:.3,roughnessMap:A,normalScale:new M.s(1,-1),color:""},parent_id:2,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:7,title:"二尖瓣",name:"erjianban",translucent:90,disabled:!1,material:{map:"",normalMap:"",roughness:.3,roughnessMap:"",normalScale:new M.s(1,-1),color:13684410},parent_id:3,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:8,title:"主动脉瓣",name:"zhudongmaiban",translucent:90,disabled:!1,material:{map:"",normalMap:"",roughness:.3,roughnessMap:"",normalScale:new M.s(1,-1),color:13684410},parent_id:3,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:9,title:"右室乳头肌",name:"youshirutouji",translucent:100,disabled:!1,material:{map:O,normalMap:F,roughness:.3,roughnessMap:A,normalScale:new M.s(1,-1),color:""},parent_id:3,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:10,title:"左室乳头肌",name:"zuoshirutouji",translucent:100,disabled:!1,material:{map:O,normalMap:F,roughness:.3,roughnessMap:A,normalScale:new M.s(1,-1),color:""},parent_id:3,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:11,title:"三尖瓣",name:"sanjianban",translucent:90,disabled:!1,material:{map:"",normalMap:"",roughness:.3,roughnessMap:"",normalScale:new M.s(1,-1),color:13684410},parent_id:3,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:12,title:"肺动脉瓣",name:"feidongmaiban",translucent:90,disabled:!1,material:{map:"",normalMap:"",roughness:.3,roughnessMap:"",normalScale:new M.s(1,-1),color:13684410},parent_id:3,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:13,title:"肺动脉",name:"feidongmai",translucent:100,disabled:!1,material:{map:O,normalMap:F,roughness:.3,roughnessMap:A,normalScale:new M.s(1,-1),color:""},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:14,title:"主动脉",name:"zhudongmai",translucent:100,disabled:!1,material:{map:O,normalMap:F,roughness:.3,roughnessMap:A,normalScale:new M.s(1,-1),color:""},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:15,title:"主动脉窦",name:"zhudongmaidou",translucent:100,disabled:!1,material:{map:O,normalMap:F,roughness:.3,roughnessMap:A,normalScale:new M.s(1,-1),color:""},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:16,title:"上下腔静脉",name:"shangxiaqiangjingmai",translucent:100,disabled:!1,material:{map:O,normalMap:F,roughness:.3,roughnessMap:A,normalScale:new M.s(1,-1),color:""},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:17,title:"冠状静脉",name:"guanzhuangjingmai",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:657967,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:18,title:"前降支近段",name:"qjzjd",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:19,title:"前降支中段",name:"qjzzd",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:20,title:"前降支远段",name:"qjzyd",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:21,title:"回旋支近段",name:"hxzjd",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:22,title:"回旋支中段",name:"hxzzd",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:23,title:"回旋支远段",name:"hxzyd",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:24,title:"第一对角支",name:"dydjz",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:25,title:"第二对角支",name:"dedjz",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:26,title:"右冠近段",name:"ygjd",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:27,title:"右冠中段",name:"ygzd",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:28,title:"右冠远段",name:"ygyd",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:29,title:"钝缘支",name:"dyz",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:30,title:"后降支",name:"hjz",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:31,title:"左主干",name:"zzg",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:32,title:"左室后支",name:"zshz",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}},{id:33,title:"剩余分段",name:"shengyufenduan",translucent:100,disabled:!1,material:{map:"",normalMap:"",roughness:.1,roughnessMap:"",normalScale:"",color:5375494,metalness:.5},parent_id:4,diseases:!1,metalness:0,materialDiseases:{map:""}}],this.refresh(),this.animate1();var e={x:0,y:0},t=null,l=null;window.addEventListener("touchstart",function(a){if(console.log(a),a.target==n.renderer.domElement){var i=a.target.getBoundingClientRect();e.x=a.touches[0].clientX-i.left,e.y=a.touches[0].clientY-i.top,e.x=e.x/window.innerWidth*2-1,e.y=-e.y/window.innerHeight*2+1;var s=new M.t(e.x,e.y,1);s.unproject(z);var r=new M.p(z.position,s.sub(z.position).normalize()).intersectObjects(j,!0);if(r.length>0)for(var o in n.dataList)r[0].object.name===n.dataList[o].name&&1==n.toggle_cut&&(n.dataList[o].id>17?l=1:(t=n.dataList[o],setTimeout(function(){n.isUpdate=!0},10)))}}),window.addEventListener("mousedown",function(a){if(a.target==n.renderer.domElement){console.log(a);var i=a.target.getBoundingClientRect();e.x=a.clientX-i.left,e.y=a.clientY-i.top,e.x=e.x/window.innerWidth*2-1,e.y=-e.y/window.innerHeight*2+1;var s=new M.t(e.x,e.y,1);s.unproject(z);var r=new M.p(z.position,s.sub(z.position).normalize()).intersectObjects(j,!0);if(r.length>0)for(var o in n.dataList)r[0].object.name===n.dataList[o].name&&1==n.toggle_cut&&(n.dataList[o].id>17?l=1:(t=n.dataList[o],setTimeout(function(){n.isUpdate=!0},10)))}}),window.addEventListener("touchend click",function(e){t&&1==n.toggle_cut?(n.destoryObj(t),C.push(t),n.myColor[0]="primary",n.toggle_cut=!1,n.myDisabled[10]=!1,t=null,setTimeout(function(){n.isUpdate=!1,n.render()},200)):l&&1==n.toggle_cut&&(n.dataList.forEach(function(e,t){n.dataList[t].id>17&&(n.destoryObj(n.dataList[t]),C.push(n.dataList[t]),n.render())}),n.myColor[0]="primary",n.toggle_cut=!1,n.myDisabled[10]=!1,l=null,setTimeout(function(){n.render(),n.isUpdate=!1},500))}),window.addEventListener("mouseup",function(e){t&&1==n.toggle_cut?(n.destoryObj(t),C.push(t),n.myColor[0]="primary",n.toggle_cut=!1,n.myDisabled[10]=!1,t=null,setTimeout(function(){n.isUpdate=!1,n.render()},200)):l&&1==n.toggle_cut&&(n.dataList.forEach(function(e,t){n.dataList[t].id>17&&(n.destoryObj(n.dataList[t]),C.push(n.dataList[t]),n.render())}),n.myColor[0]="primary",n.toggle_cut=!1,n.myDisabled[10]=!1,l=null,setTimeout(function(){n.render(),n.isUpdate=!1},500))})},n.prototype.destoryObj=function(n){var e=this;setTimeout(function(){var t=D.getObjectByName(n.name);if(t){j.forEach(function(e,t){e.name===n.name&&j.splice(t,1)}),e.dataList.forEach(function(t,l){t.name===n.name&&(e.dataList[l].translucent=0)});try{t.traverse&&(t.traverse(function(n){n.geometry.dispose(),n.material.dispose(),D.remove(n.material),D.remove(n.geometry)}),D.remove(t),t=null)}catch(n){console.log(n)}}},100)},n.prototype.unDo=function(){var n=this;if(this.myDisabled[9]=!0,this.myColor[5]="gray",setTimeout(function(){n.isUpdate=!0},100),console.log(C.length),C.length>0){S.length>0&&C[C.length-1].id<18?(S.forEach(function(e,t){if(e.Targetshapecode===C[C.length-1].name){a(C[C.length-1],S[t]),setTimeout(function(){n.render()},100)}}),l(C[C.length-1]),setTimeout(function(){C.pop()},100)):C[C.length-1].id>17?(C.forEach(function(e,t){C[t].id>17&&(S.length>0?S.forEach(function(e,i){e.Targetshapecode===C[t].name?(a(C[t],S[i]),setTimeout(function(){n.render(),S.splice(i,1)},500)):l(C[t])}):l(C[t]))}),setTimeout(function(){C.forEach(function(n,e){C[e].id>17&&setTimeout(function(){C.pop()},100)})},200)):(l(C[C.length-1]),setTimeout(function(){C.pop()},100))}setTimeout(function(){n.isUpdate=!1,n.myDisabled[9]=!1,n.render(),n.myColor[5]="primary"},300)},n.prototype.makeScene=function(){var n=this;this.isAnimating=!0,C=[],S=[],this.myDisplay="none",this.loopAray=null,this.myDisabled=[],this.myDisabled[0]=!0,setTimeout(function(){n.myDisabled[0]=!1},500),this.menuView=!0,this.models=[],this.images=[],j=[],this.myColor[1]="gray",this.myColor[2]="primary",this.myColor[3]="primary",this.myColor[4]="primary",this.animateFrame=0,D=new M.q},n.prototype.refresh=function(){var n=this;this.disease_name="",this.surgery_name="",this.isLoad=!1,this.makeScene(),this.categories.forEach(function(n){3!=n.id&&(n.translucent=100,n.destory=!1)}),D=null,z.position.set(0,0,3e3),z.lookAt(0,0,0),Z(),setTimeout(function(){j.length=0,n.dataList.forEach(function(e,t){n.dataList[t].translucent=100,n.dataList[t].disabled=!1,n.dataList[t].diseases=!1,""!=n.dataList[t].materialDiseases.map&&""!=n.dataList[t].material.map&&(n.dataList[t].material.map=O,n.dataList[t].materialDiseases.map=""),l(n.dataList[t])}),f.addEventListener("change",n.render)},100),setTimeout(function(){n.render(),n.isLoad=!0},1400)},n.prototype.cameraFront=function(){var n=this;z.position.z<0&&this.cameraPositionAnimation(z.position.x<0?-3e3:3e3,0,0),setTimeout(function(){n.cameraPositionAnimation(0,0,3e3)},300),setTimeout(function(){f.reset()},400)},n.prototype.cameraPositionAnimation=function(n,e,t){new x.Tween({x:z.position.x,y:z.position.y,z:z.position.z}).to({x:n,y:e,z:t},200).onUpdate(function(){z.position.set(this.x,this.y,this.z),z.lookAt(new M.t(0,0,0))}).onComplete(function(){z.lookAt(new M.t(0,0,0))}).start()},n.prototype.toggleCut=function(){!1===this.toggle_cut?(this.myColor[0]="gray",this.toggle_cut=!0,this.myDisabled[10]=!0):(this.myColor[0]="primary",this.toggle_cut=!1,this.myDisabled[10]=!1)},n.prototype.openDiseases=function(n,e,t,i){var s=this;this.current_vid=i,this.animationView=!1,this.diseasesId=n,this.disease_name=e,this.surgery_name=t,this.isLoad=!1,this.isAnimating=!0,this.recordIcon="microphone",S=[],this.menuView=!0,this.myMargin="-260px",this.currentFrame=0,this.animateFrame=0,this.moveLine="0px",setTimeout(function(){s.isUpdate=!0},10),setTimeout(function(){s.isUpdate=!1},6500),this.recordTime=0,f.addEventListener("change",this.render),this.myDisabled[2]=!0,setTimeout(function(){s.myDisabled[2]=!1},500),this.models=[],this.images=[],this.loopAray=[],setTimeout(function(){j.length=0,s.dataList.forEach(function(n,e){s.dataList[e].translucent=100,s.dataList[e].disabled=!1,s.dataList[e].diseases=!1,""!=s.dataList[e].materialDiseases.map&&""!=s.dataList[e].material.map&&(s.dataList[e].material.map=O,s.dataList[e].materialDiseases.map="")})},100),D=null,D=new M.q,Z(),setTimeout(function(){s.myColor[1]="dark",s.myColor[2]="gray",s.myColor[3]="dark",s.myColor[4]="dark",s.storage.get("token").then(function(e){if(s.token=e,""===s.token)s.alertCtrl.create({title:"消息",subTitle:"未登录",buttons:["OK"]}).present();else{var t=[];s.apiService.localJson(n).subscribe(function(n){console.log(n),n.Content.Visible&&(t=n.Content.Visible.split(",")),s.patientData=n.Content,n.Content.ShapeList.forEach(function(n){"image"===n.Shapetype?s.images.push({Shapecode:n.Shapecode,Targetshapecode:n.Targetshapecode,Mapurl:E.load(n.Mapurl)}):"model"===n.Shapetype&&1!=n.Move?s.models.push({Shapecode:n.Shapecode,Targetshapecode:n.Targetshapecode,Modelurl:n.Modelurl,Mapurl:n.Mapurl,Mapurl_b:n.Mapurl_b,Mapurl_n:n.Mapurl_n,Move:!1}):"model"===n.Shapetype&&!0===n.Move&&s.models.push({Shapecode:n.Shapecode,Targetshapecode:n.Targetshapecode,Modelurl:n.Modelurl,Mapurl:n.Mapurl,Mapurl_b:n.Mapurl_b,Mapurl_n:n.Mapurl_n,Move:!0})});var e=!1;s.models.forEach(function(t){t.Move?(e=!0,s.animationView=!0,setTimeout(function(){s.dataList.forEach(function(n,e){s.dataList[e].diseases=!0,s.translucentObj(s.dataList[e],0)});var n=new M.h;new Promise(function(e,l){n.load(t.Modelurl,function(n){var t=new M.j({vertexColors:M.g,map:O,normalMap:F,roughness:.5,roughnessMap:A,metalness:.2,morphTargets:!0});e(new M.k(n,t))})}).then(function(n){var e=n;e.geometry.computeVertexNormals(),e.traverse&&e.traverse(function(n){n.material&&(n.material.transparent=!0,n.material.depthTest=!0,n.material.side=M.f)},Y,I),e.position.y=100,e.scale.set(.9,.9,.9),e.name="animationModel",D.add(e),e=null})},10),setTimeout(function(){s.isPlay=!0,s.myDisabled[7]=!0,s.myMargin="-260px",s.animateFrame=0,s.menuView=!0,s.myDisplay="block",s.currentFrame=0;var e=s.graphCanvas.nativeElement.getContext("2d");e.clearRect(0,0,s.graphCanvas.nativeElement.width,s.graphCanvas.nativeElement.height),e.strokeStyle="lime",e.beginPath();var t=0,l="";n.Content.Modelcontent.forEach(function(n,a){n.Percent<0?(l!=n.Model?(l=n.Model,t=-n.Percent):t--,s.loopAray.push({model:n.Model,percent:t,total:-n.Percent})):(l!=n.Model?(l=n.Model,t=0):t++,s.loopAray.push({model:n.Model,percent:t,total:n.Percent})),e.lineTo(2*a,50-25*n.Height)}),e.stroke(),s.selectedObject=D.getObjectByName("animationModel"),f.addEventListener("change",s.render),f.update(),s.isLoad=!0,s.animationView=!0},1200)):(s.dataList.forEach(function(n,e){t.Targetshapecode===n.name&&(s.dataList[e].diseases=!0,s.translucentObj(s.dataList[e],0),a(n,t),S.push(t),s.isLoad=!0)}),setTimeout(function(){s.render(),s.isLoad=!0},140))}),e||setTimeout(function(){try{s.dataList.forEach(function(n){""!=n.material.map&&s.images[0]&&(n.material.map=s.images[0].Mapurl,n.materialDiseases.map="1");var e=t.filter(function(n,e,t){return t.indexOf(n)===e});n.translucent=100;var a=!1;e.forEach(function(e){n.name===e&&(a=!0)}),a&&(console.log("inin"),l(n))}),setTimeout(function(){s.render(),s.isLoad=!0,console.log("aaa")},1400),s.animateFrame=0}catch(n){console.log(n)}},100)})}})},100)},n.prototype.translucentObj=function(n,e){var t=this;setTimeout(function(){var a=!1;if(j.forEach(function(e,t){e.name===n.name&&(a=!0)}),a){var i=D.getObjectByName(n.name);try{i.traverse&&i.traverse(function(n){n.material&&(n.material.opacity=e,n.material.transparent=!0,n.material.depthTest=!0,n.renderOrder=n.renderOrder+1)})}catch(n){console.log(n)}}else l(n);t.isUpdate=!0},200),setTimeout(function(){t.isUpdate=!1},500)},n.prototype.changeNormal=function(){var n=this;this.animationView=!1,this.myDisabled[1]=!0,this.isPlay=!1,this.myColor[1]="gray",this.myColor[2]="dark",this.myColor[3]="dark",this.myColor[4]="dark",this.refresh(),setTimeout(function(){n.myDisabled[1]=!1},500)},n.prototype.playAnimation=function(){var n=this;this.myDisabled[7]=!0,this.myDisabled[8]=!1,this.isPlay=!0,setTimeout(function(){n.myDisabled[7]=!1},500)},n.prototype.pauseAnimation=function(){var n=this;console.log(z),this.myDisabled[7]=!1,this.myDisabled[8]=!0,this.isPlay=!1,setTimeout(function(){n.myDisabled[8]=!1},500),this.render()},n.prototype.openModal=function(){var n=this,e=this.modalCtrl.create("RecordsPage");e.onDidDismiss(function(e){n.modalCtrl.create("RecordDetailPage",{data:e.id}).present(),console.log(e)}),e.present()},n}(),q=function(){function n(n,e){this.navCtrl=n,this.navParams=e}return n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad MainPage")},n}(),R=function(){return function(){}}(),B=t(185),N=t(186),W=t(187),H=t(188),X=t(189),Q=t(190),G=t(191),J=t(192),K=t(193),$=t(194),nn=t(21),en=t(1),tn=t(3),ln=t(9),an=t(8),sn=t(24),rn=t(4),on=t(19),un=t(39),dn=t(20),mn=t(40),cn=t(197),hn=t(55),pn=t(113),fn=v.X({encapsulation:2,styles:[],data:{}}),gn=t(53),_n=v.X({encapsulation:2,styles:[],data:{}}),yn=t(75),bn=t(16),vn=t(70),wn=t(72),Mn=t(69),xn=t(73),Dn=t(109),Tn=v.X({encapsulation:2,styles:[],data:{}}),jn=t(10),Cn=v.X({encapsulation:2,styles:[],data:{}}),Sn=v.V("page-main",q,function(n){return v._22(0,[(n()(),v.Z(0,0,null,null,1,"page-main",[],null,null,null,p,Cn)),v.Y(1,49152,null,0,q,[on.a,jn.a],null,null)],null,null)},{},{},[]),kn=t(17),Ln=t(112),zn=t(36);t.d(e,"MainPageModuleNgFactory",function(){return In});var In=v.W(R,[],function(n){return v._7([v._8(512,v.i,v.S,[[8,[B.a,N.a,W.a,H.a,X.a,Q.a,G.a,J.a,K.a,Sn]],[3,v.i],v.s]),v._8(4608,bn.l,bn.k,[v.r,[2,bn.t]]),v._8(4608,kn.k,kn.k,[]),v._8(4608,kn.c,kn.c,[]),v._8(512,bn.b,bn.b,[]),v._8(512,kn.j,kn.j,[]),v._8(512,kn.d,kn.d,[]),v._8(512,kn.i,kn.i,[]),v._8(512,Ln.a,Ln.a,[]),v._8(512,Ln.b,Ln.b,[]),v._8(512,R,R,[]),v._8(256,zn.a,q,[])])})},245:function(n,e,t){(function(t){var l,a=function(){this._tweens={},this._tweensAddedDuringUpdate={}};a.prototype={getAll:function(){return Object.keys(this._tweens).map(function(n){return this._tweens[n]}.bind(this))},removeAll:function(){this._tweens={}},add:function(n){this._tweens[n.getId()]=n,this._tweensAddedDuringUpdate[n.getId()]=n},remove:function(n){delete this._tweens[n.getId()],delete this._tweensAddedDuringUpdate[n.getId()]},update:function(n,e){var t=Object.keys(this._tweens);if(0===t.length)return!1;for(n=void 0!==n?n:i.now();t.length>0;){this._tweensAddedDuringUpdate={};for(var l=0;l<t.length;l++){var a=this._tweens[t[l]];a&&!1===a.update(n)&&(a._isPlaying=!1,e||delete this._tweens[t[l]])}t=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var i=new a;i.Group=a,i._nextId=0,i.nextId=function(){return i._nextId++},i.now="undefined"==typeof window&&void 0!==t?function(){var n=t.hrtime();return 1e3*n[0]+n[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now.bind(window.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},i.Tween=function(n,e){this._object=n,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=i.Easing.Linear.None,this._interpolationFunction=i.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||i,this._id=i.nextId()},i.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(n,e){return this._valuesEnd=n,void 0!==e&&(this._duration=e),this},start:function(n){this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==n?"string"==typeof n?i.now()+parseFloat(n):n:i.now(),this._startTime+=this._delayTime;for(var e in this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==!1&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var n=0,e=this._chainedTweens.length;n<e;n++)this._chainedTweens[n].stop()},group:function(n){return this._group=n,this},delay:function(n){return this._delayTime=n,this},repeat:function(n){return this._repeat=n,this},repeatDelay:function(n){return this._repeatDelayTime=n,this},yoyo:function(n){return this._yoyo=n,this},easing:function(n){return this._easingFunction=n,this},interpolation:function(n){return this._interpolationFunction=n,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(n){return this._onStartCallback=n,this},onUpdate:function(n){return this._onUpdateCallback=n,this},onComplete:function(n){return this._onCompleteCallback=n,this},onStop:function(n){return this._onStopCallback=n,this},update:function(n){var e,t,l;if(n<this._startTime)return!0;!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),t=(n-this._startTime)/this._duration,l=this._easingFunction(t=0===this._duration||t>1?1:t);for(e in this._valuesEnd)if(void 0!==this._valuesStart[e]){var a=this._valuesStart[e]||0,i=this._valuesEnd[e];i instanceof Array?this._object[e]=this._interpolationFunction(i,l):("string"==typeof i&&(i="+"===i.charAt(0)||"-"===i.charAt(0)?a+parseFloat(i):parseFloat(i)),"number"==typeof i&&(this._object[e]=a+(i-a)*l))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1===t){if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(e in this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var s=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=s}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0!==this._repeatDelayTime?n+this._repeatDelayTime:n+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var r=0,o=this._chainedTweens.length;r<o;r++)this._chainedTweens[r].start(this._startTime+this._duration);return!1}return!0}},i.Easing={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return.5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return 0===n?0:Math.pow(1024,n-1)},Out:function(n){return 1===n?1:1-Math.pow(2,-10*n)},InOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){return 0===n?0:1===n?1:-Math.pow(2,10*(n-1))*Math.sin(5*(n-1.1)*Math.PI)},Out:function(n){return 0===n?0:1===n?1:Math.pow(2,-10*n)*Math.sin(5*(n-.1)*Math.PI)+1},InOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?-.5*Math.pow(2,10*(n-1))*Math.sin(5*(n-1.1)*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin(5*(n-1.1)*Math.PI)+1}},Back:{In:function(n){return n*n*(2.70158*n-1.70158)},Out:function(n){return--n*n*(2.70158*n+1.70158)+1},InOut:function(n){return(n*=2)<1?n*n*(3.5949095*n-2.5949095)*.5:.5*((n-=2)*n*(3.5949095*n+2.5949095)+2)}},Bounce:{In:function(n){return 1-i.Easing.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?.5*i.Easing.Bounce.In(2*n):.5*i.Easing.Bounce.Out(2*n-1)+.5}}},i.Interpolation={Linear:function(n,e){var t=n.length-1,l=t*e,a=Math.floor(l),s=i.Interpolation.Utils.Linear;return e<0?s(n[0],n[1],l):e>1?s(n[t],n[t-1],t-l):s(n[a],n[a+1>t?t:a+1],l-a)},Bezier:function(n,e){for(var t=0,l=n.length-1,a=Math.pow,s=i.Interpolation.Utils.Bernstein,r=0;r<=l;r++)t+=a(1-e,l-r)*a(e,r)*n[r]*s(l,r);return t},CatmullRom:function(n,e){var t=n.length-1,l=t*e,a=Math.floor(l),s=i.Interpolation.Utils.CatmullRom;return n[0]===n[t]?(e<0&&(a=Math.floor(l=t*(1+e))),s(n[(a-1+t)%t],n[a],n[(a+1)%t],n[(a+2)%t],l-a)):e<0?n[0]-(s(n[0],n[0],n[1],n[1],-l)-n[0]):e>1?n[t]-(s(n[t],n[t],n[t-1],n[t-1],l-t)-n[t]):s(n[a?a-1:0],n[a],n[t<a+1?t:a+1],n[t<a+2?t:a+2],l-a)},Utils:{Linear:function(n,e,t){return(e-n)*t+n},Bernstein:function(n,e){var t=i.Interpolation.Utils.Factorial;return t(n)/t(e)/t(n-e)},Factorial:function(){var n=[1];return function(e){var t=1;if(n[e])return n[e];for(var l=e;l>1;l--)t*=l;return n[e]=t,t}}(),CatmullRom:function(n,e,t,l,a){var i=.5*(t-n),s=.5*(l-e),r=a*a;return(2*e-2*t+i+s)*(a*r)+(-3*e+3*t-2*i-s)*r+i*a+e}}},void 0===(l=function(){return i}.apply(e,[]))||(n.exports=l)}).call(e,t(246))},246:function(n,e){function t(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function a(n){if(u===setTimeout)return setTimeout(n,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(n,0);try{return u(n,0)}catch(e){try{return u.call(null,n,0)}catch(e){return u.call(this,n,0)}}}function i(){p&&c&&(p=!1,c.length?h=c.concat(h):f=-1,h.length&&s())}function s(){if(!p){var n=a(i);p=!0;for(var e=h.length;e;){for(c=h,h=[];++f<e;)c&&c[f].run();f=-1,e=h.length}c=null,p=!1,function(n){if(d===clearTimeout)return clearTimeout(n);if((d===l||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(n);try{d(n)}catch(e){try{return d.call(null,n)}catch(e){return d.call(this,n)}}}(n)}}function r(n,e){this.fun=n,this.array=e}function o(){}var u,d,m=n.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:t}catch(n){u=t}try{d="function"==typeof clearTimeout?clearTimeout:l}catch(n){d=l}}();var c,h=[],p=!1,f=-1;m.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];h.push(new r(n,e)),1!==h.length||p||a(s)},r.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=o,m.addListener=o,m.once=o,m.off=o,m.removeListener=o,m.removeAllListeners=o,m.emit=o,m.prependListener=o,m.prependOnceListener=o,m.listeners=function(n){return[]},m.binding=function(n){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(n){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}}});